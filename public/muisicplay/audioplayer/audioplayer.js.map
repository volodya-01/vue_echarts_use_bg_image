{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../source/audioplayer/jsinc/_dzsap_helpers.js","webpack:///../source/audioplayer/jsinc/_dzsap_svgs.js","webpack:///../source/audioplayer/configs/_constants.js","webpack:///../source/audioplayer/js_common/_dzs_helpers.js","webpack:///../source/audioplayer/jsinc/_dzsap_ajax.js","webpack:///../source/audioplayer/audioplayer.sourcepack.js","webpack:///../source/audioplayer/jsinc/_dzsap_playlist.js","webpack:///../source/audioplayer/jsinc/components/_nav.js","webpack:///../source/audioplayer/configs/_settingsPlaylist.js","webpack:///../source/audioplayer/jsinc/_dzsap_misc.js","webpack:///../source/audioplayer/jsinc/components/_structure.js","webpack:///../source/audioplayer/jsinc/wave-render/_wave-render-functions.js","webpack:///../source/audioplayer/jsinc/media/_media_functions.js","webpack:///../source/audioplayer/configs/_settingsPlayer.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","dzsapSvgs","dzsap_generate_keyboard_controls","keyboard_controls","window","dzsap_keyboard_controls","jQuery","extend","step_back_amount","Number","formatTime","arg","Math","round","h","isFinite","String","can_history_api","history","pushState","dzs_clean_string","replace","get_query_arg","purl","indexOf","regtest","RegExp","exec","splitterS","aux","split","console","log","add_query_arg","pair","encodeURIComponent","regex_attr","dzsap_is_mobile","is_ios","is_android_good","navigator","platform","can_canvas","document","createElement","getContext","is_android","select_all","el","getSelection","createRange","range","selectNodeContents","sel","removeAllRanges","addRange","selection","body","createTextRange","textRange","moveToElementText","select","userAgent","toLowerCase","htmlEncode","text","html","dzsap_generate_keyboard_tooltip","lab","fout","youtube_playMedia","selfClass","margs","yt_inited","yt_curr_id","$mediaNode_","playVideo","retry_call","call_from","playerIsLoaded","youtube_checkReady","youtube_retryPlayTimeout","setTimeout","args","play_media","err","MD5","e","g","a","b","f","k","q","toString","substr","length","Array","charCodeAt","fromCharCode","u","v","handle_keypresses","$","dzsap_currplayer_focused","api_pause_media","sw_pressed","pause_play","ctrlKey","keyCode","hasClass","api_play_media","dzsap_mouseover","preventDefault","step_back","api_step_back","step_forward","api_step_forward","sync_players_goto_next","api_sync_players_goto_next","sync_players_goto_prev","api_sync_players_goto_prev","hexToRgb","hex","palpha","result","str","alpha","parseInt","player_checkIfWeShouldShowAComment","real_time_curr","real_time_total","timer_curr_perc","audioType","timeCurrent","timeTotal","_commentsHolder","children","each","_t","this","_t_posx","offset","left","parseFloat","outerWidth","abs","find","removeClass","addClass","sanitizeObjectForChangeMediaArgs","_sourceForChange","changeMediaArgs","_feed_fakePlayer","data","source","attr","pcm","thumb_link","artist","eq","song_name","thumb","watermark","watermark_volume","player_determineActualPlayer","cthis","_c","_actualPlayer","actualDataTypeOfMedia","player_determineProperties","player_detect_skinwave_mode","skinwave_mode","initOptions","drawSpectrum","argarray","_scrubbarbg_canvas","scrubbar_modeWave_clearObsoleteCanvas","_scrubbar","remove","scrubbar_modeWave_setupCanvas","pargs","prepare_for_transition_in","assign","append","struct_scrubBg_str","struct_scrubProg_str","last","_scrubbarprog_canvas","skinwave_enableSpectrum","hide","assignHelperFunctionsToJquery","fn","prependOnce","argfind","auxarr","prepend","appendOnce","registerTextWidth","textWidth","html_org","nodeName","val","html_calcS","_lastspan","css","width","dzsapInitjQueryRegisters","dzsap_generate_list_for_sync_players","dzsap_list_for_sync_players","settings","construct_player_list_for_sync","force_regenerate","_t2","push","off","on","toggleClass","innerWidth","miscFunctions","dzsap_send_total_time","argtime","argcthis","action","id_track","postdata","post","dzsap_ajaxurl","response","undefined","dzs_open_social_link","argthis","leftPosition","topPosition","windowFeatures","screen","height","location","href","auxa","cid","cid_gallery","dzsap_currplayer_from_share","parent","index","shareurl","open","dzsap_wp_send_contor_60_secs","argtitle","video_title","video_analytics_id","curr_user","dzsap_curr_user","theajaxurl","dzsap_settings","dzsap_site_url","ajax","type","url","success","error","dzsap_init_multisharer","dzsap_multisharer_assets_loaded","loading_multi_sharer","head","getElementsByTagName","link","id","rel","media","appendChild","dzsap_box_main_con","svg_close_btn","dzsap_submit_like","argp","playerid","currentTarget","ajax_url","htmlaux","dzsap_retract_like","jQueryAuxBindings","api_change_media","wishlist_action","dzsap_lasto","settings_php_handler","_con","setInterval","_c_mc","overwrite_this","dzsap_social_feed_for_social_networks","dzsap_social_feed_for_share_link","newloc","aux_social","dzsap_social_feed_for_embed_link","replace_str","htmlEntities","selectText","lightbox_open","open_dzsap_lightbox","_target","api_filter","selectNode","ajax_submit_views","the_player_id","currIp","data_source","increment_views","ajax_view_submitted","currip","auxnr","decode_json","auxlikes","configureAudioPlayerOptionsInitial","isNaN","design_thumbh","skinwave_wave_mode_canvas_normalize","skinwave_wave_mode_canvas_waves_number","autoplay","cue","preload_method","extra_classes_player","design_skin","test","scrubbar_type","starrating_alreadyrated","disable_volume","disable_scrub","disable_timer","design_color_bg","design_wave_color_bg","design_color_highlight","design_wave_color_progress","design_animateplaypause","skinwave_wave_mode_canvas_mode","skinwave_wave_mode_canvas_reflection_size","embed_code","php_handler","urlToAjaxHandler","sanitize_from_point_time","arr","player_initSpectrumOnUserAction","handleMouseDown","dzsap_audio_ctx","AudioContext","spectrum_audioContext","webkitAudioContext","createOscillator","destination","spectrum_analyser","createAnalyser","smoothingTimeConstant","fftSize","crossOrigin","spectrum_mediaElementSource","createMediaElementSource","connect","createGain","spectrum_gainNode","gain","frameCount","sampleRate","spectrum_audioContext_buffer","createBuffer","addEventListener","once","player_stopOtherPlayers","dzsap_list","api_destroy_for_rebuffer","player_constructArtistAndSongCon","structHtml","_metaArtistCon","_conControls","_audioplayerInner","wrap","_apControls","_apControlsRight","_apControlsLeft","after","_conPlayPauseCon","before","convertPluginOptionsToFinalOptions","elThis","defaultOptions","argOptions","searchedAttr","finalOptions","tempOptions","sw_setFromJson","_elThis","JSON","parse","eval","aux_opts","generateFakeArrayForPcm","it1","random","svg_preloader_code","svg_footer_playlist","svg_pause","svg_embed_btn","svg_prev_btn","svg_next_btn","svg_prev_btn_steel","svg_next_btn_steel","svg_menu_state","svg_volume","svg_play_icon","svg_heart_icon","svg_arrow_resize","svg_volume_static","svg_embed_button","playbtn_svg","svg_share_icon","pausebtn_svg","constants","PLAYLIST_TRANSITION_DURATION","URL_WAVESURFER","WAVESURFER_MAX_TIMEOUT","DEBUG_STYLE_PLAY_FUNCTIONS","isInt","isValid","dzsHelpers","dzsapHelpers","ajax_get_views","responseViews","views","auxhtml","index_extrahtml_toloads","ajax_submit_rating","resp_arr","nrrates","starrating_index","number","parentgallery","api_player_rateSubmitted","aux2","ajax_submit_like","refferer","ajax_retract_like","ajax_comment_publish","comm_position","commentPositionPerc","skinwave_comments_process_in_php","skinwave_comments_avatar","skinwave_comments_account","email","charAt","slice","action_audio_comment","dzsap_init_calls","require","dzsapPlaylist","dzsapAjax","dzsapMisc","dzsapStructure","dzsapWaveFunctions","ConstantsDzsAp","dzsapMediaFuncs","dzsap_yt_list","dzsap_ytapiloaded","dzsap_globalidind","dzsap_list_for_sync_sw_built","dzsap_list_for_sync_inter_build","dzsap_moving_playlist_item","dzsap_playlist_con","dzsap_playlist_item_moving","dzsap_playlist_item_target","dzsap_player_interrupted_by_dzsap","dzsap__style","dzsap_sticktobottom_con","dzsap_self_options","dzsap_generating_pcm","dzsap_wavesurfer_load_attempt","dzsap_player_index","DzsAudioPlayer","argThis","sample_time_start","sample_time_end","sample_time_total","pseudo_sample_time_start","pseudo_sample_time_end","pseudo_sample_time_total","playlist_inner_currNr","_feed_fakeButton","_sourcePlayer","$theMedia","$conPlayPause","$conControls","$$scrubbProg","$controlsVolume","$currTime","$totalTime","$watermarkMedia_","spectrum_audioContextBufferSource","isMultiSharer","lastArray","last_lastArray","player_playing","lastTimeInSeconds","settings_extrahtml_in_float_right","identifier_pcm","isRealPcm","isPcmTryingToGenerate","isPcmPromisingToGenerateOnMetaLoad","isPlayPromised","isCanvasFirstDrawn","src_real_mp3","original_real_mp3","skin_minimal_canvasplay","classInit","tw","inter_checkReady","cthisId","cclass","sw","spos","_commentsSelector","_playlistTooltip","_scrubBgCanvas","_commentsWriter","muted","destroyed","google_analytics_sent_play_event","destroyed_for_rebuffer","loop_active","dzsap_can_canvas","scrub_showing_scrub_time","setuped_listeners","setuped_media","safe_to_change_track","last_time_total","time_curr_for_visual","time_curr_for_real","time_total_for_visual","time_total_for_real","attempt_reload","currTime_outerWidth","player_index_in_gallery","volume_lastVolume","last_vol_before_mute","inter_ended","inter_60_secs_contor","res_thumbh","volume_dragging","volume_set_by_user","is_under_400","sent_received_time_total","ended","_sticktobottom","skin_minimal_button_size","scrubbar_moving","scrubbar_moving_x","aux3","radio_update_artist_name","radio_update_song_name","_feed_extra_html","dataSrc","canw","canh","_commentsChildren","str_audio_element","starrating_nrrates","playfrom","playfrom_ready","defaultVolume","action_audio_end","action_audio_play","action_audio_play2","action_audio_pause","sw_suspend_enter_frame","type_normal_stream_type","duration_viy","begin_viy","change_viy","draw_canvas_inter","func_audio_error","settle_sample_times","sample_perc_start","sample_perc_end","icecast_shoutcast_get_data","crossDomain","documentElement","innerHTML","new_title","new_artist","setup_media","check_every_05_secs","currentTime","seek_to","duration","getDuration","getCurrentTime","Storage","localStorage","skinwave_comments_displayontime","load_yt_api","tag","src","firstScriptTag","parentNode","insertBefore","comments_selector_event","add_comments_placeholder","comment_email","comment_submit","calculate_dims_time","reflection_size","scrubbarh","top","outerHeight","change_visual_target","api_pause_media_visual","__c","api_play_media_visual","api_draw_curr_time","api_set_time_curr","api_get_times","api_check_time","api_draw_scrub_prog","change_design_color_highlight","skinwave_wave_mode","draw_canvas","skinwave_wave_mode_canvas_waves_padding","change_media","_argSource","changeMediaArgsDefaults","fakeplayer_is_feeder","feeder_type","source_player_do_not_update","handle_resize_delay","media_changed_index","isSourceAStringSource","sw_pause_old_player","isSourceHasClassForDomSource","destroy_media","original_type","scrubModeWave__transitionIn","scrubModeWave__initGenerateWaveData","wave_mode_canvas_try_to_get_pcm","struct_generate_thumb","setup_pcm_random_for_now","ind","_cach","_el","retrieve_soundcloud_url","action_audio_change_media","play_media_visual","handleResize","destroy_listeners","destroy_it","pause_media","click_for_setup_media","unbind","click_menu_state","api_toggle_menu_state","click_comments_bg","lmx","clientX","skinwave_comments_links_to","skinwave_comments_allow_post_if_not_logged_in","lmx2","comments_offset","aux4","api_handleResize","click_cancel_comment","hide_comments_writer","comment_text","comment_username","comm_author","alert","api_player_commentSubmitted","click_submit_comment","argid","YT","Player","videoId","playerVars","origin","controls","autohide","wmode","iv_load_policy","events","check_yt_ready_phase_two","change_yt_state","init_loaded","check_ready","HTMLElement","readyState","clearInterval","action_audio_loaded_metadata","scrubbar_reveal","aux_thumb_con_str","apply_skinwave_mode_class","playlist_goto_item","api_goto_item","player_setup_playlist_inner","attributes","specified","handle_mouse","my","clientY","tmy","setup_controls_commentsHolder","wrapInner","setup_structure_extras","next","enable_embed_button","execCommand","footer_btn_playlist","settings_extrahtml","auxls","auxresponse","ajax_get_rates","unwrap","setup_structure_sanitizers","outerHTML","wrapAll","check_multisharer","default_pcm","pcm_data_try_to_generate","pcm_data_try_to_generate_wait_for_real_pcm","i3","toFixed","stringify","setup_structure_scrub","ajax_submit_download","settings_exclude_from_list","called_from","destroy","fn_yt_ready","str_open_audio_tag","aux_source","str_close_audio_tag","pause","load","volume","audioElement","target","networkState","HTMLMediaElement","NETWORK_NO_SOURCE","earg","notice_no_media","txt","message","volume_setVolume","click_playpause","failsafe_repair_media_element","aux_wasplaying","destroy_cmedia","removeEventListener","setup_listeners","handleMouseOnScrubbar","volume_handleClickMuteIcon","volume_handleMouse","settings_trigger_resize","click_like","has","get_last_vol","handle_end","clearTimeout","scrubModeWave__checkIfWeShouldTryToGetPcm","type_audio_stop_buffer_on_unfocus","default_volume","getItem","volume_from_gallery","do_not_autoplay","handleTickChange","get_times","action_video_contor_60secs","count_60secs","api_goto_prev","api_goto_next","api_seek_to_0","api_playback_slow","api_playback_reset","clone","_clone","preview_on_hover","seek_to_perc","mouse_starrating","mx","pageX","draw_curr_time","Uint8Array","frequencyBinCount","getByteFrequencyData","len","last_lastarray","easeIn","drawMeter","skinwave_timer_static","action_received_time_total","fadeIn","draw_scrub_prog","style","fire_only_once","requestAnimFrame","api_get_time_curr","api_get_time_total","api_set_time_total","api_seek_to_visual","temp_time_curr","ctx_minimal","ctx_w","ctx_h","pw","ph","PI","clearRect","beginPath","arc","fillStyle","fill","lineWidth","strokeStyle","stroke","stopPropagation","sw_cancel_toggle","it3","center_x","center_y","mouse_x","mouse_y","pageY","pzero_x","pzero_y","AB","sqrt","pow","AC","BC","perc","acos","tempNr","i24","_ctarget","$currentSyncPlayer_","_c_","loop","api_gallery_handle_end","api_handle_end","cthis_height","reconstruct_player","draw_canvas_inter_func","_metaArtistCon_w","_metaArtistCon_l","embedded","frameElement","embedded_iframe_id","params","postMessage","restyle_player_over_400","restyle_player_under_400","setup_structure","mouseXRelativeToVolume","mousex","scrub_show_scrub_time","targetPositionOnScrub","api_seek_to_perc","autoplay_on_scrub_click","argperc","deeplinking","newlink","foo","api_seek_to","seekTo","seek_to_visual","set_playback_speed","setPlaybackRate","playbackRate","setVolume","volume_setOnlyVisual","api_visual_set_volume","api_set_volume","skinwave_dynamicwaves","setItem","pause_media_visual","call_actual_player","donot_change_media","media_pause","call_from_aux","delay","google_analytics_send_play_event","_gaq","ga","__gaTracker","hitType","eventCategory","eventAction","eventLabel","api_regenerate_sync_players_with_this_playlist","api_regenerate_playerlist_inner","play","media_tryToPlay","api_try_to_submit_view","try_to_submit_view","play_trigger_step_back","wavesurfer_pcm_length","skinwave_preloader_code","settings_extrahtml_in_float_left","mobile_delete","prev","skinwave_comments_playerid","skinwave_comments_enable","mobile_disable_fakeplayer","re_ratesubmitted","lastIndex","_t23","_feed_obj","skinwave_comments_retrievefromajax","str_comments_holder","original_id","api_destroy","api_play","api_get_last_vol","api_click_for_setup_media","api_init_loaded","api_set_playback_speed","api_destroy_listeners","api_change_visual_target","api_change_design_color_highlight","api_set_action_audio_play","api_set_action_audio_pause","api_set_action_audio_end","api_set_action_audio_comment","passive","originalEvent","touches","skinwave_comments_mode_outer_selector","init","register_dzsap_plugin","dzsap_list_for_sync_build","audioplayer","default_opts","registerToJquery","dzsag_init","selector","init_each","keys","audiogallery","register_dzsap_aux_script","ready","handle_resize_dzsap_main","inter_resize","handle_resize_dzsap_main_doit","dzsap_init","dzsap_call_init_calls","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","script","onload","element_count","ZoomSoundsNav","Constants","DzsApPlaylist","navClass","_sliderMain","_sliderClipper","_navMain","_navClipper","selfGallery","cgallery","currNr","lastCurrNr","nrChildren","busy","first","skin_redlight_give_controls_right_to_all_players","trying_to_get_track_data","arr_menuitems","track_data","str_alertBeforeRate","target_viy","destroy_gallery","filter","argby","filterForIsotope","referenceVal","isotope","fadeOut","regenerate_sync_players_with_this_playlist","init_parse_track_data","parse_track_data","parseTrackData","get_nr_children","reinit","notInitedPlayersLength","menuDescriptionHtml","auxer","extra_class","menu_description","player_id","click_downloadAfterRate","play_curr_media","mode_showall_listen_for_play","settings_mode","currNr_2","handle_frame","finish_viy","toggle_menu_state","gallery_handle_end","autoplayNext","goto_next","player_commentSubmitted","player_rateSubmitted","calculateDims","mode_normal_video_mode","calculate_on_interval","transition_end","newCurrNr","transition_bg_end","goto_prev","sw_goto_item","loop_playlist","goto_item","donotopenlink","_audioplayerToBeActive","currNr_last_vol","settings_ap","design_menu_show_player_state_button","cueFirstMedia","args_player","player_navigation","init_player_from_gallery","_arg","ignore_linking","settings_enable_linking","playlistTransition","bgimage","animate","queue","complete","step","_cache","player_args","_firstPlayer","design_menu_width","design_menu_height","design_menu_position","auxlen","disable_player_navigation","get_structZoomsoundsNav","mode_showall_layout","set_elements","init_ready","api_skin_redlights_give_controls_right_to_all","force_autoplay_when_coming_from_share_link","settings_mode_showall_show_number","itemSelector","layoutMode","percentPosition","masonry","columnWidth","api_reinit","api_play_curr_media","api_get_nr_children","api_init_player_from_gallery","enable_easing","_ag","linkedClassInstance","parentGallery","structZoomsoundsNav","size_navMainClipSize","size_navMainTotalSize","navigation_method","self","navMain_mousemove","viy","aux_error","click_menuitem","disable_menu_navigation","design_menu_state","foundnr","aux_html","label","design_menu_space","design_menuitem_width","design_menuitem_height","design_menuitem_space","menu_facebook_share","soundcloud_apikey","soundcloud_retriever","php_retriever","async","dataType","stream_url","feed_fakeButton","structure_str_apControls","setup_inner_player","setup_otherstructure","img","Image","aux_str_time","structure_str_scrubbar","aux_str_con_controls","controls_external_scrubbar","struct_con_playpause","settings_extrahtml_before_play_pause","show_tooltips","has_svg_icons","aux_str_con_volume","settings_extrahtml_in_float_right_str","skinwave_place_metaartist_after_volume","_controlsVolume","settings_extrahtml_after_artist","skinwave_place_thumb_after_volume","prev_btn_str","next_btn_str","auxs","_c_html","dzsapConstants","Promise","resolve","reject","resolve_type","error_type","tryToLoad","tryToGetPcm","then","isWeShouldGetPcm","argpcm","WaveSurfer","scrubModeWave__generateWaveData","pcm_notice","scripts","baseUrl","i23","baseUrl_arr","wavesurferUrl","promise","tryToLoad_waveSurferScript","asyncLoadWaveSurfer","call_attempt","DEBUG_STYLE_1","asyncRenderPcm","wavesurferConId","ceil","wavesurfer","container","normalize","pixelRatio","accuracy","ar_str","exportPCM","pcm_data","err2","error_message","wavesurfer_renderPcm","scrubModeWave__sendPcm","catch","DEBUG_STYLE_ERROR","map","pcm_arr","hexcolor","_canvas","__canvas","static_hexcolor","sw_draw","is_sample","_canvasContext","ar","imageSmoothingEnabled","imageSmoothing","imageSmoothingQuality","webkitImageSmoothing","max","cww","chh","ar_new","gradient","bar_len","bar_space","bar_w","normal_size_ratio","lastval","searched_index","temp_hex","hexcolors","progress_hexcolor","progress_hexcolors","is_progress","sampleDetermineIfCurrentDrawIsBeforeOrAfterSample","save","barh_normal","floor","y","rect","createLinearGradient","addColorStop","closePath","restore","barh_ref","callbackFn","errorFn","createBufferSource","buffer","start","tryToPlay","async_media_tryToPlay","pauseVideo","pause_method","destroy$mediaNode_","settings_extrahtml_after_play_pause","skinwave_spectrummultiplier","fakeplayer","gallery_gapless_play"],"mappings":"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","file":"audioplayer.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","const dzsapSvgs = require('./_dzsap_svgs');\n\nconst dzsap_generate_keyboard_controls = function () {\n  var keyboard_controls = {\n    'play_trigger_step_back': 'off'\n    , 'step_back_amount': '5'\n    , 'step_back': '37'\n    , 'step_forward': '39'\n    , 'sync_players_goto_next': ''\n    , 'sync_players_goto_prev': ''\n    , 'pause_play': '32'\n    , 'show_tooltips': 'off'\n  }\n\n\n  if (window.dzsap_keyboard_controls) {\n    // console.log('keyboard_controls - ',keyboard_controls);\n    // console.log('window.dzsap_keyboard_controls - ',window.dzsap_keyboard_controls);\n    keyboard_controls = jQuery.extend(keyboard_controls, window.dzsap_keyboard_controls);\n  }\n\n  keyboard_controls.step_back_amount = Number(keyboard_controls.step_back_amount);\n\n  return keyboard_controls;\n};\n\n\nfunction formatTime(arg) {\n  //formats the time\n  var s = Math.round(arg);\n  var m = 0;\n  var h = 0;\n  if (s > 0) {\n    while (s > 3599 && s < 3000000 && isFinite(s)) {\n      h++;\n      s -= 3600;\n    }\n    while (s > 59 && s < 3000000 && isFinite(s)) {\n      m++;\n      s -= 60;\n    }\n    if (h) {\n\n      return String((h < 10 ? \"0\" : \"\") + h + \":\" + String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s));\n    }\n    return String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s);\n  } else {\n    return \"00:00\";\n  }\n}\n\nfunction can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\nfunction dzs_clean_string(arg) {\n\n  if (arg) {\n\n    arg = arg.replace(/[^A-Za-z0-9\\-]/g, '');\n    //console.log(arg);\n    arg = arg.replace(/\\./g, '');\n    return arg;\n  }\n\n  return '';\n\n\n  //console.log(arg);\n\n\n}\n\n\nfunction get_query_arg(purl, key) {\n  if (purl) {\n    // console.log('purl - ',purl);\n    if (String(purl).indexOf(key + '=') > -1) {\n      //faconsole.log('testtt');\n      var regexS = \"[?&]\" + key + \"=.+\";\n      var regex = new RegExp(regexS);\n      var regtest = regex.exec(purl);\n      //console.log(regtest);\n\n      if (regtest != null) {\n        var splitterS = regtest[0];\n        if (splitterS.indexOf('&') > -1) {\n          var aux = splitterS.split('&');\n          splitterS = aux[1];\n        }\n        //console.log(splitterS);\n        var splitter = splitterS.split('=');\n        //console.log(splitter[1]);\n        //var tempNr = ;\n\n        return splitter[1];\n\n      }\n      //$('.zoombox').eq\n    }\n\n  } else {\n    console.log('purl not found - ', purl);\n  }\n}\n\nfunction add_query_arg(purl, key, value) {\n  // -- key and value must be unescaped for uri\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  if (!(purl)) {\n    purl = '';\n  }\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n  s = s.replace(r, \"$1\" + pair);\n  //console.log(s, pair);\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      s += '&' + pair;\n    } else {\n      s += '?' + pair;\n    }\n  }\n  //if(!RegExp.$1) {s += (s.length>0 ? '&' : '?') + kvp;};\n\n\n  //if value NaN we remove this field from the url\n  if (value == 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n\n\n    if (s.indexOf('?') == -1 && s.indexOf('&') > -1) {\n      s = s.replace('&', '?');\n    }\n  }\n\n  return s;\n}\n\n\nfunction dzsap_is_mobile() {\n\n  // return true;\n  return is_ios() || is_android_good();\n}\n\nfunction is_ios() {\n  // return true;\n  return ((navigator.platform.indexOf(\"iPhone\") != -1) || (navigator.platform.indexOf(\"iPod\") != -1) || (navigator.platform.indexOf(\"iPad\") != -1));\n}\n\nexports.youtube_playMedia = function(selfClass, margs, yt_inited, yt_curr_id) {\n\n  // console.log('is youtube .. try to play it .. ', selfClass.$mediaNode_);\n  try {\n    if (selfClass.$mediaNode_ && selfClass.$mediaNode_.playVideo) {\n\n      selfClass.$mediaNode_.playVideo();\n      //return false;\n    } else {\n\n      // console.log('lets retry ', margs.retry_call,  selfClass.$mediaNode_, 'yt_inited - ',yt_inited);\n      if (margs.retry_call < 5) {\n\n        margs.retry_call++;\n        margs.call_from = 'retry for youtube';\n\n\n        if (yt_inited == false) {\n          // -- clearly not loaded..\n          selfClass.playerIsLoaded = false;\n\n          selfClass.youtube_checkReady(yt_curr_id);\n\n          // console.log(\"RETRYING\");\n\n          selfClass.youtube_retryPlayTimeout = setTimeout(function (args) {\n            selfClass.play_media(args);\n          }, 500, margs);\n        } else {\n\n          selfClass.youtube_retryPlayTimeout = setTimeout(function (args) {\n            selfClass.play_media(args);\n          }, 500, margs);\n        }\n      }\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\nfunction can_canvas() {\n  // check if we have canvas support\n  var oCanvas = document.createElement(\"canvas\");\n  if (oCanvas.getContext(\"2d\")) {\n    return true;\n  }\n  return false;\n}\n\nfunction is_android() {\n  return is_android_good();\n}\n\nfunction select_all(el) {\n  if (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n  } else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n    var textRange = document.body.createTextRange();\n    textRange.moveToElementText(el);\n    textRange.select();\n  }\n}\n\nfunction is_android_good() {\n  //return false;\n  //return true;\n  var ua = navigator.userAgent.toLowerCase();\n\n  //console.log('ua - ',ua);\n  return (ua.indexOf(\"android\") > -1);\n}\n\nfunction htmlEncode(arg) {\n  return jQuery('<div/>').text(arg).html();\n}\n\nfunction dzsap_generate_keyboard_tooltip(keyboard_controls, lab) {\n\n\n  // console.log('keyboard_controls - ',keyboard_controls,lab,keyboard_controls.lab);\n  var fout = '<span class=\"dzstooltip arrow-from-start transition-slidein arrow-bottom skin-black\" style=\"width: auto;  white-space:nowrap;\">' + 'Shortcut' + ': ' + keyboard_controls[lab] + '</span>';\n  // left: 5px;\n  fout = fout.replace('32', 'space');\n  fout = fout.replace('27', 'escape');\n\n  return fout;\n\n\n}\n\n\nvar MD5 = function (e) {\n  function g(a, d) {\n    var b = a & 2147483648;\n    var c = d & 2147483648;\n    var e = a & 1073741824;\n    var f = d & 1073741824;\n    var p = (a & 1073741823) + (d & 1073741823);\n    return e & f ? p ^ 2147483648 ^ b ^ c : e | f ? p & 1073741824 ? p ^ 3221225472 ^ b ^ c : p ^ 1073741824 ^ b ^ c : p ^ b ^ c\n  }\n\n  function h(b, c, a, d, e, f, n) {\n    b = g(b, g(g(c & a | ~c & d, e), n));\n    return g(b << f | b >>> 32 - f, c)\n  }\n\n  function k(b, c, a, d, e, f, n) {\n    b = g(b, g(g(c & d | a & ~d, e), n));\n    return g(b << f | b >>> 32 - f, c)\n  }\n\n  function l(b, c, d, a, e, f, n) {\n    b = g(b, g(g(c ^ d ^ a, e), n));\n    return g(b << f | b >>> 32 - f, c)\n  }\n\n  function m(b, c, d, a, e, f, n) {\n    b = g(b, g(g(d ^\n      (c | ~a), e), n));\n    return g(b << f | b >>> 32 - f, c)\n  }\n\n  function q(b) {\n    var c = \"\", d;\n    for (d = 0; 3 >= d; d++) {\n      var a = b >>> 8 * d & 255;\n      a = \"0\" + a.toString(16);\n      c += a.substr(a.length - 2, 2)\n    }\n    return c\n  }\n\n  var f = [];\n  e = function (b) {\n    b = b.replace(/\\r\\n/g, \"\\n\");\n    for (var c = \"\", d = 0; d < b.length; d++) {\n      var a = b.charCodeAt(d);\n      128 > a ? c += String.fromCharCode(a) : (127 < a && 2048 > a ? c += String.fromCharCode(a >> 6 | 192) : (c += String.fromCharCode(a >> 12 | 224), c += String.fromCharCode(a >> 6 & 63 | 128)), c += String.fromCharCode(a & 63 | 128))\n    }\n    return c\n  }(e);\n  f = function (b) {\n    var c = b.length;\n    var a = c + 8;\n    for (var d =\n      16 * ((a - a % 64) / 64 + 1), e = Array(d - 1), f, g = 0; g < c;) a = (g - g % 4) / 4, f = g % 4 * 8, e[a] |= b.charCodeAt(g) << f, g++;\n    a = (g - g % 4) / 4;\n    e[a] |= 128 << g % 4 * 8;\n    e[d - 2] = c << 3;\n    e[d - 1] = c >>> 29;\n    return e\n  }(e);\n  var a = 1732584193;\n  var d = 4023233417;\n  var b = 2562383102;\n  var c = 271733878;\n  for (e = 0; e < f.length; e += 16) {\n    var r = a;\n    var t = d;\n    var u = b;\n    var v = c;\n    a = h(a, d, b, c, f[e + 0], 7, 3614090360);\n    c = h(c, a, d, b, f[e + 1], 12, 3905402710);\n    b = h(b, c, a, d, f[e + 2], 17, 606105819);\n    d = h(d, b, c, a, f[e + 3], 22, 3250441966);\n    a = h(a, d, b, c, f[e + 4], 7, 4118548399);\n    c = h(c, a, d, b, f[e + 5], 12, 1200080426);\n    b = h(b, c, a, d, f[e +\n    6], 17, 2821735955);\n    d = h(d, b, c, a, f[e + 7], 22, 4249261313);\n    a = h(a, d, b, c, f[e + 8], 7, 1770035416);\n    c = h(c, a, d, b, f[e + 9], 12, 2336552879);\n    b = h(b, c, a, d, f[e + 10], 17, 4294925233);\n    d = h(d, b, c, a, f[e + 11], 22, 2304563134);\n    a = h(a, d, b, c, f[e + 12], 7, 1804603682);\n    c = h(c, a, d, b, f[e + 13], 12, 4254626195);\n    b = h(b, c, a, d, f[e + 14], 17, 2792965006);\n    d = h(d, b, c, a, f[e + 15], 22, 1236535329);\n    a = k(a, d, b, c, f[e + 1], 5, 4129170786);\n    c = k(c, a, d, b, f[e + 6], 9, 3225465664);\n    b = k(b, c, a, d, f[e + 11], 14, 643717713);\n    d = k(d, b, c, a, f[e + 0], 20, 3921069994);\n    a = k(a, d, b, c, f[e + 5], 5, 3593408605);\n    c = k(c,\n      a, d, b, f[e + 10], 9, 38016083);\n    b = k(b, c, a, d, f[e + 15], 14, 3634488961);\n    d = k(d, b, c, a, f[e + 4], 20, 3889429448);\n    a = k(a, d, b, c, f[e + 9], 5, 568446438);\n    c = k(c, a, d, b, f[e + 14], 9, 3275163606);\n    b = k(b, c, a, d, f[e + 3], 14, 4107603335);\n    d = k(d, b, c, a, f[e + 8], 20, 1163531501);\n    a = k(a, d, b, c, f[e + 13], 5, 2850285829);\n    c = k(c, a, d, b, f[e + 2], 9, 4243563512);\n    b = k(b, c, a, d, f[e + 7], 14, 1735328473);\n    d = k(d, b, c, a, f[e + 12], 20, 2368359562);\n    a = l(a, d, b, c, f[e + 5], 4, 4294588738);\n    c = l(c, a, d, b, f[e + 8], 11, 2272392833);\n    b = l(b, c, a, d, f[e + 11], 16, 1839030562);\n    d = l(d, b, c, a, f[e + 14], 23, 4259657740);\n    a = l(a, d, b, c, f[e + 1], 4, 2763975236);\n    c = l(c, a, d, b, f[e + 4], 11, 1272893353);\n    b = l(b, c, a, d, f[e + 7], 16, 4139469664);\n    d = l(d, b, c, a, f[e + 10], 23, 3200236656);\n    a = l(a, d, b, c, f[e + 13], 4, 681279174);\n    c = l(c, a, d, b, f[e + 0], 11, 3936430074);\n    b = l(b, c, a, d, f[e + 3], 16, 3572445317);\n    d = l(d, b, c, a, f[e + 6], 23, 76029189);\n    a = l(a, d, b, c, f[e + 9], 4, 3654602809);\n    c = l(c, a, d, b, f[e + 12], 11, 3873151461);\n    b = l(b, c, a, d, f[e + 15], 16, 530742520);\n    d = l(d, b, c, a, f[e + 2], 23, 3299628645);\n    a = m(a, d, b, c, f[e + 0], 6, 4096336452);\n    c = m(c, a, d, b, f[e + 7], 10, 1126891415);\n    b = m(b, c, a, d, f[e + 14], 15, 2878612391);\n    d = m(d, b, c, a, f[e + 5], 21, 4237533241);\n    a = m(a, d, b, c, f[e + 12], 6, 1700485571);\n    c = m(c, a, d, b, f[e + 3], 10, 2399980690);\n    b = m(b, c, a, d, f[e + 10], 15, 4293915773);\n    d = m(d, b, c, a, f[e + 1], 21, 2240044497);\n    a = m(a, d, b, c, f[e + 8], 6, 1873313359);\n    c = m(c, a, d, b, f[e + 15], 10, 4264355552);\n    b = m(b, c, a, d, f[e + 6], 15, 2734768916);\n    d = m(d, b, c, a, f[e + 13], 21, 1309151649);\n    a = m(a, d, b, c, f[e + 4], 6, 4149444226);\n    c = m(c, a, d, b, f[e + 11], 10, 3174756917);\n    b = m(b, c, a, d, f[e + 2], 15, 718787259);\n    d = m(d, b, c, a, f[e + 9], 21, 3951481745);\n    a = g(a, r);\n    d = g(d, t);\n    b = g(b, u);\n    c = g(c, v)\n  }\n  return (q(a) + q(d) + q(b) +\n    q(c)).toLowerCase()\n};\n\n\nfunction handle_keypresses(e) {\n\n  // -- local .. step back / step forward\n\n  var $ = jQuery;\n\n  var keyboard_controls = $.extend({}, dzsap_generate_keyboard_controls());\n  // console.log('keyboard_controls.pause_play - ',keyboard_controls.pause_play);\n  // console.log('keyboard_controls - ',keyboard_controls);\n\n  // console.log('e.keyCode - ',e.keyCode, keyboard_controls);\n\n  if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_pause_media) {\n\n    var sw_pressed;\n\n\n    sw_pressed = false;\n    if (keyboard_controls.pause_play.indexOf('ctrl+') > -1) {\n\n      if (e.ctrlKey) {\n        keyboard_controls.pause_play = keyboard_controls.pause_play.replace('ctrl+', '');\n\n        if (e.keyCode == keyboard_controls.pause_play) {\n\n          sw_pressed = true;\n        }\n      }\n\n    } else {\n\n      if (e.keyCode == keyboard_controls.pause_play) {\n\n        sw_pressed = true;\n      }\n    }\n\n\n    if (sw_pressed) {\n\n      if ($(dzsap_currplayer_focused).hasClass('comments-writer-active') == false) {\n\n        if ($(dzsap_currplayer_focused).hasClass('is-playing')) {\n\n          dzsap_currplayer_focused.api_pause_media();\n\n        } else {\n\n          dzsap_currplayer_focused.api_play_media();\n        }\n\n\n        if (window.dzsap_mouseover) {\n\n          e.preventDefault();\n          return false;\n        }\n      }\n    }\n\n\n    sw_pressed = false;\n    if (keyboard_controls.step_back.indexOf('ctrl+') > -1) {\n\n      if (e.ctrlKey) {\n        keyboard_controls.step_back = keyboard_controls.step_back.replace('ctrl+', '');\n        if (e.keyCode == keyboard_controls.step_back) {\n\n\n          sw_pressed = true;\n\n        }\n      }\n    } else {\n\n      if (e.keyCode == keyboard_controls.step_back) {\n\n\n        sw_pressed = true;\n\n      }\n    }\n\n    if (sw_pressed) {\n\n\n      dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n\n    }\n\n    sw_pressed = false;\n\n    if (keyboard_controls.step_forward.indexOf('ctrl+') > -1) {\n\n      if (e.ctrlKey) {\n        keyboard_controls.step_forward = keyboard_controls.step_forward.replace('ctrl+', '');\n        if (e.keyCode == keyboard_controls.step_forward) {\n\n          sw_pressed = true;\n\n        }\n      }\n    } else {\n      if (e.keyCode == keyboard_controls.step_forward) {\n\n        sw_pressed = true;\n\n      }\n    }\n\n    if (sw_pressed) {\n\n\n      dzsap_currplayer_focused.api_step_forward(keyboard_controls.step_back_amount);\n\n    }\n\n    sw_pressed = false;\n\n    if (e.keyCode == keyboard_controls.sync_players_goto_next) {\n      sw_pressed = true;\n    }\n\n    if (sw_pressed) {\n      if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_sync_players_goto_next) {\n        dzsap_currplayer_focused.api_sync_players_goto_next();\n      }\n    }\n\n\n    sw_pressed = false;\n\n    if (e.keyCode == keyboard_controls.sync_players_goto_prev) {\n      sw_pressed = true;\n\n    }\n\n    if (sw_pressed) {\n      if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_sync_players_goto_prev) {\n        dzsap_currplayer_focused.api_sync_players_goto_prev();\n      }\n    }\n\n\n  }\n}\n\n\nfunction hexToRgb(hex, palpha) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var str = '';\n  if (result) {\n    result = {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    };\n\n\n    var alpha = 1;\n\n    if (palpha) {\n      alpha = palpha;\n    }\n\n\n    str = 'rgba(' + result.r + ',' + result.g + ',' + result.b + ',' + alpha + ')';\n  }\n\n\n  // console.log('hexToRgb ( hex - '+hex+' ) result ', str);\n\n  return str;\n\n\n}\n\nexports.assignHelperFunctionsToJquery = function ($) {\n\n  $.fn.prependOnce = function (arg, argfind) {\n    var _t = $(this) // It's your element\n\n\n    //        console.log(argfind);\n    if (typeof (argfind) == 'undefined') {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (typeof auxarr[1] != 'undefined') {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n\n    // we compromise chaining for returning the success\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    } else {\n      return false;\n    }\n  };\n  $.fn.appendOnce = function (arg, argfind) {\n    var _t = $(this) // It's your element\n\n\n    if (typeof (argfind) == 'undefined') {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (typeof auxarr[1] != 'undefined') {\n        argfind = '.' + auxarr[1];\n      }\n    }\n    // we compromise chaining for returning the success\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    } else {\n      return false;\n    }\n  };\n};\n\n\nexports.registerTextWidth = function ($) {\n\n  $.fn.textWidth = function () {\n    var _t = jQuery(this);\n    var html_org = _t.html();\n    if (_t[0].nodeName == 'INPUT') {\n      html_org = _t.val();\n    }\n    var html_calcS = '<span class=\"forcalc\">' + html_org + '</span>';\n    jQuery('body').append(html_calcS);\n    var _lastspan = jQuery('span.forcalc').last();\n    //console.log(_lastspan, html_calc);\n    _lastspan.css({\n      'font-size': _t.css('font-size'),\n      'font-family': _t.css('font-family')\n    })\n    var width = _lastspan.width();\n    //_t.html(html_org);\n    _lastspan.remove();\n    return width;\n  };\n}\nexports.player_checkIfWeShouldShowAComment = player_checkIfWeShouldShowAComment;\nfunction player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total){\n\n  var $ = jQuery;\n  var timer_curr_perc = Math.round((real_time_curr / real_time_total) * 100) / 100;\n  if (selfClass.audioType == 'fake') {\n    timer_curr_perc = Math.round((selfClass.timeCurrent / selfClass.timeTotal) * 100) / 100;\n  }\n  if (selfClass._commentsHolder) {\n    selfClass._commentsHolder.children().each(function () {\n      var _t = $(this);\n      if (_t.hasClass('dzstooltip-con')) {\n        var _t_posx = _t.offset().left - selfClass._commentsHolder.offset().left;\n\n\n        var aux = Math.round((parseFloat(_t_posx) / selfClass._commentsHolder.outerWidth()) * 100) / 100;\n\n\n        if (aux) {\n\n          if (Math.abs(aux - timer_curr_perc) < 0.02) {\n            selfClass._commentsHolder.find('.dzstooltip').removeClass('active');\n            _t.find('.dzstooltip').addClass('active');\n          } else {\n            _t.find('.dzstooltip').removeClass('active');\n          }\n        }\n      }\n    })\n  }\n}\nexports.sanitizeObjectForChangeMediaArgs = sanitizeObjectForChangeMediaArgs ;\nfunction sanitizeObjectForChangeMediaArgs(_sourceForChange) {\n\n  var changeMediaArgs = {};\n  var _feed_fakePlayer = _sourceForChange;\n\n  var lab = '';\n\n  if (_sourceForChange.data('original-settings')) {\n    return _sourceForChange.data('original-settings');\n  }\n\n  // -- settle source\n  changeMediaArgs.source = null;\n  if (_feed_fakePlayer.attr('data-source')) {\n    changeMediaArgs.source = _feed_fakePlayer.attr('data-source')\n  } else {\n    // -- if it is a inline link\n    if (_feed_fakePlayer.attr('href')) {\n      changeMediaArgs.source = _feed_fakePlayer.attr('href');\n    }\n  }\n\n  if (_feed_fakePlayer.attr('data-pcm')) {\n    changeMediaArgs.pcm = _feed_fakePlayer.attr('data-pcm');\n  }\n\n\n  lab = 'thumb';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n  lab = 'playerid';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n  lab = 'type';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n\n  if (_feed_fakePlayer.attr('data-thumb_link')) {\n    changeMediaArgs.thumb_link = _sourceForChange.attr('data-thumb_link');\n  }\n\n\n  if (_sourceForChange.find('.meta-artist').length > 0 || _sourceForChange.find('.meta-artist-con').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.the-artist').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.the-name').eq(0).html();\n  }\n\n\n  if (_sourceForChange.attr('data-thumb_for_parent')) {\n    changeMediaArgs.thumb = _sourceForChange.attr('data-thumb_for_parent');\n  }\n\n\n  if (_sourceForChange.find('.feed-song-name').length > 0 || _sourceForChange.find('.feed-artist-name').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.feed-artist-name').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.feed-song-name').eq(0).html();\n  }\n\n\n  if (_feed_fakePlayer.attr('data-soft-watermark')) {\n    changeMediaArgs.watermark = _sourceForChange.attr('data-soft-watermark');\n  }\n  if (_feed_fakePlayer.attr('data-watermark-volume')) {\n    changeMediaArgs.watermark_volume = _sourceForChange.attr('data-watermark-volume');\n\n  }\n\n\n  return changeMediaArgs;\n\n\n}\n\nexports.dzsapInitjQueryRegisters = function () {\n\n  window.dzsap_generate_list_for_sync_players = function (pargs) {\n\n    var margs = {\n      'force_regenerate': false\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n    window.dzsap_list_for_sync_players = [];\n\n    // console.log('typeof(settings) != \"undefined\"  && typeof(settings.construct_player_list_for_sync) != \"undefined\"  && settings.construct_player_list_for_sync==\\'on\\' - ',typeof(settings) != \"undefined\"  && typeof(settings.construct_player_list_for_sync) != \"undefined\"  && settings.construct_player_list_for_sync=='on', typeof(settings) != \"undefined\", typeof(settings.construct_player_list_for_sync), settings.construct_player_list_for_sync=='on');\n\n\n    if (typeof (settings) != \"undefined\" && ((typeof (settings.construct_player_list_for_sync) != \"undefined\" && settings.construct_player_list_for_sync == 'on') || margs.force_regenerate)) {\n\n      jQuery('.audioplayer,.audioplayer-tobe').each(function () {\n        var _t2 = jQuery(this);\n        if (_t2.attr('data-do-not-include-in-list') != 'on') {\n          if (_t2.attr('data-type') != 'fake' || _t2.attr('data-fakeplayer')) {\n\n            window.dzsap_list_for_sync_players.push(_t2);\n          }\n        }\n      })\n\n      // console.log('dzsap_list_for_sync_players -5 ',dzsap_list_for_sync_players);\n\n    }\n  }\n\n\n  jQuery(document).off('click.dzsap_global');\n  jQuery(document).on('click.dzsap_global', '.dzsap-btn-info', function () {\n\n    var _t = jQuery(this);\n    if (_t.hasClass('dzsap-btn-info')) {\n\n      _t.find('.dzstooltip').toggleClass('active');\n      return;\n    }\n\n  })\n  jQuery(document).on('mouseover.dzsap_global', '.dzsap-btn-info', function () {\n\n    var _t = jQuery(this);\n    if (_t.hasClass('dzsap-btn-info')) {\n      // console.log(_t.offset().left);\n      if (window.innerWidth < 500) {\n        // -- if we are in the left side of the screen, we move the tooltip to the right.\n        if (_t.offset().left < (window.innerWidth / 2)) {\n          _t.find('.dzstooltip').removeClass('talign-end').addClass('talign-start');\n        }\n      } else {\n        _t.find('.dzstooltip').addClass('talign-end').removeClass('talign-start');\n      }\n    }\n\n  });\n}\nexports.miscFunctions = function () {\n\n\n  window.dzsap_send_total_time = function (argtime, argcthis) {\n\n\n    // console.log('dzsap_send_total_time()',argtime,argcthis);\n\n    var data = {\n      action: 'dzsap_send_total_time_for_track'\n      , id_track: argcthis.attr('data-playerid')\n      , postdata: parseInt(argtime, 10)\n    };\n    jQuery.post(window.dzsap_ajaxurl, data, function (response) {\n      if (window.console != undefined) {\n        console.log('dzsap_send_total_time Got this from the server: ' + response);\n      }\n\n\n    });\n\n  }\n\n\n  window.dzs_open_social_link = function (arg, argthis) {\n    var leftPosition, topPosition;\n    var w = 500, h = 500;\n    //Allow for borders.\n    leftPosition = (window.screen.width / 2) - ((w / 2) + 10);\n    //Allow for title and status bars.\n    topPosition = (window.screen.height / 2) - ((h / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + h + \",width=\" + w + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\n\n    console.log('dzs_open_social_link()', arg, 'argthis - ', argthis);\n\n\n    arg = arg.replace('{{replacewithcurrurl}}', encodeURIComponent(window.location.href));\n    if (argthis) {\n\n      arg = arg.replace(/{{replacewithdataurl}}/g, argthis.attr('data-url'));\n    }\n\n    var aux = window.location.href;\n\n\n    var auxa = aux.split('?');\n\n    var cid = '';\n    var cid_gallery = '';\n\n\n    if (argthis) {\n\n    } else {\n      if (window.dzsap_currplayer_from_share) {\n\n        argthis = window.dzsap_currplayer_from_share;\n      }\n    }\n\n\n    // console.log('window.dzsap_currplayer_from_share -> ', window.dzsap_currplayer_from_share);\n    // console.log('argthis -> ', argthis);\n\n\n    if (argthis) {\n\n      var $ = jQuery;\n\n      if ($(argthis).hasClass('audioplayer')) {\n        cid = $(argthis).parent().children().index(argthis);\n        cid_gallery = $(argthis).parent().parent().parent().attr('id');\n      } else {\n        if (jQuery(argthis).parent().parent().attr('data-menu-index')) {\n\n          cid = jQuery(argthis).parent().parent().attr('data-menu-index');\n        }\n        if (jQuery(argthis).parent().parent().attr('data-gallery-id')) {\n\n          cid_gallery = jQuery(argthis).parent().parent().attr('data-gallery-id');\n        }\n      }\n\n    }\n\n\n    var shareurl = encodeURIComponent(auxa[0] + '?fromsharer=on&audiogallery_startitem_' + cid_gallery + '=' + cid + '');\n    arg = arg.replace('{{shareurl}}', shareurl);\n\n    console.log('shareurl -> ', shareurl);\n\n    //console.log(argthis);\n    //console.log('arg - ',arg);\n    window.open(arg, \"sharer\", windowFeatures);\n  }\n\n\n  window.dzsap_wp_send_contor_60_secs = function (argcthis, argtitle) {\n\n    var data = {\n      video_title: argtitle\n      // ,video_analytics_id: argcthis.attr('data-analytics-id')\n      , video_analytics_id: argcthis.attr('data-playerid')\n      , curr_user: window.dzsap_curr_user\n    };\n    var theajaxurl = 'index.php?action=ajax_dzsap_submit_contor_60_secs';\n\n    if (window.dzsap_settings.dzsap_site_url) {\n\n      theajaxurl = dzsap_settings.dzsap_site_url + theajaxurl;\n    }\n\n    // console.log('dzsap_wp_send_contor_60_secs()',argcthis,argtitle);\n\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: theajaxurl,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Ajax - submit view - ' + response);\n        }\n\n\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.warn('Got this from the server: ' + arg);\n        }\n        ;\n      }\n    });\n  }\n\n\n  window.dzsap_init_multisharer = function () {\n    var $ = jQuery;\n    setTimeout(function () {\n      // console.log(\"LOAD MULTISHARER\");\n\n\n      // console.log('window.dzsap_multisharer_assets_loaded - ',window.dzsap_multisharer_assets_loaded);\n      if (window.dzsap_multisharer_assets_loaded) {\n\n      } else {\n        if (window.dzsap_multisharer_assets_loaded != true && window.loading_multi_sharer != true) {\n\n          // -- only if settings_php_handler is set\n\n\n          // - -load script for lightbox\n          window.loading_multi_sharer = true;\n          var head = document.getElementsByTagName('head')[0];\n          var link = document.createElement('link');\n\n          if (window.dzsap_settings && window.dzsap_settings.dzsap_site_url) {\n\n            link.id = 'dzsap-load-multi-sharer';\n            link.rel = 'stylesheet';\n            link.type = 'text/css';\n            link.href = add_query_arg(window.dzsap_settings.dzsap_site_url, 'load-lightbox-css', 'on');\n            link.media = 'all';\n            head.appendChild(link);\n          }\n\n          // console.log('script for lightbox - ',add_query_arg(window.dzsap_settings.dzsap_site_url,'load-lightbox-css','on'));\n\n          // console.warn(\"APPEND MULTISHARER STYLE\");\n\n          setTimeout(function () {\n\n            if (window.dzsap_box_main_con == null) {\n\n              $('body').append('<div class=\"dzsap-main-con skin-default gallery-skin-default transition-slideup \"> <div class=\"overlay-background\"></div> <div class=\"box-mains-con\"> <div class=\"box-main box-main-for-share\" style=\"\"> <div class=\"box-main-media-con transition-target\"> <div class=\"close-btn-con\"> ' + dzsapSvgs.svg_close_btn + '</div> <div class=\"box-main-media type-inlinecontent\" style=\"width: 530px; height: 280px;\"><div class=\" real-media\" style=\"\"><div class=\"hidden-content share-content\" > <div class=\"social-networks-con\"></div> <div class=\"share-link-con\"></div> <div class=\"embed-link-con\"></div> </div> </div> </div> <div class=\"box-main-under\"></div> </div> </div> </div><!-- end .box-mains-con--> </div>');\n\n\n              window.dzsap_box_main_con = $('.dzsap-main-con').eq(0);\n\n              // console.log('dzsap_box_main_con - ', window.dzsap_box_main_con);\n            }\n\n          }, 1000);\n\n\n        }\n      }\n\n      // -- remove main con function\n      $(document).on('click.dzsap_global_sharer', '.dzsap-main-con .close-btn-con,.dzsap-main-con .overlay-background', function () {\n\n\n        var _c = $('.dzsap-main-con').eq(0);\n\n        _c.removeClass('loading-item loaded-item');\n      })\n\n    }, 2000)\n  }\n\n\n  window.dzsap_submit_like = function (argp, e) {\n    //only handles ajax call + result\n    var mainarg = argp;\n    var data = {\n      action: 'dzsap_submit_like',\n      playerid: argp\n    };\n\n    var _t = null;\n\n    if (e) {\n      _t = jQuery(e.currentTarget);\n    }\n\n\n    if (window.dzsap_settings && window.dzsap_settings.ajax_url) {\n\n      jQuery.ajax({\n        type: \"POST\",\n        url: window.dzsap_settings.ajax_url,\n        data: data,\n        success: function (response) {\n          if (typeof window.console != \"undefined\") {\n            console.log('Got this from the server: ' + response);\n          }\n\n\n          if (_t) {\n\n            var htmlaux = _t.html();\n\n            _t.html(htmlaux.replace('fa-heart-o', 'fa-heart'));\n          }\n\n        },\n        error: function (arg) {\n          if (typeof window.console != \"undefined\") {\n            // console.log('Got this from the server: ' + arg, arg);\n          }\n          ;\n        }\n      });\n    }\n  }\n\n\n  window.dzsap_retract_like = function (argp, e) {\n    //only handles ajax call + result\n    var mainarg = argp;\n    var data = {\n      action: 'dzsap_retract_like',\n      playerid: argp\n    };\n\n    var _t = null;\n\n    if (e) {\n      _t = jQuery(e.currentTarget);\n    }\n\n\n    if (window.dzsap_settings && window.dzsap_settings.ajax_url) {\n\n      jQuery.ajax({\n        type: \"POST\",\n        url: window.dzsap_settings.ajax_url,\n        data: data,\n        success: function (response) {\n          if (typeof window.console != \"undefined\") {\n            console.log('Got this from the server: ' + response);\n          }\n\n\n          if (_t) {\n            var htmlaux = _t.html();\n\n            _t.html(htmlaux.replace('fa-heart', 'fa-heart-o'));\n          }\n\n        },\n        error: function (arg) {\n          if (typeof window.console != \"undefined\") {\n            // console.log('Got this from the server: ' + arg, arg);\n          }\n          ;\n        }\n      });\n    }\n  }\n\n}\n\nexports.jQueryAuxBindings = function ($) {\n\n  // console.log('start aux bindings');\n  $(document).on('click.dzsap_metas', '.audioplayer-song-changer, .dzsap-wishlist-but', function () {\n    var _t = $(this);\n\n    // conso\n\n    if (_t.hasClass('audioplayer-song-changer')) {\n\n      // console.log('.audioplayer-song-changer', _t);\n      var _c = $(_t.attr('data-fakeplayer')).eq(0);\n      // console.log(_t, _t.attr('data-fakeplayer'), _t.attr('data-target'), _c, _c.get(0));\n\n\n      if (_c && _c.get(0) && _c.get(0).api_change_media) {\n\n        _c.get(0).api_change_media(_t, {\n          'feeder_type': 'button'\n          , 'call_from': 'changed audioplayer-song-changer'\n        });\n      }\n\n      return false;\n    }\n\n    if (_t.hasClass('dzsap-wishlist-but')) {\n\n\n      var data = {\n        action: 'dzsap_add_to_wishlist',\n        playerid: _t.attr('data-post_id'),\n        wishlist_action: 'add',\n      };\n\n\n      if (_t.find('.svg-icon').hasClass('fa-star')) {\n        data.wishlist_action = 'remove';\n      }\n\n\n      if (window.dzsap_lasto.settings_php_handler) {\n        $.ajax({\n          type: \"POST\",\n          url: window.dzsap_lasto.settings_php_handler,\n          data: data,\n          success: function (response) {\n            //if(typeof window.console != \"undefined\" ){ console.log('Ajax - get - comments - ' + response); }\n\n\n            if (_t.find('.svg-icon').hasClass('fa-star-o')) {\n              _t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star');\n            } else {\n\n              _t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star-o');\n            }\n\n          },\n          error: function (arg) {\n            if (typeof window.console != \"undefined\") {\n              // console.log('Got this from the server: ' + arg, arg);\n            }\n            ;\n          }\n        });\n      }\n\n      return false;\n\n\n    }\n\n  })\n\n\n  $(document).on('click.dzsiconhide', '.sticktobottom-close-con,.sticktobottom-close-con .svg-icon', function () {\n    var _t = $(this);\n\n    $('.dzsap-sticktobottom .audioplayer').get(0).api_pause_media();\n\n\n    console.log('_t sticktobottom-close-con -7', _t);\n\n    var _con = null;\n\n    if (_t.parent().hasClass(\"dzsap-sticktobottom\")) {\n      _con = _t.parent();\n    }\n    if (_t.parent().parent().hasClass(\"dzsap-sticktobottom\")) {\n      _con = _t.parent().parent();\n    }\n    if (_t.parent().parent().parent().hasClass(\"dzsap-sticktobottom\")) {\n      _con = _t.parent().parent().parent();\n    }\n\n    console.log('_con - ', _con, _con.hasClass('audioplayer-loaded'));\n\n    if (_con.hasClass('audioplayer-loaded')) {\n\n      _con.removeClass('audioplayer-loaded');\n      _con.addClass('audioplayer-was-loaded');\n\n\n    } else {\n\n      _con.addClass('audioplayer-loaded');\n      _con.addClass('audioplayer-was-loaded');\n    }\n\n    return false;\n  })\n\n  $(document).on('click.dzsiconshow', '.dzsap-sticktobottom .icon-show', function () {\n    var _t = $(this);\n\n\n    // _t.parent().parent().addClass('audioplayer-loaded');\n    // _t.parent().parent().removeClass('audioplayer-was-loaded');\n    //\n    // _t.parent().parent().parent().addClass('audioplayer-loaded');\n    // _t.parent().parent().parent().removeClass('audioplayer-was-loaded');\n\n    return false;\n  })\n\n\n  if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver').length > 0) {\n    setInterval(function () {\n\n      //console.log($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver > .audioplayer').eq(0).hasClass('dzsap-loaded'));\n      if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver  .audioplayer').eq(0).hasClass('dzsap-loaded')) {\n        $('.dzsap-sticktobottom-placeholder').eq(0).addClass('active');\n\n        if ($('.dzsap-sticktobottom').hasClass('audioplayer-was-loaded') == false) {\n\n          $('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver').addClass('audioplayer-loaded')\n        }\n      }\n    }, 1000);\n  }\n\n\n  if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave').length > 0) {\n    setInterval(function () {\n\n      // console.log($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave  .audioplayer'), $('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave  .audioplayer').eq(0).hasClass('dzsap-loaded'));\n      if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave  .audioplayer').eq(0).hasClass('dzsap-loaded')) {\n        $('.dzsap-sticktobottom-placeholder').eq(0).addClass('active');\n\n        if ($('.dzsap-sticktobottom').hasClass('audioplayer-was-loaded') == false) {\n\n          $('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave').addClass('audioplayer-loaded')\n        }\n      }\n\n\n    }, 1000);\n  }\n\n\n  $(document).on('click.dzsap_multisharer', '.dzsap-multisharer-but', click_open_embed_ultibox);\n\n  function click_open_embed_ultibox(e, pargs) {\n\n    var margs = {\n      'call_from': 'default'\n\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    console.log('click_open_embed_ultibox() this - ', this);\n\n    open_dzsap_lightbox({\n      'call_from': 'click_open_embed_ultibox'\n      , 'lightbox_open': 'share'\n      , 'overwrite_this': this\n    });\n\n\n    return false;\n  }\n\n\n  function open_dzsap_lightbox(pargs) {\n\n    var margs = {\n      'call_from': 'default'\n      , 'lightbox_open': 'share'\n      , 'overwrite_this': null\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    // console.log('ceva');\n\n    var _c_mc = window.dzsap_box_main_con;\n    var _t = $(this);\n\n\n    if (margs.overwrite_this) {\n      _t = $(margs.overwrite_this);\n    }\n    // console.log('open_dzsap_lightbox() _c -> ',_c_mc, _c_mc.find('.social-networks-con'), 'margs - ',margs);\n\n\n    if (_t.data('cthis')) {\n      var cthis = _t.data('cthis');\n\n      console.log('found cthis in data');\n    }\n\n    if (cthis) {\n\n      window.dzsap_currplayer_from_share = cthis;\n    } else {\n\n      console.log('%c could not find this .. maybe we can find it in post_id', 'background-color: #da0000;', $('.audioplayer[data-playerid=\"' + _t.attr('data-post_id') + '\"]'));\n\n\n      if (_t.attr('data-post_id')) {\n        window.dzsap_currplayer_from_share = $('.audioplayer[data-playerid=\"' + _t.attr('data-post_id') + '\"]').eq(0);\n        _t.data('cthis', window.dzsap_currplayer_from_share);\n      } else {\n\n        if (_t.parent().parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n          // console.log(\"YES\");\n          window.dzsap_currplayer_from_share = _t.parent().parent().parent().parent().parent().parent();\n        }\n      }\n    }\n\n\n    // console.log('window.dzsap_currplayer_from_share -> ', window.dzsap_currplayer_from_share);\n\n\n    // console.log('_t -> ', _t, _t.data('cthis'));\n    // console.log('window.dzsap_currplayer_from_share -> ', window.dzsap_currplayer_from_share);\n    // console.log('_c_mc -5', _c_mc);\n\n\n    var aux = '';\n\n    if (window.dzsap_social_feed_for_social_networks) {\n      aux = window.dzsap_social_feed_for_social_networks;\n    }\n\n    // -- aux is feed from social_feed\n\n\n    if (window.dzsap_box_main_con) {\n\n      console.log('window.dzsap_box_main_con - ', window.dzsap_box_main_con);\n\n      window.dzsap_box_main_con.find('.social-networks-con').html(aux);\n\n\n      aux = '';\n      if (window.dzsap_social_feed_for_share_link) {\n        aux = window.dzsap_social_feed_for_share_link;\n      }\n\n\n      if (aux) {\n\n\n        // console.log('_t - ',_t);\n\n\n        var newloc = window.location.href;\n\n\n        if (_t.attr('data-post-url')) {\n          newloc = _t.attr('data-post-url');\n        }\n\n\n        aux = aux.replace('{{replacewithcurrurl}}', newloc);\n        aux = aux.replace('{{replacewithdataurl}}', newloc);\n        window.dzsap_box_main_con.find('.share-link-con').html(aux);\n      }\n\n      var aux_social = '';\n      if (window.dzsap_social_feed_for_embed_link) {\n        aux_social = window.dzsap_social_feed_for_embed_link;\n      }\n\n\n      // console.log(' o - ',o, cthis,'dzsap_currplayer_from_share - ',dzsap_currplayer_from_share);\n      if (window.dzsap_currplayer_from_share && dzsap_currplayer_from_share.data('embed_code')) {\n\n        console.log('o.embed_code - ', dzsap_currplayer_from_share.data('embed_code'));\n\n        if (aux_social) {\n\n          var replace_str = dzsap_currplayer_from_share.data('embed_code');\n\n          if (replace_str.indexOf('&lt;') == -1) {\n            replace_str = htmlEntities(replace_str);\n          }\n          aux_social = aux_social.replace('{{replacewithembedcode}}', (replace_str));\n          _c_mc.find('.embed-link-con').html(aux_social);\n        }\n\n      }\n\n      // console.log('_c_mc - ',_c_mc);\n      // console.log('o.embed_code - ',o.embed_code);\n      // console.log('aux_social - ',aux_social);\n\n      $(document).on('click.dzsap', '.field-for-view', function () {\n\n        console.log(\"select all test \", this);\n        selectText(this);\n\n        // $(this).select();\n      });\n      _c_mc.addClass('loading-box-main-' + margs.lightbox_open);\n      setTimeout(function () {\n        _c_mc.addClass('loading-item');\n      }, 100);\n\n      setTimeout(function () {\n        _c_mc.addClass('loaded-item');\n      }, 200);\n\n\n    } else {\n      console.log('warning missing box-main');\n    }\n  }\n\n\n  $(document).on('keydown.dzsapkeyup keypress.dzsapkeyup', function (e) {\n    // console.log('e - ',e);\n    // console.log('dzsap_currplayer_focused - ',dzsap_currplayer_focused);\n\n    handle_keypresses(e);\n  })\n\n\n  $(document).on('keydown blur', '.zoomsounds-search-field', function (e) {\n\n    // console.info(e.currentTarget.value);\n    var _t = $(e.currentTarget);\n\n    setTimeout(function () {\n\n      if (_t) {\n        var _target = $('.audiogallery').eq(0);\n        if (_t.attr('data-target')) {\n          _target = $(_t.attr('data-target'));\n        }\n        if (_target.get(0) && _target.get(0).api_filter) {\n\n          _target.get(0).api_filter('title', _t.val());\n        }\n      }\n    }, 100);\n\n  });\n\n\n  $(document).on('click', '.dzsap-like-but', function (e) {\n\n    var _t = $(this);\n\n\n    var playerid = _t.attr('data-post_id');\n\n    if (playerid && playerid != '0') {\n\n    } else {\n      if (_t.parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n\n        playerid = _t.parent().parent().parent().parent().parent().attr('data-feed-playerid');\n      }\n    }\n    window.dzsap_submit_like(playerid, e);\n\n    _t.removeClass('dzsap-like-but').addClass('dzsap-retract-like-but');\n\n    return false;\n  })\n\n  $(document).on('click', '.dzsap-retract-like-but', function (e) {\n\n    var _t = $(this);\n    var playerid = _t.attr('data-post_id');\n\n    if (playerid && playerid != '0') {\n\n    } else {\n      if (_t.parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n\n        playerid = _t.parent().parent().parent().parent().parent().attr('data-feed-playerid');\n      }\n    }\n\n\n    window.dzsap_retract_like(playerid, e);\n    _t.addClass('dzsap-like-but').removeClass('dzsap-retract-like-but');\n    return false;\n  })\n\n\n}\n\n\nexports.selectText = function (arg) {\n  if (document.selection) {\n    var range = document.body.createTextRange();\n    range.moveToElementText(arg);\n    range.select();\n  } else if (window.getSelection) {\n    var range = document.createRange();\n    range.selectNode(arg);\n    window.getSelection().removeAllRanges();\n    window.getSelection().addRange(range);\n  }\n}\n\n\nexports.ajax_submit_views = function (argp, the_player_id, currIp, data_source, o, $, increment_views, ajax_view_submitted) {\n\n  // console.log('ajax_submit_views()',argp);\n\n  var data = {\n    action: 'dzsap_submit_views',\n    postdata: 1,\n    playerid: the_player_id,\n    currip: currIp\n  };\n\n\n  if (cthis.attr('data-playerid-for-views')) {\n    data.playerid = cthis.attr('data-playerid-for-views');\n  }\n\n\n  if (data.playerid == '') {\n    data.playerid = dzs_clean_string(data_source);\n  }\n\n  //                console.log(ajax_view_submitted);\n\n\n  // -- submit view\n  if (o.settings_php_handler) {\n    $.ajax({\n      type: \"POST\",\n      url: o.settings_php_handler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        // -- increase number of hits\n        var auxnr = cthis.find('.counter-hits .the-number').html();\n        auxnr = parseInt(auxnr, 10);\n        if (increment_views != 2) {\n          auxnr++;\n        }\n        if (response) {\n          if (decode_json(response)) {\n            auxnr = decode_json(response)['number'];\n          }\n        }\n\n        cthis.find('.counter-hits .the-number').html(auxnr);\n\n        ajax_view_submitted = 'on';\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n\n        var auxlikes = cthis.find('.counter-hits .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        cthis.find('.counter-hits .the-number').html(auxlikes);\n\n        ajax_view_submitted = 'on';\n      }\n    });\n    ajax_view_submitted = 'on';\n  }\n\n}\n\n\nexports.player_determineActualPlayer = player_determineActualPlayer;\nfunction player_determineActualPlayer(cthis, selfClass){\n\n  var $ = jQuery;\n  var _c = $(cthis.attr('data-fakeplayer'));\n\n  if (_c.length == 0) {\n    _c = $(String(cthis.attr('data-fakeplayer')).replace('#', '.'));\n    if (_c.length) {\n      selfClass._actualPlayer = $(String(cthis.attr('data-fakeplayer')).replace('#', '.'));\n      cthis.attr('data-fakeplayer', String(cthis.attr('data-fakeplayer')).replace('#', '.'));\n\n\n    }\n  }\n\n  if (_c.length == 0) {\n    cthis.attr('data-fakeplayer', '');\n  } else {\n    cthis.addClass('player-is-feeding is-source-player-for-actual-player');\n    if (cthis.attr('data-type')) {\n\n      selfClass._actualPlayer = $(cthis.attr('data-fakeplayer')).eq(0);\n      selfClass.actualDataTypeOfMedia = cthis.attr('data-type');\n      cthis.attr('data-original-type', selfClass.actualDataTypeOfMedia);\n    }\n  }\n}\nexports.configureAudioPlayerOptionsInitial = function (cthis, o, selfClass) {\n\n\n  if (isNaN(parseInt(o.design_thumbh, 10)) == false) {\n    o.design_thumbh = parseInt(o.design_thumbh, 10);\n  }\n\n  if(o.skinwave_wave_mode_canvas_normalize==''){\n    o.skinwave_wave_mode_canvas_normalize = 'on';\n  }\n  if(o.skinwave_wave_mode_canvas_waves_number=='' || isNaN(Number(o.skinwave_wave_mode_canvas_waves_number))){\n    o.skinwave_wave_mode_canvas_waves_number = 3;\n  }\n\n\n  if (o.autoplay == 'on' && o.cue == 'on') {\n    o.preload_method = 'auto';\n  }\n\n  cthis.addClass(o.extra_classes_player)\n\n  if (o.design_skin == '') {\n    o.design_skin = 'skin-default';\n  }\n\n  if(this.is_ios()){\n    // todo: ios not playing nice.. with audio context\n    if(selfClass.initOptions.skinwave_enableSpectrum=='on'){\n      selfClass.initOptions.skinwave_enableSpectrum = 'off';\n    }\n\n  }\n\n  var regexr = / skin-/g;\n\n\n  if (regexr.test(cthis.attr('class'))) {\n\n  } else {\n\n    cthis.addClass(o.design_skin);\n  }\n\n\n  if (cthis.hasClass('skin-default')) {\n    o.design_skin = 'skin-default';\n  }\n  if (cthis.hasClass('skin-wave')) {\n    o.design_skin = 'skin-wave';\n  }\n  if (cthis.hasClass('skin-justthumbandbutton')) {\n    o.design_skin = 'skin-justthumbandbutton';\n  }\n  if (cthis.hasClass('skin-pro')) {\n    o.design_skin = 'skin-pro';\n  }\n  if (cthis.hasClass('skin-aria')) {\n    o.design_skin = 'skin-aria';\n  }\n  if (cthis.hasClass('skin-silver')) {\n    o.design_skin = 'skin-silver';\n  }\n  if (cthis.hasClass('skin-redlights')) {\n    o.design_skin = 'skin-redlights';\n  }\n  if (cthis.hasClass('skin-steel')) {\n    o.design_skin = 'skin-steel';\n  }\n  if (cthis.hasClass('skin-customcontrols')) {\n    o.design_skin = 'skin-customcontrols';\n  }\n\n\n  if (o.design_skin == 'skin-wave') {\n    if (o.scrubbar_type == 'auto') {\n      o.scrubbar_type = 'wave';\n    }\n  }\n  if (o.scrubbar_type == 'auto') {\n    o.scrubbar_type = 'bar';\n  }\n\n\n  if (cthis.attr('data-viewsubmitted') == 'on') {\n    selfClass.ajax_view_submitted = 'on';\n\n    // console.log('selfClass.ajax_view_submitted from data-viewsubmitted', cthis);\n  }\n  if (cthis.attr('data-userstarrating')) {\n    selfClass.starrating_alreadyrated = Number(cthis.attr('data-userstarrating'));\n  }\n\n\n  if (cthis.hasClass('skin-minimal')) {\n    o.design_skin = 'skin-minimal';\n    if (o.disable_volume == 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub == 'default') {\n      o.disable_scrub = 'on';\n    }\n    o.disable_timer = 'on';\n  }\n  if (cthis.hasClass('skin-minion')) {\n    o.design_skin = 'skin-minion';\n    if (o.disable_volume == 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub == 'default') {\n      o.disable_scrub = 'on';\n    }\n\n    o.disable_timer = 'on';\n  }\n\n\n  if (o.design_color_bg) {\n    o.design_wave_color_bg = o.design_color_bg;\n  }\n\n\n  if (o.design_color_highlight) {\n    o.design_wave_color_progress = o.design_color_highlight;\n  }\n\n\n  if (o.design_skin == 'skin-justthumbandbutton') {\n    if (o.design_thumbh == 'default') {\n      o.design_thumbh = '';\n      //                        res_thumbh = true;\n    }\n    o.disable_timer = 'on';\n    o.disable_volume = 'on';\n\n    if (o.design_animateplaypause == 'default') {\n      o.design_animateplaypause = 'on';\n    }\n  }\n  if (o.design_skin == 'skin-redlights') {\n    o.disable_timer = 'on';\n    o.disable_volume = 'off';\n    if (o.design_animateplaypause == 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n  }\n  if (o.design_skin == 'skin-steel') {\n    if (o.disable_timer == 'default') {\n\n      o.disable_timer = 'off';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause == 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub == 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n  if (o.design_skin == 'skin-customcontrols') {\n    if (o.disable_timer == 'default') {\n\n      o.disable_timer = 'on';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause == 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub == 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n    // o.skinwave_wave_mode_canvas_waves_number=1;\n    // o.skinwave_wave_mode_canvas_waves_padding=0;\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n    // o.skinwave_timer_static='on';\n  }\n\n\n  if (o.embed_code == '') {\n    if (cthis.find('div.feed-embed-code').length > 0) {\n      o.embed_code = cthis.find('div.feed-embed-code').eq(0).html();\n    }\n  }\n\n  if (o.design_animateplaypause == 'default') {\n    o.design_animateplaypause = 'off';\n  }\n\n  if (o.design_animateplaypause == 'on') {\n    cthis.addClass('design-animateplaypause');\n  }\n\n  if (window.dzsap_settings) {\n    if (window.dzsap_settings.php_handler) {\n      if (!o.settings_php_handler) {\n\n        o.settings_php_handler = window.dzsap_settings.php_handler;\n      }\n    }\n  }\n  // console.log('o - ',o, selfClass);\n  if (o.settings_php_handler) {\n    selfClass.urlToAjaxHandler = o.settings_php_handler;\n  }\n\n\n}\n\n\n/**\n * from 1:01 to 61\n * @param arg\n * @returns {number}\n */\nexports.sanitize_from_point_time = function (arg) {\n  //formats the time\n\n\n  var fint = '';\n\n\n  arg = String(arg).replace('%3A', ':');\n  arg = String(arg).replace('#', '');\n\n  if (arg && String(arg).indexOf(':') > -1) {\n\n    var arr = /(\\d.*):(\\d.*)/g.exec(arg);\n\n    // console.log('result arr -  ',arr);\n\n    var m = parseInt(arr[1], 10);\n    var s = parseInt(arr[2], 10);\n\n\n    return (m * 60) + s;\n  } else {\n    return Number(arg);\n  }\n}\n\nexports.player_initSpectrumOnUserAction = function (selfClass) {\n\n  var javascriptNode = null;\n\n\n  console.log('setting up listeners for player_initSpectrumOnUserAction');\n  selfClass.cthis.get(0).addEventListener('mousedown', handleMouseDown, {once: true});\n  selfClass.cthis.get(0).addEventListener('touchdown', handleMouseDown, {once: true});\n\n  function handleMouseDown(e) {\n    console.log('setting up audio context --', e);\n\n    if (window.dzsap_audio_ctx == null) {\n      if (typeof AudioContext !== 'undefined') {\n        selfClass.spectrum_audioContext = new AudioContext();\n        window.dzsap_audio_ctx = selfClass.spectrum_audioContext;\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        selfClass.spectrum_audioContext = new webkitAudioContext();\n        window.dzsap_audio_ctx = selfClass.spectrum_audioContext;\n      } else {\n        selfClass.spectrum_audioContext = null;\n      }\n    } else {\n      selfClass.spectrum_audioContext = window.dzsap_audio_ctx;\n    }\n\n\n    if (selfClass.spectrum_audioContext.createOscillator) {\n\n      // oscillatorNode = selfClass.spectrum_audioContext.createOscillator();\n    }\n\n    if (selfClass.spectrum_audioContext.destination) {\n\n      // selfClass.spectrum_audioContext_finish = selfClass.spectrum_audioContext.destination;\n    }\n\n\n    // console.log('selfClass.spectrum_audioContext - ', selfClass.spectrum_audioContext);\n\n    if (selfClass.spectrum_audioContext) {\n\n\n      // -- normal\n      // setup a analyzer\n      if(selfClass.spectrum_analyser===null){\n\n        selfClass.spectrum_analyser = selfClass.spectrum_audioContext.createAnalyser();\n        selfClass.spectrum_analyser.smoothingTimeConstant = 0.3;\n        selfClass.spectrum_analyser.fftSize = 512;\n\n        // console.log('selfClass.audioType - ', selfClass.audioType);\n        if (selfClass.audioType == 'selfHosted') {\n          // console.log($mediaNode_);\n          // return;\n          selfClass.$mediaNode_.crossOrigin = \"anonymous\";\n          selfClass.spectrum_mediaElementSource = selfClass.spectrum_audioContext.createMediaElementSource(selfClass.$mediaNode_);\n\n          selfClass.spectrum_mediaElementSource.connect(selfClass.spectrum_analyser);\n          if (selfClass.spectrum_audioContext.createGain) {\n            selfClass.spectrum_gainNode = selfClass.spectrum_audioContext.createGain();\n          }\n          selfClass.spectrum_analyser.connect(selfClass.spectrum_audioContext.destination);\n\n          selfClass.spectrum_gainNode.gain.value = 1;\n\n          var frameCount = selfClass.spectrum_audioContext.sampleRate * 2.0;\n          selfClass.spectrum_audioContext_buffer = selfClass.spectrum_audioContext.createBuffer(2, frameCount, selfClass.spectrum_audioContext.sampleRate);\n        }\n      }\n    }\n\n  }\n\n\n}\n\nexports.player_stopOtherPlayers = function(dzsap_list, selfClass){\n\n  var i =0;\n  for (i = 0; i < dzsap_list.length; i++) {\n    // -- pause other players\n    if (dzsap_list[i].get(0) && dzsap_list[i].get(0).api_pause_media && (dzsap_list[i].get(0) != selfClass.cthis.get(0))) {\n\n      //console.error(\"LETS PAUSE\");\n      if (dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') && dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') == 'on') {\n        dzsap_list[i].get(0).api_destroy_for_rebuffer();\n      } else {\n        dzsap_list[i].get(0).api_pause_media({\n          'audioapi_setlasttime': false\n        });\n      }\n    }\n  }\n}\nexports.player_determineProperties = player_determineProperties;\nfunction player_determineProperties(){\n\n  var source = null;\n  var type = null;\n  var pcm = null;\n  var thumb = null;\n\n\n\n\n}\nexports.player_detect_skinwave_mode = player_detect_skinwave_mode;\nfunction player_detect_skinwave_mode () {\n\n  var selfClass = this;\n\n\n  selfClass.skinwave_mode = selfClass.initOptions.skinwave_mode;\n\n  if (selfClass.cthis.hasClass('skin-wave-mode-small')) {\n    selfClass.skinwave_mode = 'small'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n    selfClass.skinwave_mode = 'alternate'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-bigwavo')) {\n    selfClass.skinwave_mode = 'bigwavo'\n  }\n}\nexports.player_constructArtistAndSongCon = function (margs) {\n\n  var selfClass = this;\n\n  if (selfClass.cthis.find('.meta-artist').length == 0) {\n    if (selfClass.cthis.find('.feed-artist').length || selfClass.cthis.find('.feed-songname').length) {\n      var structHtml = '<span class=\"meta-artist player-artistAndSong\">';\n      if (selfClass.cthis.find('.feed-artist').length) {\n        structHtml += '<span class=\"the-artist\">' + selfClass.cthis.find('.feed-artist').eq(0).html() + '</span>';\n      }\n      if (selfClass.cthis.find('.feed-songname').length) {\n        structHtml += '<span class=\"the-name player-meta--songname\">' + selfClass.cthis.find('.feed-songname').eq(0).html() + '</span>';\n      }\n      structHtml += '</span>';\n      selfClass.cthis.append(structHtml);\n    }\n  }\n\n  if (selfClass.cthis.attr(\"data-type\") == 'fake') {\n    if (selfClass.cthis.find('.meta-artist').length == 0) {\n      selfClass.cthis.append('<span class=\"meta-artist\"><span class=\"the-artist\"></span><span class=\"the-name\"></span></span>')\n    }\n  }\n\n  if (!selfClass._metaArtistCon || margs.call_from == 'reconstruct') {\n    // -- reconstruct\n    if (selfClass.cthis.children('.meta-artist').length > 0) {\n      //console.log(cthis.hasClass('alternate-layout'));\n      if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n        //console.log(_conControls.children().last());\n\n        if (selfClass._conControls.children().last().hasClass('clear')) {\n          selfClass._conControls.children().last().remove();\n        }\n        selfClass._conControls.append(selfClass.cthis.children('.meta-artist'));\n      } else {\n\n        // -- normal\n        if (selfClass._audioplayerInner) {\n\n          selfClass._audioplayerInner.append(selfClass.cthis.children('.meta-artist'));\n        }\n      }\n\n    }\n\n\n    // -- we need meta-artist at this point\n    selfClass._audioplayerInner.find('.meta-artist').eq(0).wrap('<div class=\"meta-artist-con\"></div>');\n\n    //console.log('ceva');\n\n    selfClass._metaArtistCon = selfClass._audioplayerInner.find('.meta-artist-con').eq(0);\n\n\n    var o = selfClass.initOptions;\n\n\n    if (selfClass._apControls.find('.ap-controls-right').length > 0) {\n      selfClass._apControlsRight = selfClass.cthis.find('.ap-controls-right').eq(0);\n    }\n    if (selfClass._apControls.find('.ap-controls-left').length > 0) {\n      selfClass._apControlsLeft = selfClass._apControls.find('.ap-controls-left').eq(0);\n    }\n\n\n    if (o.design_skin == 'skin-pro') {\n      selfClass._apControlsRight = selfClass.cthis.find('.con-controls--right').eq(0)\n    }\n\n    if (o.design_skin == 'skin-wave') {\n\n\n      if (selfClass.cthis.find('.dzsap-repeat-button').length) {\n        selfClass.cthis.find('.dzsap-repeat-button').after(selfClass._metaArtistCon);\n      } else {\n\n\n        if (selfClass.cthis.find('.dzsap-loop-button').length && selfClass.cthis.find('.dzsap-loop-button').eq(0).parent().hasClass('feed-dzsap-for-extra-html-right') == false) {\n          selfClass.cthis.find('.dzsap-loop-button').after(selfClass._metaArtistCon);\n        } else {\n\n          selfClass._conPlayPauseCon.after(selfClass._metaArtistCon);\n        }\n      }\n\n      if (selfClass.skinwave_mode == 'alternate') {\n        selfClass._apControlsRight.before(selfClass._metaArtistCon);\n      }\n\n\n    }\n    if (o.design_skin == 'skin-aria') {\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n\n    }\n    if (o.design_skin == 'skin-redlights' || o.design_skin == 'skin-steel') {\n\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n\n\n    }\n    if (o.design_skin == 'skin-silver') {\n      selfClass._apControlsRight.append(selfClass._metaArtistCon);\n    }\n    if (o.design_skin == 'skin-default') {\n      selfClass._apControlsRight.before(selfClass._metaArtistCon);\n    }\n\n\n  }\n\n\n}\n\n\nexports.hexToRgb = hexToRgb;\nexports.handle_keypresses = handle_keypresses;\nexports.MD5 = MD5;\nexports.select_all = select_all;\nexports.dzsap_generate_keyboard_tooltip = dzsap_generate_keyboard_tooltip;\nexports.htmlEncode = htmlEncode;\nexports.dzsap_is_mobile = dzsap_is_mobile;\nexports.is_ios = is_ios;\nexports.is_android = is_android;\nexports.is_android_good = is_android_good;\nexports.get_query_arg = get_query_arg;\nexports.add_query_arg = add_query_arg;\nexports.can_history_api = can_history_api;\nexports.dzs_clean_string = dzs_clean_string;\nexports.formatTime = formatTime;\nexports.can_canvas = can_canvas;\n\n\nexports.dzsap_generate_keyboard_controls = dzsap_generate_keyboard_controls;\n\n\n/**\n * deprecated\n * @param argarray\n * @returns {boolean}\n */\nfunction drawSpectrum(argarray) {\n\n  // todo: no functino ?\n  //console.log(array);\n  //console.log()\n  //console.log($('.scrub-bg-canvas').eq(0).get(0).width, canw);\n\n  //console.log(_scrubBgCanvas.get(0).width, _scrubBgCanvas.width())\n\n\n  // console.log(_scrubbarbg_canvas);\n  if (selfClass._scrubbarbg_canvas) {\n\n    // dzsapWaveFunctions.draw_canvas(selfClass._scrubbarbg_canvas.get(0), argarray, o.design_wave_color_bg, {call_from: 'draw_spectrum_pcm_bg'});\n    // draw_canvas(_scrubbarprog_canvas.get(0), argarray, o.design_wave_color_progress);\n  }\n\n  return false;\n\n\n};\n\nexports.convertPluginOptionsToFinalOptions = function (elThis, defaultOptions, argOptions = null, searchedAttr = 'data-options') {\n\n  var finalOptions = null;\n  var tempOptions = {};\n  var sw_setFromJson = false;\n  var _elThis = jQuery(elThis);\n\n  if (argOptions && typeof argOptions == 'object') {\n    tempOptions = argOptions;\n  } else {\n\n    if (_elThis.attr(searchedAttr)) {\n      try {\n        tempOptions = JSON.parse(_elThis.attr(searchedAttr));\n        sw_setFromJson = true;\n      } catch (err) {\n\n        console.log('err - ', err);\n      }\n    }\n    if (!sw_setFromJson) {\n\n      if (typeof argOptions == 'undefined' || !argOptions) {\n        if (typeof _elThis.attr(searchedAttr) != 'undefined' && _elThis.attr('data-options') != '') {\n          var aux = _elThis.attr(searchedAttr);\n          aux = 'var aux_opts = ' + aux;\n          eval(aux);\n          tempOptions = Object.assign({}, aux_opts);\n        }\n      }\n    }\n  }\n  finalOptions = Object.assign(defaultOptions, tempOptions);\n\n  return finalOptions;\n}\n\nexports.generateFakeArrayForPcm = function () {\n\n  //console.log('generateFakeArray()');\n  var maxlen = 256;\n\n  var arr = [];\n\n  for (var it1 = 0; it1 < maxlen; it1++) {\n    arr[it1] = Math.random() * 100;\n\n  }\n\n  return arr;\n}\n\n\n\n\nexports.scrubbar_modeWave_clearObsoleteCanvas = scrubbar_modeWave_clearObsoleteCanvas;\nfunction scrubbar_modeWave_clearObsoleteCanvas(selfClass){\n  if(selfClass._scrubbar){\n    selfClass._scrubbar.find('.scrubbar-type-wave--canvas.transitioning-out').remove();\n  }\n}\nexports.scrubbar_modeWave_setupCanvas = scrubbar_modeWave_setupCanvas;\nfunction scrubbar_modeWave_setupCanvas(pargs, selfClass){\n\n  var margs = {\n    prepare_for_transition_in: false\n  }\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n  var struct_scrubBg_str = '';\n  var struct_scrubProg_str = '';\n  var aux_selector = '';\n  var o = selfClass.initOptions;\n\n\n  struct_scrubBg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-bg-img';\n  struct_scrubBg_str += '\" ></canvas>';\n\n  struct_scrubProg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-prog-img';\n  struct_scrubProg_str += '\" ></canvas>';\n\n  selfClass._scrubbar.children('.scrub-bg').eq(0).append(struct_scrubBg_str);\n  selfClass._scrubbar.children('.scrub-prog').eq(0).append(struct_scrubProg_str);\n\n\n  selfClass._scrubbarbg_canvas = selfClass._scrubbar.find('.scrub-bg-img').last();\n  selfClass._scrubbarprog_canvas = selfClass._scrubbar.find('.scrub-prog-img').last();\n\n  if (o.skinwave_enableSpectrum == 'on') {\n    selfClass._scrubbarprog_canvas.hide();\n  }\n\n\n  if (margs.prepare_for_transition_in) {\n    selfClass._scrubbarbg_canvas.addClass('preparing-transitioning-in');\n    selfClass._scrubbarprog_canvas.addClass('preparing-transitioning-in');\n    setTimeout(()=>{\n      selfClass._scrubbarbg_canvas.addClass('transitioning-in');\n      selfClass._scrubbarprog_canvas.addClass('transitioning-in');\n    },20);\n  }\n}\n","\nvar svg_play_icon = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"11.161px\" height=\"12.817px\" viewBox=\"0 0 11.161 12.817\" enable-background=\"new 0 0 11.161 12.817\" xml:space=\"preserve\"> <path fill=\"#D2D6DB\" d=\"M8.233,4.589c1.401,0.871,2.662,1.77,2.801,1.998c0.139,0.228-1.456,1.371-2.896,2.177l-4.408,2.465 c-1.44,0.805-2.835,1.474-3.101,1.484c-0.266,0.012-0.483-1.938-0.483-3.588V3.666c0-1.65,0.095-3.19,0.212-3.422 c0.116-0.232,1.875,0.613,3.276,1.484L8.233,4.589z\"/>  </svg>  ';\n\nvar svg_heart_icon = '<svg xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" width=\"15\" height=\"15\"  viewBox=\"0 0 645 700\" id=\"svg2\"> <defs id=\"defs4\" /> <g id=\"layer1\"> <path d=\"M 297.29747,550.86823 C 283.52243,535.43191 249.1268,505.33855 220.86277,483.99412 C 137.11867,420.75228 125.72108,411.5999 91.719238,380.29088 C 29.03471,322.57071 2.413622,264.58086 2.5048478,185.95124 C 2.5493594,147.56739 5.1656152,132.77929 15.914734,110.15398 C 34.151433,71.768267 61.014996,43.244667 95.360052,25.799457 C 119.68545,13.443675 131.6827,7.9542046 172.30448,7.7296236 C 214.79777,7.4947896 223.74311,12.449347 248.73919,26.181459 C 279.1637,42.895777 310.47909,78.617167 316.95242,103.99205 L 320.95052,119.66445 L 330.81015,98.079942 C 386.52632,-23.892986 564.40851,-22.06811 626.31244,101.11153 C 645.95011,140.18758 648.10608,223.6247 630.69256,270.6244 C 607.97729,331.93377 565.31255,378.67493 466.68622,450.30098 C 402.0054,497.27462 328.80148,568.34684 323.70555,578.32901 C 317.79007,589.91654 323.42339,580.14491 297.29747,550.86823 z\" id=\"path2417\" style=\"\" /> <g transform=\"translate(129.28571,-64.285714)\" id=\"g2221\" /> </g> </svg> ';\nvar svg_arrow_resize = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"12px\" viewBox=\"0 0 511.626 511.627\" style=\"enable-background:new 0 0 511.626 511.627;\" xml:space=\"preserve\"> <g><path d=\"M328.906,401.994h-36.553V109.636h36.553c4.948,0,9.236-1.809,12.847-5.426c3.613-3.615,5.421-7.898,5.421-12.845 c0-4.949-1.801-9.231-5.428-12.851l-73.087-73.09C265.044,1.809,260.76,0,255.813,0c-4.948,0-9.229,1.809-12.847,5.424 l-73.088,73.09c-3.618,3.619-5.424,7.902-5.424,12.851c0,4.946,1.807,9.229,5.424,12.845c3.619,3.617,7.901,5.426,12.85,5.426 h36.545v292.358h-36.542c-4.952,0-9.235,1.808-12.85,5.421c-3.617,3.621-5.424,7.905-5.424,12.854 c0,4.945,1.807,9.227,5.424,12.847l73.089,73.088c3.617,3.617,7.898,5.424,12.847,5.424c4.95,0,9.234-1.807,12.849-5.424 l73.087-73.088c3.613-3.62,5.421-7.901,5.421-12.847c0-4.948-1.808-9.232-5.421-12.854 C338.142,403.802,333.857,401.994,328.906,401.994z\" fill=\"#363636\"/> </g></svg>';\n\n\nvar svg_share_icon = '<svg class=\"svg-icon\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"512px\" height=\"512px\" viewBox=\"0 0 511.626 511.627\" style=\"enable-background:new 0 0 511.626 511.627;\" xml:space=\"preserve\"> <g> <path d=\"M506.206,179.012L360.025,32.834c-3.617-3.617-7.898-5.426-12.847-5.426s-9.233,1.809-12.847,5.426 c-3.617,3.619-5.428,7.902-5.428,12.85v73.089h-63.953c-135.716,0-218.984,38.354-249.823,115.06C5.042,259.335,0,291.03,0,328.907 c0,31.594,12.087,74.514,36.259,128.762c0.57,1.335,1.566,3.614,2.996,6.849c1.429,3.233,2.712,6.088,3.854,8.565 c1.146,2.471,2.384,4.565,3.715,6.276c2.282,3.237,4.948,4.859,7.994,4.859c2.855,0,5.092-0.951,6.711-2.854 c1.615-1.902,2.424-4.284,2.424-7.132c0-1.718-0.238-4.236-0.715-7.569c-0.476-3.333-0.715-5.564-0.715-6.708 c-0.953-12.938-1.429-24.653-1.429-35.114c0-19.223,1.668-36.449,4.996-51.675c3.333-15.229,7.948-28.407,13.85-39.543 c5.901-11.14,13.512-20.745,22.841-28.835c9.325-8.09,19.364-14.702,30.118-19.842c10.756-5.141,23.413-9.186,37.974-12.135 c14.56-2.95,29.215-4.997,43.968-6.14s31.455-1.711,50.109-1.711h63.953v73.091c0,4.948,1.807,9.232,5.421,12.847 c3.62,3.613,7.901,5.424,12.847,5.424c4.948,0,9.232-1.811,12.854-5.424l146.178-146.183c3.617-3.617,5.424-7.898,5.424-12.847 C511.626,186.92,509.82,182.636,506.206,179.012z\" fill=\"#696969\"/> </g></svg> ';\n\n\n\nexports.svg_preloader_code = ' <svg class=\"loading-svg\" width=\"30\" height=\"30\" viewBox=\"0 0 44 44\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\"> <g fill=\"none\" fill-rule=\"evenodd\" stroke-width=\"2\"> <circle cx=\"22\" cy=\"22\" r=\"1\"> <animate attributeName=\"r\" begin=\"0s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /> <animate attributeName=\"stroke-opacity\" begin=\"0s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /> </circle> <circle cx=\"22\" cy=\"22\" r=\"1\"> <animate attributeName=\"r\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /> <animate attributeName=\"stroke-opacity\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /> </circle> </g> </svg> ';\nvar svg_volume_static = ' <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"57px\" height=\"12px\" viewBox=\"0 0 57 12\" enable-background=\"new 0 0 57 12\" xml:space=\"preserve\"> <rect y=\"9\" fill=\"#414042\" width=\"3\" height=\"3\"/> <rect x=\"6\" y=\"8\" fill=\"#414042\" width=\"3\" height=\"4\"/> <rect x=\"12\" y=\"7\" fill=\"#414042\" width=\"3\" height=\"5\"/> <rect x=\"18\" y=\"5.958\" fill=\"#414042\" width=\"3\" height=\"6\"/> <rect x=\"24\" y=\"4.958\" fill=\"#414042\" width=\"3\" height=\"7\"/> <rect x=\"30\" y=\"4\" fill=\"#414042\" width=\"3\" height=\"8\"/> <rect x=\"36\" y=\"3\" fill=\"#414042\" width=\"3\" height=\"9\"/> <rect x=\"42\" y=\"2\" fill=\"#414042\" width=\"3\" height=\"10\"/> <rect x=\"48\" y=\"1\" fill=\"#414042\" width=\"3\" height=\"11\"/> <rect x=\"54\" fill=\"#414042\" width=\"3\" height=\"12\"/> </svg> ';\nvar svg_embed_button = ' <svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10.975px\" height=\"14.479px\" viewBox=\"0 0 10.975 14.479\" enable-background=\"new 0 0 10.975 14.479\" xml:space=\"preserve\"> <g> <path d=\"M2.579,1.907c0.524-0.524,1.375-0.524,1.899,0l4.803,4.804c0.236-0.895,0.015-1.886-0.687-2.587L5.428,0.959 c-1.049-1.05-2.75-1.05-3.799,0L0.917,1.671c-1.049,1.05-1.049,2.751,0,3.801l3.167,3.166c0.7,0.702,1.691,0.922,2.587,0.686 L1.867,4.52c-0.524-0.524-0.524-1.376,0-1.899L2.579,1.907z M5.498,13.553c1.05,1.05,2.75,1.05,3.801,0l0.712-0.713 c1.05-1.05,1.05-2.75,0-3.8L6.843,5.876c-0.701-0.7-1.691-0.922-2.586-0.686l4.802,4.803c0.524,0.525,0.524,1.376,0,1.897 l-0.713,0.715c-0.523,0.522-1.375,0.522-1.898,0L1.646,7.802c-0.237,0.895-0.014,1.886,0.686,2.586L5.498,13.553z\"/> </g> </svg> ';\n\n\n\nvar svg_prev_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M2.581,7.375c-0.744-0.462-1.413-0.94-1.486-1.061C1.021,6.194,1.867,5.586,2.632,5.158l2.35-1.313 c0.765-0.427,1.505-0.782,1.646-0.789s0.257,1.03,0.257,1.905V7.87c0,0.876-0.051,1.692-0.112,1.817 C6.711,9.81,5.776,9.361,5.032,8.898L2.581,7.375z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.307,7.57C5.413,7.014,4.61,6.441,4.521,6.295C4.432,6.15,5.447,5.42,6.366,4.906l2.82-1.577 c0.919-0.513,1.809-0.939,1.979-0.947s0.309,1.236,0.309,2.288v3.493c0,1.053-0.061,2.033-0.135,2.182S10.144,9.955,9.25,9.4 L6.307,7.57z\"/> </g> </g> </g> </svg>';\nvar svg_next_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M9.874,5.443c0.744,0.462,1.414,0.939,1.486,1.06c0.074,0.121-0.771,0.729-1.535,1.156L7.482,8.967 C6.719,9.394,5.978,9.75,5.837,9.756C5.696,9.761,5.581,8.726,5.581,7.851V4.952c0-0.875,0.05-1.693,0.112-1.816 c0.062-0.124,0.995,0.326,1.739,0.788L9.874,5.443z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.155,5.248c0.893,0.556,1.696,1.129,1.786,1.274c0.088,0.145-0.928,0.875-1.847,1.389l-2.811,1.57 c-0.918,0.514-1.808,0.939-1.978,0.947c-0.169,0.008-0.308-1.234-0.308-2.287V4.66c0-1.052,0.061-2.034,0.135-2.182 s1.195,0.391,2.089,0.947L6.155,5.248z\"/> </g> </g> </g> </svg>';\nvar svg_prev_btn_steel = '<svg class=\"svg1\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10px\" height=\"13.325px\" viewBox=\"0 0 10 13.325\" enable-background=\"new 0 0 10 13.325\" xml:space=\"preserve\"> <g id=\"Layer_2\"> <polygon opacity=\"0.5\" fill=\"#E6E7E8\" points=\"3.208,7.674 5.208,9.104 5.208,5.062 3.208,5.652 \"/> </g> <g id=\"Layer_1\"> <rect x=\"0.306\" y=\"3.074\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -1.4203 4.7299)\" fill=\"#E6E7E8\" width=\"9.386\" height=\"2.012\"/> <rect x=\"0.307\" y=\"8.29\" transform=\"matrix(0.7072 0.707 -0.707 0.7072 8.0362 -0.8139)\" fill=\"#E6E7E8\" width=\"9.387\" height=\"2.012\"/> </g> </svg> <svg class=\"svg2\"  version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10px\" height=\"13.325px\" viewBox=\"0 0 10 13.325\" enable-background=\"new 0 0 10 13.325\" xml:space=\"preserve\"> <g id=\"Layer_2\"> <polygon opacity=\"0.5\" fill=\"#E6E7E8\" points=\"3.208,7.674 5.208,9.104 5.208,5.062 3.208,5.652 \"/> </g> <g id=\"Layer_1\"> <rect x=\"0.306\" y=\"3.074\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -1.4203 4.7299)\" fill=\"#E6E7E8\" width=\"9.386\" height=\"2.012\"/> <rect x=\"0.307\" y=\"8.29\" transform=\"matrix(0.7072 0.707 -0.707 0.7072 8.0362 -0.8139)\" fill=\"#E6E7E8\" width=\"9.387\" height=\"2.012\"/> </g> </svg>';\nvar svg_next_btn_steel = '<svg class=\"svg1\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10px\" height=\"13.325px\" viewBox=\"0 0 10 13.325\" enable-background=\"new 0 0 10 13.325\" xml:space=\"preserve\"> <g id=\"Layer_2\"> <polygon opacity=\"0.5\" fill=\"#E6E7E8\" points=\"7.035,5.695 5.074,4.292 5.074,8.257 7.035,7.678 \"/> </g> <g id=\"Layer_1\"> <rect x=\"0.677\" y=\"8.234\" transform=\"matrix(-0.7071 0.7071 -0.7071 -0.7071 15.532 12.0075)\" fill=\"#E6E7E8\" width=\"9.204\" height=\"1.973\"/> <rect x=\"0.674\" y=\"3.118\" transform=\"matrix(-0.7072 -0.707 0.707 -0.7072 6.1069 10.7384)\" fill=\"#E6E7E8\" width=\"9.206\" height=\"1.974\"/> </g> </svg><svg class=\"svg2\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10px\" height=\"13.325px\" viewBox=\"0 0 10 13.325\" enable-background=\"new 0 0 10 13.325\" xml:space=\"preserve\"> <g id=\"Layer_2\"> <polygon opacity=\"0.5\" fill=\"#E6E7E8\" points=\"7.035,5.695 5.074,4.292 5.074,8.257 7.035,7.678 \"/> </g> <g id=\"Layer_1\"> <rect x=\"0.677\" y=\"8.234\" transform=\"matrix(-0.7071 0.7071 -0.7071 -0.7071 15.532 12.0075)\" fill=\"#E6E7E8\" width=\"9.204\" height=\"1.973\"/> <rect x=\"0.674\" y=\"3.118\" transform=\"matrix(-0.7072 -0.707 0.707 -0.7072 6.1069 10.7384)\" fill=\"#E6E7E8\" width=\"9.206\" height=\"1.974\"/> </g> </svg>';\nvar playbtn_svg = '<svg version=\"1.2\" baseProfile=\"tiny\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"30px\" viewBox=\"0 0 25 30\" xml:space=\"preserve\"> <path d=\"M24.156,13.195L2.406,0.25C2.141,0.094,1.867,0,1.555,0C0.703,0,0.008,0.703,0.008,1.562H0v26.875h0.008 C0.008,29.297,0.703,30,1.555,30c0.32,0,0.586-0.109,0.875-0.266l21.727-12.93C24.672,16.375,25,15.727,25,15 S24.672,13.633,24.156,13.195z\"/> </svg>';\nvar pausebtn_svg = '<svg version=\"1.2\" baseProfile=\"tiny\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"30px\" viewBox=\"0 0 25 30\" xml:space=\"preserve\"> <path d=\"M9.812,29.7c0,0.166-0.178,0.3-0.398,0.3H2.461c-0.22,0-0.398-0.134-0.398-0.3V0.3c0-0.166,0.178-0.3,0.398-0.3h6.953 c0.22,0,0.398,0.134,0.398,0.3V29.7z\"/> <path d=\"M23.188,29.7c0,0.166-0.178,0.3-0.398,0.3h-6.953c-0.22,0-0.398-0.134-0.398-0.3V0.3c0-0.166,0.178-0.3,0.398-0.3h6.953 c0.22,0,0.398,0.134,0.398,0.3V29.7z\"/> </svg>';\n\n\nvar svg_pause = ' <svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_3\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"13px\" viewBox=\"0 0 13.415 16.333\" enable-background=\"new 0 0 13.415 16.333\" xml:space=\"preserve\"> <path fill=\"#D2D6DB\" d=\"M4.868,14.59c0,0.549-0.591,0.997-1.322,0.997H2.2c-0.731,0-1.322-0.448-1.322-0.997V1.618 c0-0.55,0.592-0.997,1.322-0.997h1.346c0.731,0,1.322,0.447,1.322,0.997V14.59z\"/> <path fill=\"#D2D6DB\" d=\"M12.118,14.59c0,0.549-0.593,0.997-1.324,0.997H9.448c-0.729,0-1.322-0.448-1.322-0.997V1.619 c0-0.55,0.593-0.997,1.322-0.997h1.346c0.731,0,1.324,0.447,1.324,0.997V14.59z\"/> </svg>  ';\n\nvar svg_volume = '<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"57px\" height=\"12px\" viewBox=\"0 0 57 12\" enable-background=\"new 0 0 57 12\" xml:space=\"preserve\"> <rect y=\"9\" fill=\"#414042\" width=\"3\" height=\"3\"/> <rect x=\"6\" y=\"8\" fill=\"#414042\" width=\"3\" height=\"4\"/> <rect x=\"12\" y=\"7\" fill=\"#414042\" width=\"3\" height=\"5\"/> <rect x=\"18\" y=\"5.958\" fill=\"#414042\" width=\"3\" height=\"6\"/> <rect x=\"24\" y=\"4.958\" fill=\"#414042\" width=\"3\" height=\"7\"/> <rect x=\"30\" y=\"4\" fill=\"#414042\" width=\"3\" height=\"8\"/> <rect x=\"36\" y=\"3\" fill=\"#414042\" width=\"3\" height=\"9\"/> <rect x=\"42\" y=\"2\" fill=\"#414042\" width=\"3\" height=\"10\"/> <rect x=\"48\" y=\"1\" fill=\"#414042\" width=\"3\" height=\"11\"/> <rect x=\"54\" fill=\"#414042\" width=\"3\" height=\"12\"/> </svg>';\nvar svg_menu_state = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\nvar svg_embed_btn = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"15px\" height=\"15px\" viewBox=\"0 0 15 15\" xml:space=\"preserve\"> <g id=\"Layer_1\"> <polygon fill=\"#E6E7E8\" points=\"1.221,7.067 0.494,5.422 4.963,1.12 5.69,2.767 \"/> <polygon fill=\"#E6E7E8\" points=\"0.5,5.358 1.657,4.263 3.944,10.578 2.787,11.676 \"/> <polygon fill=\"#E6E7E8\" points=\"13.588,9.597 14.887,8.34 12.268,2.672 10.969,3.93 \"/> <polygon fill=\"#E6E7E8\" points=\"14.903,8.278 14.22,6.829 9.714,11.837 10.397,13.287 \"/> </g> <g id=\"Layer_2\"> <rect x=\"6.416\" y=\"1.713\" transform=\"matrix(0.9663 0.2575 -0.2575 0.9663 2.1699 -1.6329)\" fill=\"#E6E7E8\" width=\"1.805\" height=\"11.509\"/> </g> </svg>';\n\n\nvar svg_footer_playlist = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\nvar svg_close_btn = '<svg enable-background=\"new 0 0 40 40\" id=\"\" version=\"1.1\" viewBox=\"0 0 40 40\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><path d=\"M28.1,26.8c0.4,0.4,0.4,1,0,1.4c-0.2,0.2-0.5,0.3-0.7,0.3s-0.5-0.1-0.7-0.3l-6.8-6.8l-6.8,6.8c-0.2,0.2-0.5,0.3-0.7,0.3 s-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l6.8-6.8l-6.8-6.8c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l6.8,6.8l6.8-6.8 c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4L21.3,20L28.1,26.8z\"></path></g><g><path d=\"M19.9,40c-11,0-20-9-20-20s9-20,20-20c4.5,0,8.7,1.5,12.3,4.2c0.4,0.3,0.5,1,0.2,1.4c-0.3,0.4-1,0.5-1.4,0.2 c-3.2-2.5-7-3.8-11-3.8c-9.9,0-18,8.1-18,18s8.1,18,18,18s18-8.1,18-18c0-3.2-0.9-6.4-2.5-9.2c-0.3-0.5-0.1-1.1,0.3-1.4 c0.5-0.3,1.1-0.1,1.4,0.3c1.8,3.1,2.8,6.6,2.8,10.2C39.9,31,30.9,40,19.9,40z\"></path></g></svg>';\n\nexports.svg_footer_playlist = svg_footer_playlist;\nexports.svg_close_btn = svg_close_btn;\nexports.svg_pause = svg_pause;\nexports.svg_embed_btn = svg_embed_btn;\nexports.svg_prev_btn = svg_prev_btn;\nexports.svg_next_btn = svg_next_btn;\nexports.svg_prev_btn_steel = svg_prev_btn_steel;\nexports.svg_next_btn_steel = svg_next_btn_steel;\nexports.svg_menu_state = svg_menu_state;\nexports.svg_volume = svg_volume;\nexports.svg_play_icon = svg_play_icon;\nexports.svg_heart_icon = svg_heart_icon;\nexports.svg_arrow_resize = svg_arrow_resize;\nexports.svg_volume_static = svg_volume_static;\nexports.svg_embed_button = svg_embed_button;\nexports.playbtn_svg = playbtn_svg;\nexports.svg_share_icon = svg_share_icon;\nexports.pausebtn_svg = pausebtn_svg;\n","exports.constants = {\n  PLAYLIST_TRANSITION_DURATION: 300,\n  'DEBUG_STYLE_1' : 'background-color: #aaa022; color: #222222;',\n  'DEBUG_STYLE_2' : 'background-color: #7c3b8e; color: #ffffff;',\n  'DEBUG_STYLE_3' : 'background-color: #3a696b; color: #eeeeee;',\n  'DEBUG_STYLE_ERROR' : 'background-color: #3a696b; color: #eeeeee;',\n  URL_WAVESURFER : 'https://unpkg.com/wavesurfer.js@3.3.3/dist/wavesurfer.min.js',\n  WAVESURFER_MAX_TIMEOUT : 20000,\n  DEBUG_STYLE_PLAY_FUNCTIONS: 'background-color: #daffda; color: #222222;'\n}\n","exports.decode_json = function (arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n      console.log(err, arg);\n      return null;\n    }\n  }\n\n  return fout;\n}\n\n\n\nexports.isInt = function(n) {\n  return typeof n == 'number' && Math.round(n) % 1 == 0;\n}\n\nexports.isValid = function (n) {\n  return typeof n != 'undefined' && n != '';\n}\n","const dzsHelpers = require('../js_common/_dzs_helpers');\nconst dzsapHelpers = require('./_dzsap_helpers');\nexports.ajax_submit_views = function (argp) {\n\n  // console.log('ajax_submit_views()',argp);\n\n  // console.log('this - ', this);\n  var selfClass = this;\n  var $ = jQuery;\n  var data = {\n    action: 'dzsap_submit_views',\n    postdata: 1,\n    playerid: selfClass.the_player_id,\n    currip: selfClass.currIp\n  };\n\n\n  if (selfClass.cthis.attr('data-playerid-for-views')) {\n    data.playerid = selfClass.cthis.attr('data-playerid-for-views');\n  }\n\n\n  if (data.playerid == '') {\n    data.playerid = dzs_clean_string(selfClass.data_source);\n  }\n\n  //                console.log(ajax_view_submitted);\n\n\n  // -- submit view\n  if (selfClass.urlToAjaxHandler) {\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        // -- increase number of hits\n        var auxnr = selfClass.cthis.find('.counter-hits .the-number').html();\n        auxnr = parseInt(auxnr, 10);\n        if (selfClass.increment_views != 2) {\n          auxnr++;\n        }\n        if (response) {\n          if (dzsHelpers.decode_json(response)) {\n            auxnr = dzsHelpers.decode_json(response)['number'];\n          }\n        }\n\n        selfClass.cthis.find('.counter-hits .the-number').html(auxnr);\n\n        selfClass.ajax_view_submitted = 'on';\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n\n        var auxlikes = selfClass.cthis.find('.counter-hits .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        selfClass.cthis.find('.counter-hits .the-number').html(auxlikes);\n\n        selfClass.ajax_view_submitted = 'on';\n      }\n    });\n    selfClass.ajax_view_submitted = 'on';\n  }\n\n}\n\n\nexports.ajax_get_views = function (argp) {\n  // -- only used for local ... wp gets this directly\n  //only handles ajax call + result\n  var mainarg = argp;\n  var selfClass = this;\n  var data = {\n    action: 'dzsap_get_views',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id\n  };\n\n\n  if (data.playerid == '') {\n    data.playerid = dzsapHelpers.dzs_clean_string(data_source);\n  }\n\n\n  if (selfClass.urlToAjaxHandler) {\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        // console.log(response);\n        var responseViews = String('');\n\n\n        var aux = dzsHelpers.decode_json(response);\n        if (aux) {\n          responseViews = aux.views;\n          // console.log(' responseViews - ', responseViews, res);\n        } else {\n          responseViews = response;\n        }\n\n        if (!responseViews) {\n          responseViews = '';\n        }\n\n\n        if (responseViews.indexOf('viewsubmitted') > -1) {\n          responseViews = responseViews.replace('viewsubmitted', '');\n          selfClass.ajax_view_submitted = 'on';\n          selfClass.increment_views = 0;\n        }\n\n        if (responseViews == '') {\n          responseViews = 0;\n        }\n\n\n        if (String(responseViews).indexOf('{{theip') > -1) {\n\n          var auxa = /{\\{theip-(.*?)}}/g.exec(responseViews);\n          if (auxa[1]) {\n            selfClass.currIp = auxa[1];\n          }\n\n          responseViews = responseViews.replace(/{\\{theip-(.*?)}}/g, '');\n\n\n        }\n\n\n        // console.log('selfClass.increment_views', selfClass.increment_views);\n        if (selfClass.increment_views == 1) {\n\n\n          if (exports) {\n            (exports.ajax_submit_views.bind(selfClass))();\n\n          }\n          //console.log('responseViews iz '+responseViews);\n          responseViews = Number(responseViews) + selfClass.increment_views;\n          ;\n          //console.log(responseViews);\n          selfClass.increment_views = 2;\n        }\n\n        var auxhtml = selfClass.cthis.find('.extra-html').eq(0).html();\n\n\n        auxhtml = auxhtml.replace('{{get_plays}}', responseViews);\n\n\n        selfClass.cthis.find('.extra-html').eq(0).html(auxhtml);\n        selfClass.index_extrahtml_toloads--;\n\n\n        if (selfClass.index_extrahtml_toloads == 0) {\n          selfClass.cthis.find('.extra-html').addClass('active');\n        }\n\n      },\n      error: function (arg) {\n\n        selfClass.index_extrahtml_toloads--;\n        if (selfClass.index_extrahtml_toloads == 0) {\n          selfClass.cthis.find('.extra-html').addClass('active');\n        }\n      }\n    });\n  }\n}\n\n\nexports.ajax_submit_rating = function (argp) {\n  //only handles ajax call + result\n  var selfClass = this;\n  var $ = jQuery;\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_submit_rate',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id\n  };\n\n  if (selfClass.starrating_alreadyrated > -1) {\n    return;\n  }\n  selfClass.cthis.find('.star-rating-con').addClass('just-rated');\n\n\n  if (selfClass.urlToAjaxHandler) {\n    selfClass.initOptions.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n        ;\n\n\n        var resp_arr = {};\n\n        try {\n          resp_arr = JSON.parse(response);\n        } catch (e) {\n          console.log(e);\n        }\n\n        var aux = selfClass.cthis.find('.star-rating-set-clip').outerWidth() / selfClass.cthis.find('.star-rating-bg').outerWidth();\n        var nrrates = parseInt(selfClass.cthis.find('.counter-rates .the-number').html(), 10);\n\n        nrrates++;\n\n        var aux2 = ((nrrates - 1) * (aux * 5) + selfClass.starrating_index) / (nrrates)\n\n        //                        console.log(aux, aux2, nrrates);\n\n        setTimeout(function () {\n\n          selfClass.cthis.find('.star-rating-con').removeClass('just-rated');\n        }, 100);\n        selfClass.cthis.find('.counter-rates .the-number').html(resp_arr.number);\n\n        selfClass.cthis.find('.star-rating-con').attr('data-initial-rating-index', Number(resp_arr.index) / 5);\n        selfClass.cthis.find('.star-rating-con .rating-prog').css('width', (Number(resp_arr.index) / 5 * 100) + '%');\n\n        if (selfClass.initOptions.parentgallery && $(selfClass.initOptions.parentgallery).get(0) != undefined && $(selfClass.initOptions.parentgallery).get(0).api_player_rateSubmitted != undefined) {\n          $(selfClass.initOptions.parentgallery).get(0).api_player_rateSubmitted();\n        }\n\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n\n        var aux = selfClass.selfClass.cthis.find('.star-rating-set-clip').outerWidth() / selfClass.cthis.find('.star-rating-bg').outerWidth();\n        var nrrates = parseInt(selfClass.cthis.find('.counter-rates .the-number').html(), 10);\n\n        nrrates++;\n\n        var aux2 = ((nrrates - 1) * (aux * 5) + selfClass.starrating_index) / (nrrates)\n\n        //                        console.log(aux, aux2, nrrates);\n        selfClass.cthis.find('.star-rating-set-clip').width(aux2 * (parseInt(cthis.find('.star-rating-bg').width(), 10) / 5));\n        selfClass.cthis.find('.counter-rates .the-number').html(nrrates);\n\n        if (selfClass.initOptions.parentgallery && $(selfClass.initOptions.parentgallery).get(0) != undefined && $(selfClass.initOptions.parentgallery).get(0).api_player_rateSubmitted != undefined) {\n          $(selfClass.initOptions.parentgallery).get(0).api_player_rateSubmitted();\n        }\n\n      }\n    });\n  }\n}\n\n\nexports.ajax_submit_like = function (argp, playerid, pargs) {\n\n  // -- from gallery -- todo:replace with universal form!!\n\n  //only handles ajax call + result\n\n\n  var selfClass = this;\n  var $ = jQuery;\n\n\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_submit_like',\n    postdata: mainarg,\n    playerid: playerid\n  };\n\n  var margs = {\n    refferer: null\n  }\n\n  if (pargs) {\n    margs = $.extend(margs, pargs);\n  }\n\n  //console.log(margs,pargs,o.settings_php_handler);\n\n\n  if (selfClass.urlToAjaxHandler) {\n\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        if (margs.refferer) {\n          margs.refferer.addClass('active');\n        }\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n      }\n    });\n  }\n}\n\n\nexports.ajax_submit_like = function (argp) {\n  var selfClass = this;\n  var $ = jQuery;\n\n  //only handles ajax call + result\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_submit_like',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id\n  };\n\n\n  selfClass.cthis.find('.btn-like').addClass('disabled');\n\n  if (selfClass.urlToAjaxHandler || selfClass.cthis.hasClass('is-preview')) {\n\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        selfClass.cthis.find('.btn-like').addClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n\n        selfClass.cthis.find('.btn-like').addClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      }\n    });\n  }\n}\n\nexports.ajax_retract_like = function (argp) {\n  var selfClass = this;\n  var $ = jQuery;\n\n  //only handles ajax call + result\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_retract_like',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id\n  };\n\n  selfClass.cthis.find('.btn-like').addClass('disabled');\n\n\n  if (selfClass.urlToAjaxHandler) {\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        selfClass.cthis.find('.btn-like').removeClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes--;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n        selfClass.cthis.find('.btn-like').removeClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes--;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      }\n    });\n  }\n}\n\n\nexports.ajax_comment_publish = function (argp) {\n  // -- only handles ajax call + result\n  var selfClass = this;\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n  console.log(' o - ', o, selfClass);\n\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_front_submitcomment',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id,\n    comm_position: selfClass.commentPositionPerc,\n    skinwave_comments_process_in_php: o.skinwave_comments_process_in_php,\n    skinwave_comments_avatar: o.skinwave_comments_avatar,\n    skinwave_comments_account: o.skinwave_comments_account\n  };\n\n  if (selfClass.cthis.find('*[name=comment-email]').length > 0) {\n\n    data.email = selfClass.cthis.find('*[name=comment-email]').eq(0).val();\n  }\n\n\n  if (selfClass.urlToAjaxHandler) {\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (response.charAt(response.length - 1) == '0') {\n          response = response.slice(0, response.length - 1);\n        }\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        //console.log(data.postdata);\n\n\n        var aux = '';\n        if (selfClass.initOptions.skinwave_comments_process_in_php !== 'on') {\n\n          // -- process the comment now, in javascript\n          aux = (data.postdata);\n\n        } else {\n\n          // -- process php\n          aux = '';\n          aux += '<span class=\"dzstooltip-con\" style=\"left:' + selfClass.commentPositionPerc + '\"><span class=\"dzstooltip arrow-from-start transition-slidein arrow-bottom skin-black\" style=\"width: 250px;\"><span class=\"the-comment-author\">@' + selfClass.initOptions.skinwave_comments_account + '</span> says:<br>';\n          aux += dzsapHelpers.htmlEncode(data.postdata);\n\n\n          aux += '</span><div class=\"the-avatar\" style=\"background-image: url(' + selfClass.initOptions.skinwave_comments_avatar + ')\"></div></span>';\n\n\n        }\n\n        // console.log(aux);\n        // selfClass._commentsHolder.append(aux);\n\n        selfClass._commentsHolder.children().each(function () {\n          var _t2 = $(this);\n\n          if (_t2.hasClass('dzstooltip-con') == false) {\n            _t2.addClass('dzstooltip-con');\n          }\n        })\n\n        selfClass._commentsHolder.append(aux);\n\n\n        if (selfClass.action_audio_comment) {\n          selfClass.action_audio_comment(selfClass.cthis, aux);\n        }\n\n\n        //jQuery('#save-ajax-loading').css('visibility', 'hidden');\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n        selfClass._commentsHolder.append(data.postdata);\n      }\n    });\n  }\n}\n\n\n\n","/*\n * Author: Audio Player with Playlist\n * Website: http://digitalzoomstudio.net/\n * Portfolio: http://bit.ly/nM4R6u\n * Version: 5.73\n * */\n\n\nif (!(window.dzsap_init_calls)) {\n  window.dzsap_init_calls = [];\n}\n\n\nconst dzsHelpers = require('./js_common/_dzs_helpers');\nconst dzsapHelpers = require('./jsinc/_dzsap_helpers');\nconst dzsapSvgs = require('./jsinc/_dzsap_svgs');\nconst dzsapPlaylist = require('./jsinc/_dzsap_playlist');\nconst dzsapAjax = require('./jsinc/_dzsap_ajax');\nconst dzsapMisc = require('./jsinc/_dzsap_misc');\nconst dzsapStructure = require('./jsinc/components/_structure');\nconst dzsapWaveFunctions = require('./jsinc/wave-render/_wave-render-functions');\nconst ConstantsDzsAp = require('./configs/_constants').constants;\nconst dzsapMediaFuncs = require('./jsinc/media/_media_functions');\n\n\nvar dzsap_list = []; // -- this is for the players\nvar dzsap_yt_list = []; // -- this is for the youtube players\nvar dzsap_ytapiloaded = false;\nvar dzsap_globalidind = 20;\n\nvar dzsap_list_for_sync_sw_built = false;\nvar dzsap_list_for_sync_inter_build = 0;\n\nwindow.loading_multi_sharer = false;\n\nwindow.dzsap_moving_playlist_item = false;\nwindow.dzsap_playlist_con = null;\nwindow.dzsap_playlist_item_moving = null;\nwindow.dzsap_playlist_item_target = null;\n\nwindow.dzsap_player_interrupted_by_dzsap = null;\nwindow.dzsap_audio_ctx = null;\nwindow.dzsap__style = null;\nwindow.dzsap_sticktobottom_con = null;\n\nwindow.dzsap_self_options = {};\n\nwindow.dzsap_generating_pcm = false;\nwindow.dzsap_box_main_con = null;\nwindow.dzsap_lasto = null;\nwindow.dzsap_wavesurfer_load_attempt = 0;\nwindow.dzsap_list_for_sync_players = []; // -- used for next .. prev .. footer playlist\n\n\nwindow.dzsap_player_index = 0; // -- the player index on the page\n\n\nclass DzsAudioPlayer {\n\n  constructor(argThis, argOptions, $) {\n\n    this.argThis = argThis;\n    this.argOptions = argOptions;\n    this.$ = $;\n\n    this.ajax_view_submitted = 'auto';\n    this.increment_views = 0;\n    this.the_player_id = '';\n    this.currIp = '127.0.0.1';\n    this.index_extrahtml_toloads = 0;\n    this.starrating_alreadyrated = -1;\n    this.data_source = '';\n    this._actualPlayer = null;\n\n    this.urlToAjaxHandler = null;\n\n\n    // -- time vars\n    this.sample_time_start = 0;\n    this.sample_time_end = 0;\n    this.sample_time_total = 0;\n\n\n    this.pseudo_sample_time_start = 0\n    this.pseudo_sample_time_end = 0\n    this.pseudo_sample_time_total = 0\n    this.playlist_inner_currNr = 0\n\n    this.timeCurrent = 0;\n    this.timeTotal = 0;\n\n    this._audioplayerInner = null;\n    this._metaArtistCon = null;\n    this._conControls = null;\n    this._conPlayPauseCon = null;\n    this._apControls = null;\n    this._apControlsLeft = null;\n    this._apControlsRight = null;\n    this._commentsHolder = null;\n    this.$mediaNode_ = null;\n    this._scrubbar = null;\n    this._scrubbarbg_canvas = null;\n    this._scrubbarprog_canvas = null;\n    this._feed_fakeButton = null;\n    this._sourcePlayer = null;\n    this.$theMedia = null;\n    this.$conPlayPause = null;\n    this.$conControls = null;\n    this.$$scrubbProg = null;\n    this.$controlsVolume = null;\n    this.$currTime = null;\n    this.$totalTime = null;\n    this.$watermarkMedia_ = null;\n\n    this.audioType = 'normal';\n    this.skinwave_mode = 'normal';\n    this.action_audio_comment = null; // -- set a outer ended function ( for example for tracking your analytics\n\n    this.commentPositionPerc = 0;// --the % at which the comment will be placed\n\n    this.spectrum_audioContext = null;\n    this.spectrum_audioContextBufferSource = null;\n    this.spectrum_audioContext_buffer = null;\n    this.spectrum_mediaElementSource = null;\n    this.spectrum_analyser = null;\n    this.spectrum_gainNode = null;\n\n    this.isMultiSharer = false;\n\n    this.lastArray = null;\n    this.last_lastArray = null;\n\n    this.player_playing = false;\n    this.playerIsLoaded = false;\n\n    this.actualDataTypeOfMedia = 'audio';\n\n    this.youtube_retryPlayTimeout = 0;\n    this.lastTimeInSeconds = 0;\n\n\n    this.settings_extrahtml_in_float_right = ''; // -- the html to have in right of controls\n\n    // -- pcm\n    this.identifier_pcm = ''; // -- can be either player id or source if player id is not set\n    this.isRealPcm = false;\n    this.isPcmTryingToGenerate = false;\n    this.isPcmPromisingToGenerateOnMetaLoad = false // -- we are promising generating on meta load\n    this.isPlayPromised = false // -- we are promising generating on meta load\n    this.isCanvasFirstDrawn = false // -- the first draw on canvas\n\n    this.src_real_mp3 = '';\n    this.original_real_mp3 = '' // -- this is the original real mp3 for sainvg and identifying in the database\n\n    // -- theme specific\n    this.skin_minimal_canvasplay = null;\n\n\n    this.classInit();\n  }\n\n  classInit() {\n    // console.log('this -> ', this);\n\n    // console.log('process - ', process);\n\n    var $ = this.$;\n    var o = this.argOptions;\n    var cthis = $(this.argThis);\n\n    var selfClass = this;\n\n\n    selfClass.cthis = cthis;\n    selfClass.initOptions = o;\n\n    var cthisId = 'ap1'\n      , cclass = ''\n    ;\n    var currNr = -1;\n    var i = 0;\n    var ww, wh, tw, th, cw // -- controls width\n      , ch // -- controls height\n      , sw = 0 // -- scrubbar width\n      ,\n      sh, spos = 0 //== scrubbar prog pos\n    ;\n    var _commentsSelector = null\n      , _theThumbCon, _scrubBgReflect = null\n      , _extra_html\n      , _playlistTooltip = null\n      , _scrubBgCanvas = null,\n      _scrubBgCanvasCtx = null,\n      _commentsWriter = null;\n    var busy = false,\n      muted = false,\n      yt_inited = false,\n      destroyed = false,\n      google_analytics_sent_play_event = false,\n      destroyed_for_rebuffer = false\n      , loop_active = false // -- if loop_active the track will loop\n      , is_sample = false\n      , dzsap_can_canvas = false\n      , curr_time_first_set = false\n      , scrub_showing_scrub_time = false\n      , setuped_listeners = false\n      , setuped_media = false // -- linked with loaded\n      , safe_to_change_track = false // -- only after 2 seconds of init is it safe to change track\n    ;\n    var last_time_total = 0\n\n      , time_curr_for_visual = -1\n      , time_curr_for_real = -1\n\n      , time_total_for_visual = -1\n      , time_total_for_real = -1\n\n      , real_time_curr = 0 // -- we need these for sample..\n      , real_time_total = 0 // -- we need these for sample..\n      , sample_perc_end = 0\n      , attempt_reload = 0\n      , currTime_outerWidth = 0\n      , media_changed_index = 0\n      , player_index_in_gallery = -1 // -- the player index in gallery\n    ;\n\n    var volume_lastVolume = 1,\n      last_vol_before_mute = 1\n    ;\n    var inter_check\n      , inter_checkReady\n      , inter_check_yt_ready\n      , inter_audiobuffer_workaround_id = 0\n      , inter_ended = 0\n      , inter_60_secs_contor = 0\n      , inter_trigger_resize;\n    var data_station_main_url = ''\n      , id_real_mp3 = '' // -- the real source of the mp3\n    ;\n\n    var res_thumbh = false\n      , debug_var = false\n      , debug_var2 = false\n      , volume_dragging = false\n      , volume_set_by_user = false // -- this shows if the user actioned on the volume\n      , is_under_400 = false\n      , sent_received_time_total = false\n      , ended = false\n      , youtube_cmedia_converted = false\n      , sw_mouse_over = false\n\n\n    ; // resize thumb height\n\n    var _sticktobottom = null;\n\n    var skin_minimal_button_size = 0;\n\n    // -- touch controls\n    var scrubbar_moving = false\n      , scrubbar_moving_x = 0\n      , aux3 = 0\n    ;\n\n    var radio_update_artist_name = false;\n    var radio_update_song_name = false;\n\n\n    var _feed_extra_html = null;\n    var dataSrc = '';\n    var canw = 100;\n    var canh = 100;\n    var barh = 100,\n      scrubbar_h = 75\n      , design_thumbh\n    ;\n\n\n    var _commentsChildren = null;\n\n    var str_audio_element = '';\n\n\n    var controls_left_pos = 0;\n    var controls_right_pos = 0;\n\n\n    var yt_curr_id = ''\n\n    var starrating_index = 0,\n      starrating_nrrates = 0;\n\n    var playfrom = 'off',\n      playfrom_ready = false\n    ;\n\n\n    var defaultVolume = 1;\n\n    var action_audio_end = null\n      , action_audio_play = null\n      , action_audio_play2 = null\n      , action_audio_pause = null\n\n\n    var sw_suspend_enter_frame = true\n      , sw_spectrum_fakeit = 'auto'\n      , sw_spectrum_fakeit_decided = '' // -- shows where fakeit was decided\n    ;\n\n    var type_normal_stream_type = ''; // -- normal icecast or shoutcast\n\n\n    var duration_viy = 20;\n    var begin_viy = 0;\n    var change_viy = 0;\n\n\n    var draw_canvas_inter = 0;\n\n    // -- temp functions\n\n    var func_audio_error = null;\n\n\n    // console.log(cthis, o);\n\n\n    window.dzsap_player_index++;\n\n\n    settle_sample_times();\n\n\n    selfClass.keyboard_controls = dzsapHelpers.dzsap_generate_keyboard_controls();\n    cthis.addClass('preload-method-' + o.preload_method);\n\n    o.wavesurfer_pcm_length = Number(o.wavesurfer_pcm_length);\n\n    if (o.skinwave_preloader_code == 'default') {\n      o.skinwave_preloader_code = dzsapSvgs.svg_preloader_code;\n    }\n\n\n    //console.log(sample_perc_start,sample_perc_end);\n\n    o.settings_trigger_resize = parseInt(o.settings_trigger_resize, 10);\n    o.watermark_volume = parseFloat(o.watermark_volume);\n\n    selfClass.settings_extrahtml_in_float_right = o.settings_extrahtml_in_float_right;\n\n    if (cthis.children('.extra-html-in-controls-right').length > 0) {\n\n\n      selfClass.settings_extrahtml_in_float_right += cthis.children('.extra-html-in-controls-right').eq(0).html();\n\n\n    }\n\n\n    if (cthis.children('.extra-html-in-controls-left').length > 0 && o.settings_extrahtml_in_float_left == '') {\n      o.settings_extrahtml_in_float_left = cthis.children('.extra-html-in-controls-left').eq(0).html();\n\n\n    }\n\n    if (selfClass.settings_extrahtml_in_float_right) {\n\n      selfClass.settings_extrahtml_in_float_right = String(selfClass.settings_extrahtml_in_float_right).replace(/{{svg_share_icon}}/g, dzsapSvgs.svg_share_icon);\n    }\n\n\n    init();\n\n    function init() {\n      //console.log(typeof(o.parentgallery)=='undefined');\n\n\n      // console.log('cthis - - on init - ', cthis);\n\n\n      if (cthis.hasClass('dzsap-inited')) {\n        return false;\n      }\n\n      selfClass.youtube_checkReady = youtube_checkReady;\n      selfClass.play_media = play_media;\n      selfClass.scrubbar_reveal = scrubbar_reveal;\n      selfClass.calculate_dims_time = calculate_dims_time;\n      selfClass.struct_generate_thumb = struct_generate_thumb;\n      selfClass.check_multisharer = check_multisharer;\n      selfClass.setup_structure_scrub = setup_structure_scrub;\n      selfClass.setup_structure_sanitizers = setup_structure_sanitizers;\n      selfClass.setup_structure_extras = setup_structure_extras;\n      selfClass.destroy_cmedia = destroy_cmedia;\n\n      cthis.css({'opacity': ''});\n      cthis.addClass('dzsap-inited');\n      window.dzsap_player_index++;\n\n\n      // console.log('cthis - ',cthis,o);\n\n\n      dzsapHelpers.configureAudioPlayerOptionsInitial(cthis, o, selfClass);\n\n\n      (dzsapHelpers.player_detect_skinwave_mode.bind(selfClass))()\n\n\n\n\n      if (o.design_skin == 'skin-default') {\n        if (o.design_thumbh == 'default') {\n          design_thumbh = cthis.height() - 40;\n          res_thumbh = true;\n        }\n      }\n\n\n      // console.log('o.mobile_delete -> ',o.mobile_delete, cthis);\n      if (dzsapHelpers.dzsap_is_mobile()) {\n        $('body').addClass('is-mobile');\n      }\n      if (o.mobile_delete == 'on') {\n        if (dzsapHelpers.dzsap_is_mobile()) {\n          var _con = null;\n          if (cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n            _con = cthis.parent().parent();\n          }\n          if (_con) {\n            if (_con.prev().hasClass(\"dzsap-sticktobottom-placeholder\")) {\n              _con.prev().remove();\n            }\n\n            _con.remove();\n          }\n\n\n          cthis.remove();\n\n\n          return false;\n        }\n      }\n\n      dzsap_can_canvas = dzsapHelpers.can_canvas();\n\n      apply_skinwave_mode_class();\n\n\n      // console.log(o.design_wave_color_bg, o.design_wave_color_prog); 1\n\n\n      if (o.design_thumbh == 'default') {\n        design_thumbh = 200;\n      }\n\n\n      //                console.log(selfClass.the_player_id, o.skinwave_comments_enable, o.skinwave_comments_playerid);\n\n      if (o.skinwave_comments_playerid == '') {\n\n\n        if (typeof (cthis.attr('id')) != 'undefined') {\n          selfClass.the_player_id = cthis.attr('id');\n        }\n        if (cthis.attr('data-playerid')) {\n          selfClass.the_player_id = cthis.attr('data-playerid');\n        }\n      } else {\n        selfClass.the_player_id = o.skinwave_comments_playerid;\n\n        if (!(cthis.attr('id'))) {\n          cthis.attr('id', selfClass.the_player_id);\n        }\n      }\n\n      // console.log('selfClass.the_player_id - ',selfClass.the_player_id);\n\n      if (cthis.attr('data-playerid')) {\n\n      } else {\n        // console.log('selfClass.the_player_id - ',selfClass.the_player_id);\n        if (selfClass.the_player_id == '') {\n          selfClass.the_player_id = dzsapHelpers.dzs_clean_string(cthis.attr('data-source'));\n          cthis.attr('data-playerid', selfClass.the_player_id);\n        }\n      }\n\n\n      if (isNaN(Number(selfClass.the_player_id))) {\n        // TODO: maybe if we except only number for wp database, maybe convert ascii to number\n\n\n      }\n\n\n      if (selfClass.the_player_id == '') {\n        o.skinwave_comments_enable = 'off';\n\n      }\n\n      // console.log('o.skinwave_comments_enable - ',o.skinwave_comments_enable);\n\n\n      // -- disable fakeplayer on mobile for some reason\n      if (o.mobile_disable_fakeplayer == 'on' && dzsapHelpers.dzsap_is_mobile()) {\n        selfClass.cthis.attr('data-fakeplayer', '');\n      }\n\n      if (cthis.attr('data-fakeplayer')) {\n        dzsapHelpers.player_determineActualPlayer(selfClass.cthis, selfClass);\n      }\n\n      selfClass.cthis.addClass('scrubbar-type-' + o.scrubbar_type);\n\n\n      if (cthis.children('.extra-html').length > 0 && o.settings_extrahtml == '') {\n        o.settings_extrahtml = cthis.children('.extra-html').eq(0).html();\n\n        _feed_extra_html = cthis.children('.extra-html').eq(0);\n\n        // console.log('o.settings_extrahtml - ',o.settings_extrahtml);\n\n\n        var re_ratesubmitted = /{\\{ratesubmitted=(.?)}}/g;\n        if (re_ratesubmitted.test(String(o.settings_extrahtml))) {\n          re_ratesubmitted.lastIndex = 0;\n          var auxa = (re_ratesubmitted.exec(String(o.settings_extrahtml)));\n\n\n          selfClass.starrating_alreadyrated = auxa[1];\n\n          o.settings_extrahtml = String(o.settings_extrahtml).replace(re_ratesubmitted, '');\n\n          if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_player_rateSubmitted != undefined) {\n            $(o.parentgallery).get(0).api_player_rateSubmitted();\n          }\n        }\n\n\n        selfClass.cthis.children('.extra-html').remove();\n      }\n\n      if (o.construct_player_list_for_sync == 'on') {\n        if (dzsap_list_for_sync_sw_built == false) {\n          dzsap_list_for_sync_players = [];\n\n          dzsap_list_for_sync_sw_built = true;\n\n          $('.audioplayer.is-single-player,.audioplayer-tobe.is-single-player').each(function () {\n            var _t23 = $(this);\n\n\n            if (_t23.hasClass('dzsap_footer')) {\n              return;\n            }\n\n            // console.log(_t23);\n\n            if (_t23.attr('data-do-not-include-in-list') != 'on') {\n\n              dzsap_list_for_sync_players.push(_t23);\n            }\n          })\n\n          // console.log(dzsap_list_for_sync_players);\n\n          clearTimeout(dzsap_list_for_sync_inter_build);\n\n          dzsap_list_for_sync_inter_build = setTimeout(function () {\n            dzsap_list_for_sync_sw_built = false;\n          }, 500);\n\n        }\n      }\n\n      // console.log('dzsap_list_for_sync_players - ',dzsap_list_for_sync_players);\n\n\n      playfrom = o.playfrom;\n\n      if (dzsHelpers.isValid(cthis.attr('data-playfrom'))) {\n        playfrom = cthis.attr('data-playfrom');\n      }\n\n      if (isNaN(parseInt(playfrom, 10)) == false) {\n        playfrom = parseInt(playfrom, 10);\n      }\n\n\n      if (playfrom == 'off' || playfrom == '') {\n        if (dzsapHelpers.get_query_arg(window.location.href, 'audio_time')) {\n          playfrom = sanitize_from_point_time(dzsapHelpers.get_query_arg(window.location.href, 'audio_time'));\n        }\n      }\n\n      // console.log('playfrom - ',playfrom);\n\n\n      selfClass.identifier_pcm = selfClass.the_player_id; // -- the pcm identifier to send via ajax\n\n\n      var _feed_obj = null;\n\n      if (selfClass._feed_fakeButton) {\n        _feed_obj = selfClass._feed_fakeButton;\n      } else {\n        if (selfClass._sourcePlayer) {\n          _feed_obj = selfClass._sourcePlayer;\n        } else {\n          _feed_obj = null;\n        }\n      }\n\n\n      if (selfClass.identifier_pcm == 'dzs_footer') {\n        selfClass.identifier_pcm = dzsapHelpers.dzs_clean_string(cthis.attr('data-source'));\n      }\n\n      if (_feed_obj) {\n\n        if (_feed_obj.attr('data-playerid')) {\n\n          selfClass.identifier_pcm = _feed_obj.attr('data-playerid');\n        } else {\n\n          if (_feed_obj.attr('data-source')) {\n\n            selfClass.identifier_pcm = _feed_obj.attr('data-source');\n          }\n        }\n      }\n\n      // console.log('inited - ', selfClass.the_player_id, ' skinwave_comments_enable - ', o.skinwave_comments_enable, cthis);\n\n      if (cthis.attr('data-type') == 'youtube') {\n        o.type = 'youtube';\n\n        selfClass.audioType = 'youtube';\n      }\n      if (cthis.attr('data-type') == 'soundcloud') {\n        o.type = 'soundcloud';\n        selfClass.audioType = 'soundcloud';\n\n        o.skinwave_enableSpectrum = 'off';\n        cthis.removeClass('skin-wave-is-spectrum');\n      }\n      if (cthis.attr('data-type') == 'mediafile') {\n        o.type = 'audio';\n        selfClass.audioType = 'audio';\n      }\n\n      // todo: move shoutcast\n      if (cthis.attr('data-type') == 'shoutcast') {\n        o.type = 'shoutcast';\n        selfClass.audioType = 'audio';\n        o.disable_timer = 'on';\n        o.skinwave_enableSpectrum = 'off';\n        // -- might still use it for skin-wave\n\n        if (o.design_skin == 'skin-default') {\n          o.disable_scrub = 'on';\n        }\n        //                    o.disable_scrub = 'on';\n      }\n\n\n      if (selfClass.audioType == 'audio' || selfClass.audioType == 'normal' || selfClass.audioType == '') {\n        selfClass.audioType = 'selfHosted';\n      }\n\n\n      type_normal_stream_type = '';\n\n      // console.log('type - ',type, cthis.attr('data-streamtype'));\n\n\n      if (selfClass.audioType == 'selfHosted') {\n        if (cthis.attr('data-streamtype') && cthis.attr('data-streamtype') != 'off') {\n          type_normal_stream_type = cthis.attr('data-streamtype');\n          data_station_main_url = cthis.attr('data-source');\n          cthis.addClass('is-radio-type');\n\n        } else {\n          type_normal_stream_type = '';\n        }\n      }\n\n      // -- no shoutcast autoupdate at the moment 2 3 4 5 6 7 8\n      if (type_normal_stream_type == 'shoutcast') {\n        // type_normal_stream_type = '';\n\n        // -- todo: we\n      }\n\n\n      // console.log('type_normal_stream_type - ', type_normal_stream_type);\n\n      selfClass.src_real_mp3 = cthis.attr('data-source');\n      if (selfClass.audioType === 'selfHosted') {\n        selfClass.src_real_mp3 = cthis.attr('data-source');\n      }\n\n      // -- we disable the function if audioplayer inited\n      if (cthis.hasClass('audioplayer')) {\n        return;\n      }\n      //console.log('ceva');\n\n      if (cthis.attr('id') != undefined) {\n        cthisId = cthis.attr('id');\n      } else {\n        cthisId = 'ap' + dzsap_globalidind++;\n      }\n\n\n      yt_curr_id = 'ytplayer_' + cthisId;\n\n\n      cthis.removeClass('audioplayer-tobe');\n      cthis.addClass('audioplayer');\n\n      draw_scrub_prog();\n      setTimeout(function () {\n        draw_scrub_prog()\n      }, 1000);\n\n\n      if (cthis.find('.the-comments').length > 0 && cthis.find('.the-comments').eq(0).children().length > 0) {\n        _commentsChildren = cthis.find('.the-comments').eq(0).children();\n      } else {\n        if (o.skinwave_comments_retrievefromajax == 'on') {\n          var data = {\n            action: 'dzsap_get_comments',\n            postdata: '1',\n            playerid: selfClass.the_player_id\n          };\n\n\n          // -- get comments\n          if (selfClass.urlToAjaxHandler) {\n            $.ajax({\n              type: \"POST\",\n              url: selfClass.urlToAjaxHandler,\n              data: data,\n              success: function (response) {\n                //if(typeof window.console != \"undefined\" ){ console.log('Ajax - get - comments - ' + response); }\n\n                cthis.prependOnce('<div class=\"the-comments\"></div>', '.the-comments');\n\n                if (response.indexOf('a-comment') > -1) {\n\n                  response = response.replace(/a-comment/g, 'a-comment dzstooltip-con');\n                  response = response.replace(/dzstooltip arrow-bottom/g, 'dzstooltip arrow-from-start transition-slidein arrow-bottom');\n\n                }\n                cthis.find('.the-comments').eq(0).html(response);\n\n                _commentsChildren = cthis.find('.the-comments').eq(0).children();\n\n                setup_controls_commentsHolder({call_from: 'ajax_complete'});\n\n              },\n              error: function (arg) {\n                if (typeof window.console != \"undefined\") {\n                  // console.log('Got this from the server: ' + arg, arg);\n                }\n                ;\n              }\n            });\n          }\n\n        }\n      }\n\n\n      // -- try to get pcm data via ajax\n      // console.log(cthis);\n      if (o.skinwave_wave_mode == 'canvas' && (o.design_skin == 'skin-wave' || cthis.attr('data-fakeplayer'))) {\n        dzsapWaveFunctions.wave_mode_canvas_try_to_get_pcm(selfClass);\n      }\n\n\n      //===ios does not support volume controls so just let it die\n      //====== .. or autoplay FORCE STAFF\n\n\n      if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n        o.autoplay = 'off';\n        o.disable_volume = 'on';\n        if (o.cue == 'off') {\n          o.cue = 'on';\n        }\n        o.cue = 'on';\n      }\n\n\n      // console.log('o.autoplay here - ',o.autoplay, cthis);  22\n\n      if (o.cue == 'off') {\n\n        // -- cue is forcing autoplay on\n        cthis.addClass('cue-off');\n        o.autoplay = 'on';\n      }\n\n      // console.log('o.autoplay here - ',o.autoplay, cthis);\n\n      if (selfClass.audioType == 'youtube') {\n\n        load_yt_api();\n      }\n      selfClass.data_source = cthis.attr('data-source');\n\n\n      //====sound cloud INTEGRATION //\n      if (cthis.attr('data-source') != undefined && String(cthis.attr('data-source')).indexOf('https://soundcloud.com/') > -1) {\n        selfClass.audioType = 'soundcloud';\n      }\n      //console.log(o.type);\n      if (selfClass.audioType == 'soundcloud') {\n        dzsapMisc.retrieve_soundcloud_url(selfClass);\n\n        //                    type='audio';\n      }\n      // -- END soundcloud INTEGRATION//\n\n\n      dzsapStructure.setup_structure(selfClass); //  -- inside init()\n\n      //console.log(cthis, dzsapHelpers.is_ios(), o.type);\n      //trying to access the youtube api with ios did not work\n\n\n      //                console.log(o.design_skin, type, o.skinwave_comments_enable, o.design_skin=='skin-wave' && (type=='audio'||type=='soundcloud') && o.skinwave_comments_enable=='on');\n\n      //console.log(o.design_skin, type, o.skinwave_comments_enable)\n\n      if (o.design_skin == 'skin-wave' && (selfClass.audioType == 'selfHosted' || selfClass.audioType == 'soundcloud' || selfClass.audioType == 'fake') && o.skinwave_comments_enable == 'on') {\n\n        var str_comments_holder = '<div class=\"comments-holder\">';\n\n\n        if (o.skinwave_comments_links_to) {\n\n          str_comments_holder += '<a href=\"' + o.skinwave_comments_links_to + '\" target=\"_blank\" class=\"the-bg\"></a>';\n        } else {\n\n          str_comments_holder += '<div class=\"the-comments-holder-bg\"></div>';\n        }\n\n\n        str_comments_holder += '</div><div class=\"clear\"></div><div class=\"comments-writer\"><div class=\"comments-writer-inner\"><div class=\"setting\"><div class=\"setting-label\"></div><textarea name=\"comment-text\" placeholder=\"Your comment..\" type=\"text\" class=\"comment-input\"></textarea><div class=\"float-right\"><button class=\"submit-ap-comment dzs-button-dzsap float-right\">Submit</button><button class=\"cancel-ap-comment dzs-button-dzsap float-right\">Cancel</button></div><div class=\"overflow-it\"><input placeholder=\"Your email..\" name=\"comment-email\" type=\"text\" class=\"comment-input\"/></div><div class=\"clear\"></div></div></div></div>';\n\n\n        if (selfClass.skinwave_mode == 'normal') {\n          selfClass._apControls.appendOnce(str_comments_holder);\n        } else {\n          selfClass.cthis.appendOnce(str_comments_holder);\n        }\n        selfClass._commentsHolder = cthis.find('.comments-holder').eq(0);\n        _commentsWriter = cthis.find('.comments-writer').eq(0);\n\n\n        setup_controls_commentsHolder({call_from: 'default'});\n\n        // console.log('selfClass._commentsHolder -> ',selfClass._commentsHolder);\n        // selfClass._commentsHolder.on('click', '.the-comments-holder-bg', click_comments_bg);\n        selfClass._commentsHolder.on('click', click_comments_bg);\n        _commentsWriter.find('.cancel-ap-comment').bind('click', click_cancel_comment);\n        _commentsWriter.find('.submit-ap-comment').bind('click', click_submit_comment);\n      }\n\n\n      if (o.settings_extrahtml != '') {\n\n\n        // console.log('_feed_extra_html - ',_feed_extra_html);\n        if (_feed_extra_html) {\n\n\n          // console.log('_feed_extra_html.attr(\\'data-playerid\\') - ' , _feed_extra_html.attr('data-playerid'));\n        }\n        cthis.append('<div class=\"extra-html\">' + o.settings_extrahtml + '</div>');\n\n        _extra_html = cthis.children('extra-html');\n\n\n        if (_feed_extra_html && _feed_extra_html.attr('data-playerid')) {\n          _extra_html = _feed_extra_html.attr('data-playerid');\n        }\n\n\n        if (_feed_extra_html && _feed_extra_html.attr('data-posttype')) {\n          _extra_html = _feed_extra_html.attr('data-posttype');\n        }\n\n\n      }\n\n\n      //console.log();\n\n\n      if (selfClass.audioType == 'selfHosted') {\n\n\n        //                    img = document.createElement('img'); my source\n        //                    img.onerror = function(){\n        //                        return;\n        //                        if(cthis.children('.meta-artist').length>0){\n        //                            selfClass._audioplayerInner.children('.meta-artist').html('audio not found...');\n        //                        }else{\n        //                            selfClass._audioplayerInner.append('<div class=\"meta-artist\">audio not found...</div>');\n        //                            selfClass._audioplayerInner.children('.meta-artist').eq(0).wrap('<div class=\"meta-artist-con\"></div>');\n        //                        }\n        //                    };\n        //                    img.src= cthis.attr('data-source');\n\n      }\n\n      if (o.autoplay == 'on' && o.cue == 'on') {\n        selfClass.increment_views = 1;\n      }\n\n\n      if (selfClass.audioType == 'selfHosted' && dzsapHelpers.is_ios() && 1 == 0) {\n        if (cthis.height() < 200) {\n          cthis.height(200);\n        }\n        aux = '<iframe width=\"100%\" height=\"100%\" src=\"//www.youtube.com/embed/' + selfClass.data_source + '\" frameborder=\"0\" allowfullscreen></iframe>';\n        cthis.html(aux);\n        return;\n      } else {\n        // -- soundcloud will setupmedia when api done\n\n        // console.log(o.cue, type);\n        if (o.cue == 'on' && selfClass.audioType != 'soundcloud') {\n\n\n          if (dzsapHelpers.is_android() || dzsapHelpers.is_ios()) {\n\n            cthis.find('.playbtn').bind('click', play_media);\n          }\n\n\n          // console.log('source - ',cthis.attr('data-source'), dataSrc);\n\n\n          dataSrc = cthis.attr('data-source');\n\n          if (dataSrc.indexOf('{{generatenonce}}') > -1) {\n\n\n            var original_id = '';\n\n            var aux = /id=(\\d*?)/g.exec(dataSrc);\n\n            if (aux) {\n\n              original_id = aux[1];\n            }\n\n            // -- generate nonce\n            $.ajax({\n              type: \"POST\",\n              url: dataSrc,\n              data: {},\n              success: function (response) {\n                if (response) {\n\n                  if (response.indexOf(original_id) > -1) {\n\n                    cthis.attr('data-source', response);\n\n                    setup_media({'called_from': 'nonce generated'});\n                  }\n                }\n              }\n            })\n            ;\n\n\n          } else {\n\n            // console.log('type_normal_stream_type - ',type_normal_stream_type);\n            if (type_normal_stream_type != 'icecast') {\n              setup_media({'called_from': 'normal setup media .. --- icecast must wait'});\n              if (type_normal_stream_type == 'shoutcast') {\n                // -- we can just set an interval for retrieving shoutcast current artist\n                setInterval(function () {\n                    icecast_shoutcast_get_data()\n                  }\n                  , 10000\n                );\n              }\n            } else {\n              if (type_normal_stream_type == 'icecast') {\n\n\n                // -- if we have icecast we can update currently playing song\n                setInterval(function () {\n                    icecast_shoutcast_get_data()\n                  }\n                  , 10000\n                );\n              }\n            }\n\n          }\n\n\n        } else {\n\n\n          //console.log(' -- cue is of so set autoplay to on')\n          // o.autoplay = 'on';\n          cthis.find('.playbtn').bind('click', click_for_setup_media);\n          cthis.find('.scrubbar').bind('click', click_for_setup_media);\n          handleResize();\n        }\n\n      }\n\n      setInterval(function () {\n        debug_var = true;\n      }, 3000);\n\n      setInterval(function () {\n        debug_var2 = true;\n      }, 2000);\n\n      // -- we call the api functions here\n      //console.log('api sets');\n\n\n      if (cthis.parent().hasClass('dzsap-sticktobottom')) {\n\n        _sticktobottom = cthis.parent();\n\n      }\n      if (cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n\n        _sticktobottom = cthis.parent().parent();\n      }\n\n\n      // console.log('_sticktobottom -> ',_sticktobottom, cthis,cthis.parent().attr('class'),cthis.parent().parent().attr('class'));\n      if (_sticktobottom) {\n        if (cthis.hasClass('theme-dark')) {\n          _sticktobottom.addClass('theme-dark');\n        }\n\n        setTimeout(function () {\n\n          _sticktobottom.addClass('inited');\n        }, 500)\n        _sticktobottom.addClass('dzsap-sticktobottom-for-' + o.design_skin);\n        _sticktobottom.prev().addClass('dzsap-sticktobottom-for-' + o.design_skin);\n\n        if (o.design_skin == 'skin-wave') {\n          _sticktobottom.addClass('dzsap-sticktobottom-for-' + o.design_skin + '--mode-' + selfClass.skinwave_mode)\n          _sticktobottom.prev().addClass('dzsap-sticktobottom-for-' + o.design_skin + '--mode-' + selfClass.skinwave_mode)\n        }\n\n\n        cclass = cthis.attr('class');\n\n\n        var regex = /(skinvariation-.*?)($| )/g\n\n        var aux = regex.exec(cclass);\n\n        // console.log('aux - ',aux);\n\n        if (aux && aux[1]) {\n\n          // console.log(\"YESSS \",aux[1]);\n          _sticktobottom.addClass(aux[1]);\n          _sticktobottom.prev().addClass(aux[1]);\n        }\n      }\n\n      // -- api calls\n\n      cthis.get(0).api_destroy = destroy_it; // -- destroy the player and the listeners\n      cthis.get(0).api_play = play_media; // -- play the media\n      cthis.get(0).api_get_last_vol = get_last_vol; // -- play the media\n      cthis.get(0).api_click_for_setup_media = click_for_setup_media; // -- play the media\n      cthis.get(0).api_init_loaded = init_loaded; // -- force resize event\n      cthis.get(0).api_handleResize = handleResize; // -- force resize event\n      cthis.get(0).api_set_playback_speed = set_playback_speed; // -- set the playback speed, only works for local hosted mp3\n      cthis.get(0).api_change_media = change_media; // -- change the media file from the API\n      cthis.get(0).api_seek_to_perc = seek_to_perc; // -- seek to percentage ( for example seek to 0.5 skips to half of the song )\n      cthis.get(0).api_seek_to = seek_to; // -- seek to percentage ( for example seek to 0.5 skips to half of the song )\n      cthis.get(0).api_seek_to_visual = seek_to_visual; // -- seek to perchange but only visually ( does not actually skip to that ) , good for a fake player\n      cthis.get(0).api_set_volume = volume_setVolume; // -- set a volume\n      cthis.get(0).api_visual_set_volume = volume_setOnlyVisual; // -- set a volume\n      cthis.get(0).api_destroy_listeners = destroy_listeners; // -- set a volume\n\n      cthis.get(0).api_pause_media = pause_media; // -- pause the media\n      cthis.get(0).api_pause_media_visual = pause_media_visual; // -- pause the media, but only visually\n      cthis.get(0).api_play_media = play_media; // -- play the media\n      cthis.get(0).api_play_media_visual = play_media_visual; // -- play the media, but only visually\n      cthis.get(0).api_handle_end = handle_end; // -- play the media, but only visually\n      cthis.get(0).api_change_visual_target = change_visual_target; // -- play the media, but only visually\n      cthis.get(0).api_change_design_color_highlight = change_design_color_highlight; // -- play the media, but only visually\n      cthis.get(0).api_draw_scrub_prog = draw_scrub_prog; // -- render the scrub progress\n      cthis.get(0).api_draw_curr_time = draw_curr_time; // -- render the current time\n      cthis.get(0).api_get_times = get_times; // -- refresh the current time\n      cthis.get(0).api_check_time = handleTickChange; // -- do actions required in the current frame\n      cthis.get(0).api_sync_players_goto_next = sync_players_goto_next; // -- in the sync playlist, go to the next song\n      cthis.get(0).api_sync_players_goto_prev = sync_players_goto_prev; // -- in the sync playlist, go to the previous song\n      cthis.get(0).api_regenerate_playerlist_inner = function () {\n        // -- call with window.dzsap_generate_list_for_sync_players({'force_regenerate': true})\n        player_setup_playlist_inner();\n      }; // -- regenerate the playlist innter\n\n\n      // -- get current time\n      cthis.get(0).api_get_time_curr = function () {\n        return time_curr_for_real;\n      };\n      // -- set current time\n      cthis.get(0).api_set_time_curr = function (arg) {\n        time_curr_for_visual = arg;\n\n        curr_time_first_set = true;\n\n\n        if (selfClass.pseudo_sample_time_start == 0) {\n\n          if (selfClass.sample_time_start > 0) {\n            time_curr_for_visual = selfClass.sample_time_start + time_curr_for_visual;\n\n          }\n        }\n\n      };\n      // -- get total time\n      cthis.get(0).api_get_time_total = function () {\n        return time_total_for_visual;\n      };\n      // -- set total time\n      cthis.get(0).api_set_time_total = function (arg) {\n        time_total_for_visual = arg;\n        curr_time_first_set = true;\n      };\n\n\n      cthis.get(0).api_seek_to_0 = function () {\n        seek_to(0);\n      };\n      cthis.get(0).api_step_back = function (arg) {\n\n        if (arg) {\n\n        } else {\n          arg = selfClass.keyboard_controls.step_back_amount;\n        }\n        seek_to(selfClass.timeCurrent - arg);\n      }\n      cthis.get(0).api_step_forward = function (arg) {\n\n        if (arg) {\n\n        } else {\n          arg = selfClass.keyboard_controls.step_back_amount;\n        }\n        seek_to(selfClass.timeCurrent + arg);\n      } // --\n      cthis.get(0).api_playback_slow = function (arg) {\n        if (selfClass.$mediaNode_ && selfClass.$mediaNode_.playbackRate) {\n          selfClass.$mediaNode_.playbackRate = 0.65;\n        }\n      } // -- slow to 2/3 of the current song\n      cthis.get(0).api_playback_reset = function (arg) {\n        // seek_to(0);\n        if (selfClass.$mediaNode_ && selfClass.$mediaNode_.playbackRate) {\n          selfClass.$mediaNode_.playbackRate = 1;\n        }\n      } // -- playback speed to one\n\n\n      cthis.get(0).api_set_action_audio_play = function (arg) {\n        action_audio_play = arg;\n      }; // -- set action on audio play\n      cthis.get(0).api_set_action_audio_pause = function (arg) {\n        action_audio_pause = arg;\n      }; // -- set action on audio pause\n      cthis.get(0).api_set_action_audio_end = function (arg) {\n        action_audio_end = arg;\n        cthis.data('has-action-end', 'on');\n      }; // -- set action on audio end\n      cthis.get(0).api_set_action_audio_comment = function (arg) {\n        selfClass.action_audio_comment = arg;\n      }; // -- set the function to call on audio song comment\n      cthis.get(0).api_try_to_submit_view = try_to_submit_view; // -- try to submit a new play analytic\n\n      //console.log(cthis.get(0));\n\n      //console.log(o);\n      if (o.action_audio_play) {\n        action_audio_play = o.action_audio_play;\n      }\n      ;\n      if (o.action_audio_pause) {\n        action_audio_pause = o.action_audio_pause;\n      }\n      ;\n      if (o.action_audio_play2) {\n        action_audio_play2 = o.action_audio_play2;\n      }\n      ;\n\n      if (o.action_audio_end) {\n        action_audio_end = o.action_audio_end;\n        cthis.data('has-action-end', 'on');\n      }\n\n\n      handleTickChange({\n        'fire_only_once': true\n      });\n\n\n      setInterval(check_every_05_secs, 500);\n\n      //console.log(o.design_skin);\n      if (o.design_skin == 'skin-minimal') {\n        handleTickChange({\n          'fire_only_once': true\n        });\n      }\n\n\n      cthis.on('click', '.dzsap-repeat-button,.dzsap-loop-button,.btn-zoomsounds-download,.zoomsounds-btn-step-backward,.zoomsounds-btn-step-forward,.zoomsounds-btn-go-beginning,.zoomsounds-btn-slow-playback,.zoomsounds-btn-reset, .playlist-menu-item, .tooltip-indicator--btn-footer-playlist', handle_mouse);\n      // cthis.on('mouseover',handle_mouse);\n      cthis.on('mouseenter', handle_mouse);\n      cthis.on('mouseleave', handle_mouse);\n\n\n      selfClass.$conPlayPause.on('click', click_playpause);\n      //cthis.on('click','.con-playpause', click_playpause);\n\n\n      cthis.on('click', '.skip-15-sec', function () {\n        cthis.get(0).api_step_forward(15);\n      });\n\n\n      $(window).on('resize.dzsap', handleResize);\n      handleResize();\n\n      if (selfClass._scrubbar && selfClass._scrubbar.get(0)) {\n\n        selfClass._scrubbar.get(0).addEventListener('touchstart', function (e) {\n          if (selfClass.player_playing) {\n\n            scrubbar_moving = true;\n          }\n        }, {passive: true})\n      }\n\n\n      if (type_normal_stream_type == 'icecast' || type_normal_stream_type == 'shoutcast') {\n\n\n        icecast_shoutcast_get_data();\n\n      }\n\n      // selfClass._scrubbar.on('touchstart', function(e) {\n      //     if(selfClass.player_playing){\n      //\n      //         scrubbar_moving = true;\n      //     }\n      // }, {passive: true})\n      $(document).on('touchmove', function (e) {\n        if (scrubbar_moving) {\n          scrubbar_moving_x = e.originalEvent.touches[0].pageX;\n\n\n          aux3 = scrubbar_moving_x - selfClass._scrubbar.offset().left;\n\n          if (aux3 < 0) {\n            aux3 = 0;\n          }\n          if (aux3 > selfClass._scrubbar.width()) {\n            aux3 = selfClass._scrubbar.width();\n          }\n\n          seek_to_perc(aux3 / selfClass._scrubbar.width());\n\n\n          return false;\n          //console.log(aux3);\n\n\n        }\n      });\n\n      $(document).on('touchend', function (e) {\n        scrubbar_moving = false;\n      });\n\n\n      // console.log('skinwave_comments_mode_outer_selector - ',o.skinwave_comments_mode_outer_selector);\n\n      if (o.skinwave_comments_mode_outer_selector) {\n        _commentsSelector = $(o.skinwave_comments_mode_outer_selector);\n\n        if (_commentsSelector.data) {\n\n          _commentsSelector.data('parent', cthis);\n\n          if (o.skinwave_comments_account && o.skinwave_comments_account != 'none') {\n            _commentsSelector.find('.comment_email,*[name=comment_user]').remove();\n          }\n\n          _commentsSelector.on('click', '.comments-btn-cancel,.comments-btn-submit', comments_selector_event);\n          _commentsSelector.on('focusin', 'input', comments_selector_event);\n          _commentsSelector.on('focusout', 'input', comments_selector_event);\n\n          // console.log(_commentsSelector, _commentsSelector.find('input'));\n        } else {\n          console.log('%c, data not available .. ', 'color: #990000;', $(o.skinwave_comments_mode_outer_selector));\n        }\n      }\n\n\n      // console.log(\"hmm\",cthis);\n      cthis.off('click', '.btn-like');\n      cthis.on('click', '.btn-like', click_like);\n\n\n      $(document).on('mousemove', '.star-rating-con', mouse_starrating);\n      $(document).on('mouseleave', '.star-rating-con', mouse_starrating);\n      $(document).on('click', '.star-rating-con', mouse_starrating);\n\n      setTimeout(function () {\n\n        handleResize();\n\n\n        if (o.skinwave_wave_mode == 'canvas') {\n\n          calculate_dims_time();\n\n          setTimeout(function () {\n            calculate_dims_time();\n\n\n          }, 100)\n        }\n\n      }, 100)\n\n\n      cthis.find('.btn-menu-state').eq(0).bind('click', click_menu_state);\n\n\n      //console.log('init');\n\n\n      cthis.on('click', '.prev-btn,.next-btn', handle_mouse);\n    }\n\n\n    function settle_sample_times() {\n\n      selfClass.sample_time_start = 0;\n      selfClass.sample_time_total = 0;\n      selfClass.sample_time_start = 0;\n      selfClass.pseudo_sample_time_end = 0;\n\n      if (o.sample_time_start) {\n\n      } else {\n        if (cthis.attr('data-sample_time_start')) {\n          selfClass.sample_time_start = Number(cthis.attr('data-sample_time_start'));\n        }\n        if (cthis.attr('data-sample_time_end')) {\n          selfClass.sample_time_end = Number(cthis.attr('data-sample_time_end'));\n        }\n        if (cthis.attr('data-pseudo-sample_time_start')) {\n          selfClass.pseudo_sample_time_start = Number(cthis.attr('data-pseudo-sample_time_start'));\n        }\n        if (cthis.attr('data-pseudo-sample_time_end')) {\n          selfClass.pseudo_sample_time_end = Number(cthis.attr('data-pseudo-sample_time_end'));\n        }\n        if (cthis.attr('data-sample_time_total')) {\n          selfClass.sample_time_total = Number(cthis.attr('data-sample_time_total'));\n        }\n      }\n\n      if (isNaN(Number(o.sample_time_start)) == false && Number(o.sample_time_start) > 0) {\n        selfClass.sample_time_start = Number(o.sample_time_start);\n        if (Number(o.sample_time_end) > 0) {\n          selfClass.sample_time_end = Number(o.sample_time_end);\n\n          if (Number(o.sample_time_total) > 0) {\n            selfClass.sample_time_total = Number(o.sample_time_total);\n\n\n            selfClass.sample_perc_start = selfClass.sample_time_start / selfClass.sample_time_total;\n            selfClass.sample_perc_end = selfClass.sample_time_end / selfClass.sample_time_total;\n\n          }\n        }\n      }\n\n      if (selfClass.pseudo_sample_time_start) {\n        selfClass.sample_time_start = selfClass.pseudo_sample_time_start;\n        selfClass.sample_time_end = selfClass.pseudo_sample_time_end;\n      }\n\n\n      if ((selfClass.sample_time_total && selfClass.sample_time_start) || (selfClass.pseudo_sample_time_start && selfClass.pseudo_sample_time_end)) {\n        is_sample = true;\n      } else {\n        is_sample = false;\n      }\n\n    }\n\n    function icecast_shoutcast_get_data() {\n\n\n      var url = cthis.attr('data-source');\n\n      if (type_normal_stream_type == 'shoutcast') {\n\n        url = dzsapHelpers.add_query_arg(selfClass.urlToAjaxHandler, 'action', 'dzsap_shoutcast_get_streamtitle');\n        url = dzsapHelpers.add_query_arg(url, 'source', (dataSrc));\n      }\n\n\n      $.ajax({\n        type: \"GET\",\n        url: url,\n        crossDomain: true,\n        success: function (response) {\n\n          if (response.documentElement && response.documentElement.innerHTML) {\n            response = response.documentElement.innerHTML;\n          }\n\n          // console.log(' response - ',response);\n\n          var regex_title = '';\n          var regex_creator = '';\n          var new_title = '';\n          var new_artist = '';\n\n          if (type_normal_stream_type == 'icecast') {\n\n            var regex_location = /<location>(.*?)<\\/location>/g\n\n            var aux = null;\n            if (aux = regex_location.exec(response)) {\n              // console.log(' aux - ', aux);\n\n              if (aux[1] != selfClass.data_source) {\n                selfClass.data_source = aux[1];\n                setup_media({\n                  'called_from': 'icecast setup'\n                });\n              }\n            }\n          }\n\n          if (radio_update_song_name) {\n\n            if (type_normal_stream_type == 'icecast') {\n              regex_title = /<title>(.*?)<\\/title>/g\n\n              if (aux = regex_title.exec(response)) {\n                new_title = aux[1];\n              }\n            }\n            if (type_normal_stream_type == 'shoutcast') {\n\n              new_title = response;\n            }\n\n          }\n          if (radio_update_artist_name) {\n            if (type_normal_stream_type == 'icecast') {\n\n              regex_creator = /<creator>(.*?)<\\/creator>/g;\n\n              if (aux = regex_creator.exec(response)) {\n                new_artist = aux[1];\n              }\n            }\n            if (type_normal_stream_type == 'shoutcast') {\n            }\n          }\n\n          if (radio_update_song_name) {\n\n            selfClass._metaArtistCon.find('.the-name').html(new_title);\n          }\n          if (radio_update_artist_name) {\n\n            selfClass._metaArtistCon.find('.the-artist').html(new_artist)\n          }\n        },\n        error: function (err) {\n          console.log('error loading icecast - ', err);\n        }\n      });\n    }\n\n\n    function check_every_05_secs() {\n\n\n      // console.log('check_every_05_secs',cthis);\n      if (!cthis) {\n        return false;\n      }\n      if (cthis.hasClass('first-played') == false) {\n\n        if (!(cthis.attr('data-playfrom')) || cthis.attr('data-playfrom') == '0') {\n          time_total_for_real = 0;\n          selfClass.timeTotal = 0;\n          if ($(selfClass.$mediaNode_) && $(selfClass.$mediaNode_).html() && $(selfClass.$mediaNode_).html().indexOf('api.soundcloud.com') > -1) {\n            if (selfClass.$mediaNode_.currentTime != 0) {\n\n              seek_to(0, {\n                'call_from': 'first_played_false'\n              });\n            }\n          }\n        }\n\n      }\n\n\n      if (selfClass.audioType == 'fake' || selfClass._actualPlayer) {\n\n\n        // console.log('curr_time_first_set -> ',curr_time_first_set);\n        if (cthis.hasClass('current-feeder-for-parent-player') == false) {\n          if (time_curr_for_visual) {\n            selfClass.timeCurrent = time_curr_for_visual;\n          }\n        }\n\n        // console.log(time_curr,selfClass.$mediaNode_.currentTime,selfClass.$mediaNode_);\n\n\n        if (selfClass.timeTotal == 0) {\n          if (selfClass.$mediaNode_) {\n            selfClass.timeTotal = selfClass.$mediaNode_.duration;\n            if (inter_audiobuffer_workaround_id == 0) {\n              selfClass.timeCurrent = selfClass.$mediaNode_.currentTime;\n            }\n          }\n        }\n        if (selfClass.timeCurrent == 5) {\n          // selfClass.timeCurrent = 0;\n        }\n\n\n        // console.log(selfClass.timeCurrent);\n        // -- trying to fix some soundcloud wrong reporting\n\n\n        // console.log(selfClass.timeCurrent,cthis.hasClass('first-played'), cthis.attr('data-playfrom'), cthis)\n        real_time_curr = selfClass.timeCurrent;\n        real_time_total = selfClass.timeTotal;\n      }\n\n\n      // -- trying to get current time\n      if (selfClass.audioType == 'youtube') {\n\n\n        time_total_for_real = -1;\n        time_curr_for_real = -1;\n        try {\n          if (selfClass.$mediaNode_ && selfClass.$mediaNode_.getDuration) {\n            time_total_for_real = selfClass.$mediaNode_.getDuration();\n            if (selfClass._actualPlayer == null) {\n              time_curr_for_real = selfClass.$mediaNode_.getCurrentTime();\n            }\n          }\n          if (playfrom == 'last' && playfrom_ready) {\n            if (typeof Storage != 'undefined') {\n              localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] = time_curr_for_real;\n            }\n          }\n        } catch (err) {\n          console.log('yt error - ', err);\n        }\n      }\n\n\n      if (o.design_skin == 'skin-wave' && o.skinwave_comments_displayontime == 'on') {\n        dzsapHelpers.player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total);\n      }\n    }\n\n    function load_yt_api() {\n\n      // console.error(\"LOAD YT API\");\n\n      if (dzsap_ytapiloaded == false) {\n        var tag = document.createElement('script');\n        tag.src = \"https://www.youtube.com/iframe_api\";\n        var firstScriptTag = document.getElementsByTagName('script')[0];\n        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n        dzsap_ytapiloaded = true;\n      }\n    }\n\n\n    function comments_selector_event(e) {\n      var _t = $(this);\n      var _con = null;\n\n      if (_t.parent().parent().hasClass('zoomsounds-comment-wrapper')) {\n        _con = _t.parent().parent();\n      }\n      if (_t.parent().parent().parent().hasClass('zoomsounds-comment-wrapper')) {\n        _con = _t.parent().parent().parent();\n      }\n      // console.log(_t, e.type);\n      if (e.type == 'focusin') {\n\n        // console.log(_t);\n\n\n        var spx = selfClass.timeCurrent / selfClass.timeTotal * selfClass._commentsHolder.width();\n        spx += 'px';\n        // console.log(spx);\n\n\n        selfClass.commentPositionPerc = selfClass.timeCurrent / selfClass.timeTotal * 100 + '%';\n\n        _con.addClass('active');\n\n        add_comments_placeholder(spx);\n      }\n      if (e.type == 'focusout') {\n\n\n      }\n      if (e.type == 'click') {\n\n        if (_t.hasClass('comments-btn-cancel')) {\n\n          _con.removeClass('active');\n          _con.find('input').val('');\n        }\n        if (_t.hasClass('comments-btn-submit')) {\n\n\n          var comment_email = '';\n\n          if (_con.find('.comment_email').length) {\n            comment_email = _con.find('.comment_email').eq(0).val();\n          }\n\n\n          comment_submit(_con.find('.comment_text').eq(0).val(), comment_email);\n\n\n          _con.removeClass('active');\n          _con.find('input').val('');\n\n\n          return false;\n        }\n\n\n      }\n    }\n\n\n    function calculate_dims_time() {\n      var reflection_size = parseFloat(o.skinwave_wave_mode_canvas_reflection_size);\n\n\n      reflection_size = 1 - reflection_size;\n\n\n      var scrubbarh = selfClass._scrubbar.height();\n\n      if (o.design_skin == 'skin-wave') {\n\n\n        // console.log('selfClass.skinwave_mode - ',selfClass.skinwave_mode);\n        if (selfClass.skinwave_mode == 'small') {\n          scrubbarh = 60;\n        }\n\n        if (selfClass._commentsHolder) {\n\n          if (reflection_size == 0) {\n\n            // console.log(selfClass._scrubbar.offset().top - cthis.offset().top + scrubbarh *reflection_size - selfClass._commentsHolder.height())\n\n            selfClass._commentsHolder.css('top', selfClass._scrubbar.offset().top - cthis.offset().top + scrubbarh * reflection_size - selfClass._commentsHolder.height());\n          } else {\n\n\n            selfClass._commentsHolder.css('top', selfClass._scrubbar.offset().top - selfClass._scrubbar.parent().offset().top + scrubbarh * reflection_size);\n            _commentsWriter.css('top', selfClass._scrubbar.offset().top - selfClass._scrubbar.parent().offset().top + scrubbarh * reflection_size);\n          }\n        }\n\n        if (selfClass.$currTime) {\n\n\n          selfClass.$currTime.css('top', scrubbarh * reflection_size - selfClass.$currTime.outerHeight());\n        }\n        if (selfClass.$totalTime) {\n\n          selfClass.$totalTime.css('top', scrubbarh * reflection_size - selfClass.$totalTime.outerHeight());\n        }\n      }\n\n      //console.log('reflection_size - ',reflection_size);\n\n      cthis.attr('data-reflection-size', reflection_size);\n    }\n\n\n    function change_visual_target(arg, pargs) {\n      // -- change the visual target, the main is the main palyer selfClass.player_playing and the visual target is the player which is a visual representation of this\n\n      console.log('change_visual_target() - ', arg);\n\n      var margs = {}\n\n\n      // return false;\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      if (selfClass._sourcePlayer && selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n        selfClass._sourcePlayer.get(0).api_pause_media_visual({\n          'call_from': 'change_visual_target'\n        });\n      }\n      selfClass._sourcePlayer = arg;\n\n\n      console.log('new selfClass._sourcePlayer -  ', selfClass._sourcePlayer);\n\n      var __c = selfClass._sourcePlayer.get(0);\n      if (selfClass.player_playing) {\n        if (selfClass._sourcePlayer && __c && __c.api_play_media_visual) {\n          __c.api_play_media_visual();\n        }\n      }\n\n      if (__c && __c.api_draw_curr_time) {\n\n\n        __c.api_set_time_curr(selfClass.timeCurrent);\n        __c.api_get_times({\n          'call_from': ' change visual target .. in api '\n        });\n        __c.api_check_time({\n          'fire_only_once': true\n        });\n        __c.api_draw_curr_time();\n        __c.api_draw_scrub_prog();\n      }\n\n      setTimeout(function () {\n\n        // console.log('__c.api_draw_curr_time - ',__c.api_draw_curr_time);\n        if (__c && __c.api_draw_curr_time) {\n          __c.api_get_times();\n          __c.api_check_time({\n            'fire_only_once': true\n          });\n          __c.api_draw_curr_time();\n          __c.api_draw_scrub_prog();\n        }\n      }, 800);\n\n    }\n\n    function change_design_color_highlight(arg) {\n      // -- change the visual target, the main is the main palyer selfClass.player_playing and the visual target is the player which is a visual representation of this\n\n      //console.log(arg);\n\n      o.design_wave_color_progress = arg;\n      if (o.skinwave_wave_mode == 'canvas') {\n        dzsapWaveFunctions.draw_canvas(selfClass._scrubbarbg_canvas.get(0), cthis.attr('data-pcm'), \"#\" + o.design_wave_color_bg, {\n          call_from: 'canvas_change_pcm_bg',\n          selfClass,\n          'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n          'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n        });\n        dzsapWaveFunctions.draw_canvas(selfClass._scrubbarprog_canvas.get(0), cthis.attr('data-pcm'), \"#\" + o.design_wave_color_progress, {\n          call_from: 'canvas_change_pcm_prog',\n          selfClass,\n          'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n          'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n        });\n      }\n\n    }\n\n\n    /**\n     * change media source for the player / change_media(\"song.mp3\", {type:\"audio\", fakeplayer_is_feeder:\"off\"});\n     * @param _argSource - can be player dom element\n     * @param pargs - {type:\"audio\", fakeplayer_is_feeder:\"off\"}\n     * @returns {boolean}\n     */\n    function change_media(_argSource, pargs = {}) {\n\n\n      var changeMediaArgsDefaults = {\n        type: '',\n        fakeplayer_is_feeder: 'off' // -- this is OFF in case there is a button feeding it, and on if it's an actual player\n        , call_from: 'default'\n        , source: 'default'\n        , pcm: ''\n        , artist: \"\"\n        , song_name: \"\"\n        , thumb: \"\"\n        , thumb_link: \"\"\n        , autoplay: \"on\"\n        , cue: \"on\"\n        , feeder_type: \"player\"\n        , source_player_do_not_update: \"off\"\n        , watermark: \"\"\n        , watermark_volume: \"\"\n        , playerid: \"\"\n      };\n\n\n      selfClass.ajax_view_submitted = 'on'; // -- view submitted from caller\n\n      // console.log('%c change_media() -','background-color: #444; color: #dd5555;');\n      // console.log('margs initial -> ',Object.assign({},margs));\n      // console.log('pargs initial -> ',Object.assign({},pargs));\n      var handle_resize_delay = 500;\n      var changeMediaArgs = Object.assign(changeMediaArgsDefaults, pargs);\n      // margs = Object.assign(margs, pargs);\n      // console.log(\"_argSource -\",_argSource,'changeMediaArgs - ',Object.assign({},changeMediaArgs), 'pargs -5 ', Object.assign({},pargs));\n\n      var _sourceForChange = _argSource;\n\n      media_changed_index++;\n\n\n      var isSourceAStringSource = false;\n\n      $('.current-feeder-for-parent-player').removeClass('current-feeder-for-parent-player');\n      //console.log('change_media', \"margs - \", margs, cthis, selfClass._sourcePlayer, arg);\n\n      if (typeof _sourceForChange == 'string') {\n        isSourceAStringSource = true;\n      }\n\n\n      // -- let us decide if we pause old player\n      var sw_pause_old_player = true;\n\n      if (!isSourceAStringSource && cthis.attr('data-source') == _sourceForChange.attr('data-source')) {\n        sw_pause_old_player = false;\n      }\n      if (isSourceAStringSource && cthis.attr('data-source') == _sourceForChange) {\n        sw_pause_old_player = false;\n      }\n\n      // -- old feed fake player\n\n      if (sw_pause_old_player && selfClass._sourcePlayer) {\n        selfClass._sourcePlayer.get(0).api_pause_media_visual({\n          'call_from': 'change_media'\n        });\n      }\n\n      // -- we are in one mode, so we need to preserve the originalSettings of the first item\n      if (!(selfClass.cthis.data('original-settings')) && selfClass.data_source != 'fake') {\n        selfClass.cthis.data('original-settings', dzsapHelpers.sanitizeObjectForChangeMediaArgs(selfClass.cthis))\n      }\n\n\n      if (!isSourceAStringSource) {\n        changeMediaArgs = dzsapHelpers.sanitizeObjectForChangeMediaArgs(_sourceForChange);\n      }\n\n      selfClass.data_source = changeMediaArgs.source;\n\n      const isSourceHasClassForDomSource = isSourceAStringSource == false && !!(!!_sourceForChange.hasClass('audioplayer') === true || _sourceForChange.hasClass('is-zoomsounds-source-player'));\n\n\n      if ((isSourceHasClassForDomSource) || changeMediaArgs.fakeplayer_is_feeder == 'on') {\n        selfClass._sourcePlayer = _sourceForChange;\n\n        selfClass.cthis.data('feeding-from', selfClass._sourcePlayer.get(0));\n        selfClass._sourcePlayer.addClass('current-feeder-for-parent-player');\n\n\n        // console.log(\"selfClass._sourcePlayer.find('.meta-artist') -> \",selfClass._sourcePlayer.find('.meta-artist'));\n\n\n        if (selfClass._sourcePlayer.attr('data-sample_time_start')) {\n          selfClass.cthis.attr('data-sample_time_start', _sourceForChange.attr('data-sample_time_start'));\n        } else {\n          selfClass.cthis.attr('data-sample_time_start', '');\n        }\n        if (selfClass._sourcePlayer.attr('data-sample_time_end')) {\n          cthis.attr('data-sample_time_end', _sourceForChange.attr('data-sample_time_end'));\n        } else {\n          cthis.attr('data-sample_time_end', '');\n        }\n        if (selfClass._sourcePlayer.attr('data-pseudo-sample_time_start')) {\n          cthis.attr('data-pseudo-sample_time_start', selfClass._sourcePlayer.attr('data-pseudo-sample_time_start'));\n        } else {\n          cthis.attr('data-pseudo-sample_time_start', '');\n        }\n        if (selfClass._sourcePlayer.attr('data-pseudo-sample_time_end')) {\n          cthis.attr('data-pseudo-sample_time_end', selfClass._sourcePlayer.attr('data-pseudo-sample_time_end'));\n        } else {\n          cthis.attr('data-pseudo-sample_time_end', '');\n        }\n        if (selfClass._sourcePlayer.attr('data-sample_time_total')) {\n          cthis.attr('data-sample_time_total', _sourceForChange.attr('data-sample_time_total'));\n        } else {\n          cthis.attr('data-sample_time_total', '');\n        }\n      }\n\n      if (!isSourceAStringSource && _sourceForChange) {\n        if (_sourceForChange.attr('data-playerid')) {\n          cthis.attr('data-feed-playerid', _sourceForChange.attr('data-playerid'));\n        } else {\n          cthis.attr('data-feed-playerid', '');\n          changeMediaArgs.playerid = '';\n        }\n      }\n\n\n      // console.log('change_media', \"changeMediaArgs - \", changeMediaArgs);\n\n      // --- if the media is the same DON'T CHANGE IT\n      if (selfClass._sourcePlayer && changeMediaArgsDefaults.source_player_do_not_update !== 'on') {\n        // console.error(cthis.attr('data-source'), arg.attr('data-source'));\n        if (cthis.attr('data-source') == _sourceForChange.attr('data-source')) {\n          return false;\n        }\n      } else {\n        if (cthis.attr('data-source') == _sourceForChange) {\n          return false;\n        }\n\n      }\n\n\n      if (changeMediaArgs.type == 'detect' || changeMediaArgs.type == 'audio' || changeMediaArgs.type == 'normal') {\n        changeMediaArgs.type = 'selfHosted';\n      }\n      if (changeMediaArgs.type == 'youtube') {\n\n        var ytid = 'ytplayer_' + cthisId;\n\n        if (media_changed_index) {\n          ytid += media_changed_index;\n        }\n      }\n\n\n      // console.log('changeMediaArgs here -2 ',Object.assign({},changeMediaArgs), isSourceAStringSource);\n\n      cthis.removeClass('meta-loaded');\n\n\n      // -- footer placeholder\n      if (cthis.parent().hasClass('audioplayer-was-loaded')) {\n\n        cthis.parent().addClass('audioplayer-loaded');\n        $('body').addClass('footer-audioplayer-loaded');\n        cthis.parent().removeClass('audioplayer-was-loaded');\n      }\n\n      if (_sticktobottom) {\n        _sticktobottom.addClass('audioplayer-loaded');\n      }\n\n\n      cthis.removeClass('errored-out');\n\n\n      destroy_media();\n\n\n      cthis.attr('data-source', changeMediaArgs.source);\n      cthis.attr('data-soft-watermark', changeMediaArgs.watermark);\n\n\n      if (changeMediaArgs.watermark_volume) {\n        o.watermark_volume = changeMediaArgs.watermark_volume;\n      } else {\n\n        o.watermark_volume = 1;\n      }\n\n\n      //console.log('o.watermark_volume - ',o.watermark_volume);\n\n\n      var original_type = changeMediaArgs.type;\n      if (changeMediaArgs.type == 'mediafile') {\n        changeMediaArgs.type = 'audio';\n      }\n      if (changeMediaArgs.type) {\n        if (changeMediaArgs.type == 'soundcloud') {\n          changeMediaArgs.type = 'audio';\n        }\n        if (changeMediaArgs.type == 'album_part') {\n          changeMediaArgs.type = 'audio';\n        }\n        cthis.attr('data-type', changeMediaArgs.type);\n        selfClass.audioType = changeMediaArgs.type;\n        o.type = changeMediaArgs.type;\n      }\n\n      selfClass.playerIsLoaded = false;\n\n\n      if (o.design_skin == 'skin-wave') {\n        if (o.skinwave_wave_mode == 'canvas') {\n          if (selfClass._sourcePlayer) {\n            selfClass.src_real_mp3 = _sourceForChange.attr('data-source');\n          } else {\n            selfClass.src_real_mp3 = _sourceForChange;\n          }\n\n          if (_sourceForChange && changeMediaArgs.pcm) {\n\n            cthis.attr('data-pcm', _sourceForChange.attr('data-pcm'));\n            dzsapWaveFunctions.scrubModeWave__transitionIn(selfClass, _sourceForChange.attr('data-pcm'));\n          } else {\n\n            dzsapWaveFunctions.scrubModeWave__initGenerateWaveData(selfClass, {\n              'call_from': 'change_media() regenerate_canvas_from_change_media'\n            });\n          }\n\n\n          if (changeMediaArgs.pcm != '') {\n\n            dzsapWaveFunctions.scrubModeWave__transitionIn(selfClass, changeMediaArgs.pcm);\n            cthis.attr('data-pcm', changeMediaArgs.pcm);\n          } else {\n            selfClass._scrubbar.addClass('fast-animate-scrubbar');\n\n            cthis.removeClass('scrubbar-loaded');\n            setTimeout(function () {\n            }, 10)\n            setTimeout(function () {\n              cthis.removeClass('fast-animate-scrubbar');\n\n\n              // -- we have no new pcm data\n              selfClass.isRealPcm = false;\n\n              cthis.attr('data-pcm', '');\n\n              dzsapWaveFunctions.wave_mode_canvas_try_to_get_pcm(selfClass);\n              dzsapWaveFunctions.scrubModeWave__initGenerateWaveData(selfClass, {\n                'call_from': 'regenerate_canvas_from_change_media - generate data for new'\n              });\n\n            }, 120);\n\n\n          }\n\n\n        }\n\n\n        // console.log(' artist - ',changeMediaArgs.artist, cthis.find('.the-artist'), changeMediaArgs)\n\n\n        // -- inside skin-wave\n        if (changeMediaArgs.thumb) {\n\n          if (cthis.find('.the-thumb').length) {\n\n            cthis.find('.the-thumb').css('background-image', 'url(' + changeMediaArgs.thumb + ')');\n          } else {\n            cthis.attr('data-thumb', changeMediaArgs.thumb);\n            struct_generate_thumb();\n          }\n\n        }\n      }\n\n\n      if (changeMediaArgs.thumb) {\n\n        if (cthis.find('.the-thumb').length) {\n\n          cthis.find('.the-thumb').css('background-image', 'url(' + changeMediaArgs.thumb + ')');\n        } else {\n          cthis.attr('data-thumb', changeMediaArgs.thumb);\n          struct_generate_thumb();\n        }\n\n        cthis.removeClass('does-not-have-thumb');\n        cthis.addClass('has-thumb');\n      } else {\n        cthis.addClass('does-not-have-thumb');\n        cthis.removeClass('has-thumb');\n      }\n\n\n      if (changeMediaArgs.pcm == '') {\n        setup_pcm_random_for_now();\n      }\n\n      // console.log('%c selfClass._sourcePlayer.attr(\\'data-playerid\\') - ','color: #da00ff;',selfClass._sourcePlayer.attr('data-playerid'), cthis);\n\n\n      if (selfClass._sourcePlayer) {\n\n        if (selfClass._sourcePlayer.attr('data-playerid')) {\n          selfClass.identifier_pcm = selfClass._sourcePlayer.attr('data-playerid');\n        } else {\n\n          if (selfClass._sourcePlayer.attr('data-source')) {\n            selfClass.identifier_pcm = selfClass._sourcePlayer.attr('data-source');\n          }\n        }\n      }\n      // console.log('%c selfClass.identifier_pcm - ','color: #da00ff;',selfClass.identifier_pcm);\n\n\n      if (_playlistTooltip) {\n        var ind = 0;\n        var _cach = _playlistTooltip.children('.dzstooltip--inner');\n        _cach.children().removeClass('current-playlist-item');\n        _cach.children().each(function () {\n          var _t = $(this);\n\n          // console.log('_t - ',_t);\n\n          if (_t.attr('data-playerid') == changeMediaArgs.playerid) {\n            _t.addClass('current-playlist-item');\n            selfClass.playlist_inner_currNr = ind;\n          }\n        })\n      }\n\n\n      handle_resize_delay = 100;\n      if (selfClass._sourcePlayer && _sourceForChange.find('.meta-artist').eq(0).html()) {\n\n      }\n\n      if (selfClass._sourcePlayer) {\n\n        // console.log('let us check selfClass._sourcePlayer for feed-dzsap-for-extra-html-rigth - ',selfClass._sourcePlayer, selfClass._sourcePlayer.find('.feed-dzsap-for-extra-html-right'));\n        // -- .feed-dzsap-for-extra-html-right will be appended to the footer player\n\n        var selector = '';\n        var _el = null;\n        if (selfClass._sourcePlayer.find('.feed-dzsap-for-extra-html-right').length) {\n          _el = selfClass._sourcePlayer.find('.feed-dzsap-for-extra-html-right').eq(0);\n        } else {\n          // -- we use this for Shop Builder\n          if (selfClass._sourcePlayer.attr('data-playerid') && $(document).find('.feed-dzsap-for-extra-html-right[data-playerid=\"' + selfClass._sourcePlayer.attr('data-playerid') + '\"]').length) {\n            _el = $(document).find('.feed-dzsap-for-extra-html-right[data-playerid=\"' + selfClass._sourcePlayer.attr('data-playerid') + '\"]').eq(0);\n\n          }\n        }\n        if (_el) {\n          cthis.find('.extrahtml-in-float-right').eq(0).html(_el.html());\n        }\n      }\n\n      if (changeMediaArgs.artist) {\n        cthis.find('.the-artist').html(changeMediaArgs.artist);\n      }\n      if (changeMediaArgs.song_name) {\n        cthis.find('.the-name').html(changeMediaArgs.song_name);\n      }\n\n\n      if (changeMediaArgsDefaults.source_player_do_not_update == 'on') {\n        selfClass._sourcePlayer = null;\n      }\n\n\n      // console.error('changeMediaArgs.source - ',changeMediaArgs.source,changeMediaArgs.type, type);\n      if (original_type === 'soundcloud' && changeMediaArgs.source.indexOf('api.soundcloud') == -1) {\n        selfClass.data_source = changeMediaArgs.source;\n        console.log(\"RETRIEVE SOUNDCLOUD URL\");\n        selfClass.isPlayPromised = true;\n        setTimeout(function () {\n          selfClass.isPlayPromised = true;\n        }, 501);\n        dzsapMisc.retrieve_soundcloud_url(selfClass);\n\n      } else {\n\n        // -- setup media for all sources\n        // -- make sure source is not fake\n        setup_media({\n          'called_from': 'change_media'\n        });\n      }\n\n\n      settle_sample_times();\n\n\n\n      if (selfClass.audioType == 'fake') {\n        return false;\n      }\n\n      if (o.action_audio_change_media) {\n        o.action_audio_change_media(changeMediaArgs.source, changeMediaArgs);\n      }\n\n\n      //console.log(\"IS MOBILE - \",dzsapHelpers.dzsap_is_mobile());\n      // console.log('%c before autoplay changeMediaArgs - ','color: #dadada;',changeMediaArgs, dzsapHelpers.dzsap_is_mobile());\n\n      if (changeMediaArgs.autoplay == 'on' && dzsapHelpers.dzsap_is_mobile() == false) {\n        play_media_visual();\n\n        setTimeout(function () {\n\n          play_media({\n            'called_from': 'changeMediaArgs.autoplay'\n          });\n        }, 500);\n      }\n      setTimeout(function () {\n\n        handleResize();\n      }, handle_resize_delay)\n    }\n\n\n    function destroy_listeners() {\n\n\n      if (destroyed) {\n        return false;\n      }\n\n\n      sw_suspend_enter_frame = true;\n\n    }\n\n    function destroy_it() {\n\n\n      if (destroyed) {\n        return false;\n      }\n\n      if (selfClass.player_playing) {\n        pause_media();\n      }\n\n\n      $(window).off('resize.dzsap');\n\n      cthis.remove();\n      cthis = null;\n\n      destroyed = true;\n    }\n\n    function click_for_setup_media(e, pargs) {\n      // console.log('click_for_setup_media', cthis, pargs);\n\n      //console.log(e.target);\n      //cthis.unbind('click', click_for_setup_media);\n\n\n      var margs = {\n\n        'do_not_autoplay': false\n      };\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      cthis.find('.playbtn').unbind('click', click_for_setup_media);\n      cthis.find('.scrubbar').unbind('click', click_for_setup_media);\n\n      setup_media(margs);\n\n\n      if (dzsapHelpers.is_android() || dzsapHelpers.is_ios()) {\n\n        play_media({\n          'called_from': 'click_for_setup_media'\n        });\n      }\n    }\n\n\n    function click_menu_state(e) {\n\n      if (o.parentgallery && typeof (o.parentgallery.get(0)) != \"undefined\") {\n        o.parentgallery.get(0).api_toggle_menu_state();\n      }\n    }\n\n    function click_comments_bg(e) {\n\n      // console.log('click_comments_bg() --- ');\n      var _t = $(this);\n      var lmx = parseInt(e.clientX, 10) - _t.offset().left;\n      selfClass.commentPositionPerc = (lmx / _t.width()) * 100 + '%';\n\n\n      if (o.skinwave_comments_links_to) {\n        return;\n      }\n\n      if (o.skinwave_comments_allow_post_if_not_logged_in == 'off' && o.skinwave_comments_account == 'none') {\n\n        return false;\n      }\n\n      var sw = true;\n\n      selfClass._commentsHolder.children().each(function () {\n        var _t2 = $(this);\n        //console.log(_t2);\n\n        if (_t2.hasClass('placeholder') || _t2.hasClass('the-bg')) {\n          return;\n        }\n\n        var lmx2 = _t2.offset().left - _t.offset().left;\n\n        //console.log(lmx2, Math.abs(lmx2-lmx));\n\n        if (Math.abs(lmx2 - lmx) < 20) {\n          selfClass._commentsHolder.find('.dzstooltip-con.placeholder').remove();\n          sw = false;\n\n          return false;\n        }\n      })\n\n\n      if (!sw) {\n        return false;\n      }\n\n      var comments_offset = selfClass._commentsHolder.offset().left - cthis.offset().left;\n\n\n      var aux3 = lmx + comments_offset - (_commentsWriter.width() / 2) + 7;\n\n      var aux4 = -1;\n\n      if (aux3 < comments_offset) {\n        aux4 = aux3 + 32;\n        aux3 = comments_offset;\n\n        // console.error(aux4);\n\n\n        cthis.append('<style class=\"comments-writter-temp-css\">.audioplayer.skin-wave .comments-writer .comments-writer-inner:before{ left:' + aux4 + 'px  }</style>');\n\n      } else {\n\n        if (aux3 > tw - comments_offset - (_commentsWriter.width() / 2)) {\n          aux4 = lmx - (_commentsWriter.offset().left - cthis.offset().left) + (_commentsWriter.width() / 3);\n          aux3 = tw - comments_offset - (_commentsWriter.width() / 2);\n\n          // console.error(lmx, _commentsWriter.offset().left - cthis.offset().left,  aux4);\n\n\n          cthis.append('<style class=\"comments-writter-temp-css\">.audioplayer.skin-wave .comments-writer .comments-writer-inner:before{ left:' + aux4 + 'px  }</style>');\n\n        } else {\n\n          cthis.find('.comments-writter-temp-css').remove();\n        }\n      }\n\n\n      _commentsWriter.css('left', (aux3) + 'px')\n\n\n      _commentsWriter.css({\n        'left': '50%'\n        , 'top': '80px'\n        , 'transform': 'translate3d(-50%,0,0)'\n        , 'width': '100%'\n      })\n\n\n      // console.log('parseInt(selfClass._commentsHolder.css(\\'top\\'),10) + \\'px\\' -5 ', parseInt(selfClass._commentsHolder.css('top'),10) + 'px');\n      _commentsWriter.css('top', ((parseInt(selfClass._commentsHolder.css('top'), 10) + 20) + 'px'))\n\n\n      if (_commentsWriter.hasClass('active') == false) {\n        _commentsWriter.css({\n          'height': _commentsWriter.find('.comments-writer-inner').eq(0).outerHeight() + 20\n        });\n\n\n        _commentsWriter.addClass('active');\n\n        cthis.addClass('comments-writer-active');\n\n        if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_handleResize != undefined) {\n          $(o.parentgallery).get(0).api_handleResize();\n        }\n      }\n\n      if (o.skinwave_comments_account != 'none') {\n        cthis.find('input[name=comment-email]').remove();\n      }\n\n\n      add_comments_placeholder();\n\n\n    }\n\n\n    function add_comments_placeholder() {\n\n\n      selfClass._commentsHolder.remove('.dzsap-style-comments');\n      selfClass._commentsHolder.append('<style class=\"dzsap-style-comments\">.dzstooltip-con:not(.placeholder) { opacity: 0.5; }</style>')\n      selfClass._commentsHolder.find('.dzstooltip-con.placeholder').remove();\n      selfClass._commentsHolder.append('<span class=\"dzstooltip-con placeholder\" style=\"left:' + selfClass.commentPositionPerc + ';\"><div class=\"the-avatar\" style=\"background-image: url(' + o.skinwave_comments_avatar + ')\"></div></span>');\n    }\n\n    function click_cancel_comment(e) {\n      hide_comments_writer();\n    }\n\n\n    function comment_submit(comment_text, comment_email, comment_username) {\n      var comm_author = '';\n      if (comment_email) {\n        var regex_mail = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n        if (regex_mail.test(comment_email) == false) {\n          alert('please insert email, your email is just used for gravatar. it will not be sent or stored anywhere');\n          return false;\n        }\n\n        comm_author = String(comment_email).split('@')[0];\n        o.skinwave_comments_account = comm_author;\n        //console.log(comm_author);\n\n\n        if (_commentsSelector) {\n\n          _commentsSelector.find('*[name=comment_email],*[name=comment_user]').remove();\n        }\n\n\n        o.skinwave_comments_avatar = 'https://secure.gravatar.com/avatar/' + dzsapHelpers.MD5(String(cthis.find('input[name=comment-email]').eq(0).val()).toLowerCase()) + '?s=20';\n      } else {\n\n      }\n\n\n      console.log('comment_submit() - ', comment_text, comment_email);\n\n      // return false;\n\n      comm_author = o.skinwave_comments_account;\n\n      var aux = '';\n\n\n      if (o.skinwave_comments_process_in_php != 'on') {\n\n        // -- process the comment now, in javascript\n\n        aux += '<span class=\"dzstooltip-con zoomsounds-comment\" style=\"left:' + selfClass.commentPositionPerc + '\"><div class=\"the-avatar tooltip-indicator\" style=\"background-image: url(' + o.skinwave_comments_avatar + ')\"></div><span class=\"dzstooltip arrow-bottom style-rounded color-dark-light talign-start  transition-slidein arrow-bottom \" style=\"width: 250px;\"><span class=\"dzstooltip--inner\"><span class=\"the-comment-author\">@' + comm_author + '</span> says:<br>';\n        aux += dzsapHelpers.htmlEncode(comment_text);\n\n\n        aux += '</span></span></span>';\n      } else {\n\n\n        // -- process php\n\n        aux += comment_text;\n      }\n\n\n      cthis.find('*[name=comment-text]').eq(0).val('');\n\n\n      cthis.find('.comments-writter-temp-css,.dzsap-style-comments').remove();\n\n\n      (dzsapAjax.ajax_comment_publish.bind(selfClass))(aux);\n\n      hide_comments_writer();\n\n      if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_player_commentSubmitted != undefined) {\n        $(o.parentgallery).get(0).api_player_commentSubmitted();\n      }\n\n    }\n\n    function click_submit_comment(e) {\n\n      var comment_email = '';\n\n      if (cthis.find('input[name=comment-email]').length) {\n        comment_email = cthis.find('input[name=comment-email]').eq(0).val();\n      }\n\n\n      comment_submit(cthis.find('*[name=comment-text]').eq(0).val(), comment_email);\n\n\n      return false;\n    }\n\n    function hide_comments_writer() {\n\n      //console.log(_commentsWriter);\n      cthis.removeClass('comments-writer-active');\n      selfClass._commentsHolder.find('.dzstooltip-con.placeholder').remove();\n      _commentsWriter.removeClass('active');\n      _commentsWriter.css({\n        'height': 0\n      })\n\n\n      if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_handleResize != undefined) {\n        $(o.parentgallery).get(0).api_handleResize();\n      }\n\n      setTimeout(function () {\n\n        cthis.find('.comments-writter-temp-css,.dzsap-style-comments').remove();\n      }, 300);\n\n    }\n\n    function youtube_checkReady(argid) {\n      //console.log(loaded);\n\n\n      // console.log('check_yt_ready()', loaded, window.YT, cthis);\n      if (selfClass.playerIsLoaded == true) {\n        return;\n      }\n      // console.log('yt inited');\n      //var player;\n\n      if (argid) {\n\n      } else {\n        argid = yt_curr_id;\n      }\n\n      if (selfClass.$theMedia.children().length == 0) {\n        selfClass.$theMedia.append('<div id=\"' + argid + '\"></div>');\n      }\n\n      // console.log('argid - ', argid, $(argid), Object.assign({}, $(argid)));\n      selfClass.$mediaNode_ = new YT.Player(argid + '', {\n        height: '200',\n        width: '200',\n        videoId: cthis.attr('data-source'),\n        playerVars: {\n          origin: ''\n          ,\n          controls: 1,\n          'showinfo': 0,\n          'playsinline': 1,\n          rel: 0,\n          autohide: 0,\n          wmode: 'transparent',\n          iv_load_policy: '3'\n        },\n        events: {\n          'onReady': check_yt_ready_phase_two,\n          'onStateChange': change_yt_state\n        }\n      });\n      cthis.addClass('yt-inited');\n\n      yt_inited = true;\n\n\n      return false;\n      //init_loaded();\n    }\n\n    function check_yt_ready_phase_two(arg) {\n\n      // console.log('check_yt_ready_phase_two', arg);\n\n\n      // console.log('selfClass.$mediaNode_ - ', Object.assign({},selfClass.$mediaNode_), selfClass.$mediaNode_.getPlayerState, cthis);\n\n      if (yt_inited == false) {\n        youtube_checkReady(yt_curr_id);\n        setTimeout(function () {\n          check_yt_ready_phase_two(arg)\n        }, 1000);\n      } else {\n        if (selfClass.$mediaNode_) {\n          // --  && selfClass.$mediaNode_.getPlayerState\n          init_loaded({\n            'call_from': 'check_yt_ready_phase_two'\n          });\n\n          if (selfClass.youtube_retryPlayTimeout) {\n            // console.log('try to play ')\n            setTimeout(function () {\n              play_media({\n                'called_from': 'check_yt_ready_phase_two'\n              });\n            }, 500);\n          }\n        } else {\n          setTimeout(function () {\n            check_yt_ready_phase_two(arg)\n          }, 1000);\n        }\n\n      }\n    }\n\n    function change_yt_state(arg) {\n      // console.log('change_yt_state - ', arg);\n\n      if (arg.data == 4) {\n\n      }\n      if (arg.data == 2) {\n\n        pause_media({\n          'call_from': 'youtube paused'\n        });\n      }\n      if (arg.data == 1) {\n\n        play_media({\n          'called_from': 'youtube playing'\n        });\n        cthis.addClass('dzsap-loaded');\n      }\n      if (arg.data == -1) {\n\n        // console.log('selfClass.player_playing - ',selfClass.player_playing);\n\n        if (selfClass.player_playing) {\n          seek_to(0);\n        }\n      }\n    }\n\n    function check_ready(pargs) {\n      // console.log('check_ready()', cthis, selfClass.$mediaNode_, selfClass.$mediaNode_.readyState);\n      //=== do a little ready checking\n\n\n      var margs = {\n\n        'do_not_autoplay': false\n      };\n\n      if (selfClass._actualPlayer && dzsapHelpers.is_ios()) {\n        return false;\n      }\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log(selfClass.$mediaNode_.readyState);\n      if (selfClass.audioType == 'youtube') {\n\n        init_loaded(margs);\n      } else {\n        if (typeof (selfClass.$mediaNode_) != 'undefined' && selfClass.$mediaNode_) {\n\n\n          //                        return false;\n          if (selfClass.$mediaNode_.nodeName != \"AUDIO\" || o.type == 'shoutcast') {\n            init_loaded(margs);\n          } else {\n            if (is_safari()) {\n\n              if (selfClass.$mediaNode_.readyState >= 1) {\n                //console.log(\"CALL INIT LOADED FROM \",selfClass.$mediaNode_.readyState);\n\n                if (selfClass.playerIsLoaded == false) {\n                }\n\n                init_loaded(margs);\n                clearInterval(inter_checkReady);\n\n                if (o.action_audio_loaded_metadata) {\n                  o.action_audio_loaded_metadata(cthis);\n                }\n              }\n            } else {\n              if (selfClass.$mediaNode_.readyState >= 2) {\n                //console.log(\"CALL INIT LOADED FROM \",selfClass.$mediaNode_.readyState);\n                if (selfClass.playerIsLoaded == false) {\n                }\n                init_loaded(margs);\n                clearInterval(inter_checkReady);\n\n                // console.log(selfClass.$mediaNode_.duration);\n\n\n                // console.log(o.action_audio_loaded_metadata)\n                if (o.action_audio_loaded_metadata) {\n                  o.action_audio_loaded_metadata(cthis);\n                }\n              }\n            }\n\n          }\n        }\n\n      }\n\n    }\n\n    function scrubbar_reveal() {\n      setTimeout(function () {\n        if (cthis) {\n          cthis.addClass('scrubbar-loaded');\n        }\n      }, 1000);\n    }\n\n\n    function struct_generate_thumb() {\n\n      // return false;\n\n\n      var str_thumbh = \"\";\n      if (design_thumbh != '') {\n        str_thumbh = ' height:' + o.design_thumbh + 'px;';\n      }\n      if (cthis.attr('data-thumb')) {\n\n\n        cthis.addClass('has-thumb');\n        var aux_thumb_con_str = '';\n\n        if (cthis.attr('data-thumb_link')) {\n          aux_thumb_con_str += '<a href=\"' + cthis.attr('data-thumb_link') + '\"';\n        } else {\n          aux_thumb_con_str += '<div';\n        }\n        aux_thumb_con_str += ' class=\"the-thumb-con\"><div class=\"the-thumb\" style=\" background-image:url(' + cthis.attr('data-thumb') + ')\"></div>';\n\n\n        if (cthis.attr('data-thumb_link')) {\n          aux_thumb_con_str += '</a>';\n        } else {\n          aux_thumb_con_str += '</div>';\n        }\n\n\n        if (cthis.children('.the-thumb-con').length) {\n          aux_thumb_con_str = cthis.children('.the-thumb-con').eq(0);\n        }\n\n\n        if (o.design_skin != 'skin-customcontrols') {\n          if (o.design_skin == 'skin-wave' && (selfClass.skinwave_mode == 'small' || selfClass.skinwave_mode == 'alternate')) {\n\n            if (selfClass.skinwave_mode == 'alternate') {\n\n              // console.log(\"WHERE IS INNER ? \",selfClass._audioplayerInner);\n              selfClass._audioplayerInner.prepend(aux_thumb_con_str);\n            } else {\n\n              selfClass._apControlsLeft.prepend(aux_thumb_con_str);\n            }\n          } else if (o.design_skin == 'skin-steel') {\n\n\n            selfClass._apControlsLeft.prepend(aux_thumb_con_str);\n          } else {\n\n            selfClass._audioplayerInner.prepend(aux_thumb_con_str);\n          }\n        }\n\n        _theThumbCon = selfClass._audioplayerInner.children('.the-thumb-con').eq(0);\n      } else {\n\n        cthis.removeClass('has-thumb');\n      }\n    }\n\n    function apply_skinwave_mode_class() {\n\n\n      cthis.removeClass('skin-wave-mode-normal');\n      if (o.design_skin == 'skin-wave') {\n        cthis.addClass('skin-wave-mode-' + selfClass.skinwave_mode);\n\n\n        if (selfClass.skinwave_mode == 'small') {\n          if (o.design_thumbh == 'default') {\n            design_thumbh = 80;\n          }\n        }\n        cthis.addClass('skin-wave-wave-mode-' + o.skinwave_wave_mode);\n\n        if (o.skinwave_enableSpectrum == 'on') {\n\n          cthis.addClass('skin-wave-is-spectrum');\n        }\n        cthis.addClass('skin-wave-wave-mode-canvas-mode-' + o.skinwave_wave_mode_canvas_mode);\n\n      }\n\n    }\n\n\n    function playlist_goto_item(arg, pargs) {\n      // -- this is the function called from playlist menu item ( footer )\n\n\n      var margs = {\n        'call_from': \"default\"\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      // console.log('playlist_goto_item - margs -4 ',margs, 'arg - ',arg);\n\n\n      var _cach_con = null;\n\n\n      if (_playlistTooltip) {\n        _cach_con = _playlistTooltip.find('.dzstooltip--inner');\n\n        var _cach = _cach_con.children().eq(arg);\n\n        // console.log(_cach);\n\n        var playerid = _cach.attr('data-playerid');\n\n\n        // console.log('playerid && $(\\'.audioplayer[data-playerid=\"\\'+playerid+\\'\"]\\').length && $(\\'.audioplayer[data-playerid=\"\\'+playerid+\\'\"]\\').eq(0).get(0).api_play_media - ',playerid);\n        // console.log('the-player - ', $('.audioplayer[data-playerid=\"'+playerid+'\"],.audioplayer-tobe[data-playerid=\"'+playerid+'\"]'));\n\n\n        var _cach = $('.audioplayer[data-playerid=\"' + playerid + '\"],.audioplayer-tobe[data-playerid=\"' + playerid + '\"]');\n\n\n        if (playerid && _cach.length && _cach.eq(0).get(0) && _cach.eq(0).get(0).api_play_media) {\n\n\n          $('.audioplayer[data-playerid=\"' + playerid + '\"]').eq(0).get(0).api_play_media({\n\n            'called_from': 'api_sync_players_prev'\n          });\n\n        } else {\n\n\n          if (_cach.parent().parent().parent().hasClass('audiogallery')) {\n            _cach.parent().parent().parent().get(0).api_goto_item(arg);\n          } else {\n\n            // -- in case we change the page ;)\n            change_media(_cach);\n          }\n\n\n        }\n\n        selfClass.playlist_inner_currNr = arg;\n\n      }\n    }\n\n\n    function player_setup_playlist_inner(pargs) {\n      // -- setup playlist for footer\n\n\n      var margs = {\n        'call_from': \"default\"\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      // console.log('player_setup_playlist_inner() dzsap_list_for_sync_players -4 ',dzsap_list_for_sync_players,margs,cthis);\n\n      // console.log('dzsap_list_for_sync_players - dzsap_list_for_sync_players len - ', dzsap_list_for_sync_players.length, _playlistTooltip);\n\n\n      if (_playlistTooltip) {\n        (dzsap_list_for_sync_players.length) ? _playlistTooltip.parent().removeClass('is-empty') : _playlistTooltip.parent().addClass('is-empty');\n        // -- clear all before adding\n        _playlistTooltip.find('.dzstooltip--inner').html('');\n        var aux = '';\n        for (var lab in dzsap_list_for_sync_players) {\n          // -- setup inner playlist for sticky player\n\n\n          var _c = dzsap_list_for_sync_players[lab];\n\n          if (_c.hasClass('number-wrapper') || _c.hasClass('for-number-wrapper')) {\n            continue;\n          }\n\n          aux += '<div class=\"playlist-menu-item\"';\n\n\n          $.each(_c.get(0).attributes, function () {\n            // -- we remember attributes in case the page has changed and we lost..\n            if (this.specified && this.name && this.name != 'id' && this.name != 'style') {\n\n              aux += ' ' + this.name + '=\"' + this.value + '\"';\n              // console.log(this.name, this.value);\n            }\n          });\n\n\n          aux += '>';\n\n\n          aux += '<div class=\"pi-thumb-con\">';\n          aux += '<div class=\"pi-thumb divimage\" style=\"background-image: url(' + _c.attr('data-thumb') + ')\">';\n          aux += '</div>'\n          aux += '</div>'\n          aux += '<div class=\"pi-meta-con\">';\n\n          aux += '<div class=\"pi-the-artist\">';\n          aux += _c.find('.the-artist').eq(0).text();\n          aux += '</div>';\n\n          aux += '<div class=\"pi-the-name\">';\n          aux += _c.find('.the-name').eq(0).text();\n          aux += '</div>';\n\n          aux += '</div>';\n\n\n          aux += '<div class=\"the-sort-handle\">';\n          aux += dzsapSvgs.svg_arrow_resize;\n          aux += '</div>';\n\n          aux += '</div>';\n\n        }\n        _playlistTooltip.find('.dzstooltip--inner').append(aux);\n\n\n        cthis.on('mousedown', '.the-sort-handle', handle_mouse);\n        $(document).on('mousemove.dzsap_playlist_item', function (e) {\n\n          if (window.dzsap_moving_playlist_item) {\n\n            var my = e.clientY;\n\n            my -= dzsap_playlist_con.offset().top;\n\n            // console.log(mx,my);\n\n            dzsap_playlist_item_moving.css('top', my - 20);\n\n\n            dzsap_playlist_item_target.parent().children(':not(\".target-playlist-item\"):not(\".cloner\")').each(function () {\n              var _t = $(this);\n\n              var tmy = _t.offset().top - dzsap_playlist_con.offset().top;\n\n\n              // console.log(my,tmy);\n              if (my > tmy) {\n                _t.after(dzsap_playlist_item_target);\n              }\n            })\n\n            if (my < 50) {\n              dzsap_playlist_item_target.parent().prepend(dzsap_playlist_item_target);\n            }\n          }\n        });\n        $(document).on('mouseup.dzsap_playlist_item', function (e) {\n\n          if (window.dzsap_moving_playlist_item) {\n\n            window.dzsap_moving_playlist_item = false;\n\n\n            dzsap_playlist_item_moving.parent().children('.cloner').remove();\n            dzsap_playlist_item_target.removeClass('target-playlist-item');\n            dzsap_playlist_item_moving.remove();\n            dzsap_playlist_item_moving = null;\n            dzsap_playlist_item_target = null;\n          }\n        })\n      } else {\n        console.error('no tooltip .. why, should be here?');\n      }\n\n    }\n\n\n    function setup_controls_commentsHolder() {\n\n      // console.log('setup_controlsselfClass._commentsHolder() - arguments - ',arguments);\n\n      if (selfClass._commentsHolder && _commentsChildren) {\n\n        // console.log(' _commentsChildren - ',_commentsChildren, cthis);\n        _commentsChildren.each(function () {\n\n          var _c = $(this);\n\n\n          if (o.skinwave_comments_process_in_php == 'on') {\n\n            if (_c && _c.hasClass && _c.hasClass('dzstooltip-con')) {\n              if (_c.find('.dzstooltip > .dzstooltip--inner').length) {\n\n              } else {\n                // -- convert\n\n\n                // console.error(\"CONVERT\");\n                _c.find('.dzstooltip').wrapInner('<div class=\"dzstooltip--inner\"></div>');\n\n\n                _c.find('.the-avatar').addClass('tooltip-indicator');\n                _c.find('.dzstooltip').before(_c.find('.tooltip-indicator'));\n                _c.find('.dzstooltip').addClass('talign-start style-rounded color-dark-light');\n              }\n            }\n          }\n\n          selfClass._commentsHolder.append(_c);\n        })\n      }\n\n    }\n\n\n    function setup_structure_extras() {\n\n      // console.log('selfClass.skinwave_mode - ', selfClass.skinwave_mode);\n      if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'bigwavo') {\n        selfClass._audioplayerInner.after(selfClass._scrubbar);\n\n        if (cthis.find('.feed-description')) {\n          selfClass.$conControls.after(cthis.find('.feed-description').eq(0));\n          selfClass.$conControls.next().removeClass('feed-description').addClass('song-desc');\n        }\n      }\n\n\n      if (radio_update_song_name == false && selfClass._metaArtistCon.find('.the-name').length && selfClass._metaArtistCon.find('.the-name').eq(0).text().length > 0) {\n        // -- we already have artist name..\n        radio_update_song_name = false;\n        if (selfClass._metaArtistCon.find('.the-name').eq(0).html().indexOf('&nbsp;&nbsp;') > -1) {\n          radio_update_song_name = true;\n        }\n      } else {\n        radio_update_song_name = true;\n      }\n\n      if (radio_update_artist_name == false && selfClass._metaArtistCon.find('.the-name').length && selfClass._metaArtistCon.find('.the-artist').eq(0).text().length > 0) {\n        // -- we already have artist name..\n        radio_update_artist_name = false;\n        if (selfClass._metaArtistCon.find('.the-name').eq(0).html().indexOf('&nbsp;&nbsp;') > -1) {\n          radio_update_artist_name = true;\n        }\n      } else {\n        radio_update_artist_name = true;\n      }\n\n\n      if (o.disable_scrub == 'on') {\n        cthis.addClass('disable-scrubbar');\n      }\n      if (o.design_animateplaypause != 'on') {\n        // aux_str_con_controls+=' style=\"display:none\"';\n      } else {\n        cthis.addClass('playing-animation');\n      }\n\n      if (o.design_skin == 'skin-wave' && o.embed_code != '') {\n        if (o.design_skin == 'skin-wave') {\n\n          if (o.enable_embed_button == 'on') {\n            if (selfClass._apControlsRight) {\n              selfClass._apControlsRight.appendOnce('<div class=\"btn-embed-code-con dzstooltip-con player-but\"><div class=\"btn-embed-code \"> <div class=\"the-icon-bg\"></div> ' + dzsapSvgs.svg_embed_button + '</div><span class=\"dzstooltip transition-slidein arrow-bottom align-right skin-black \" style=\"width: 350px; \"><span style=\"max-height: 150px; overflow:hidden; display: block;\">' + o.embed_code + '</span></span></div>');\n            }\n          }\n\n        } else {\n          if (o.enable_embed_button == 'on') {\n            selfClass._audioplayerInner.appendOnce('<div class=\"btn-embed-code-con dzstooltip-con \"><div class=\"btn-embed-code player-but \"> <div class=\"the-icon-bg\"></div> ' + dzsapSvgs.svg_embed_btn + '</div><span class=\"dzstooltip transition-slidein arrow-bottom align-right skin-black \" style=\"width: 350px; \"><span style=\"max-height: 150px; overflow:hidden; display: block;\">' + o.embed_code + '</span></span></div>');\n          }\n        }\n\n        cthis.on('click', '.btn-embed-code-con, .btn-embed', function () {\n          var _t = $(this);\n\n          // console.log(_t);\n          dzsapHelpers.select_all(_t.find('.dzstooltip').get(0));\n        })\n        cthis.on('click', '.copy-embed-code-btn', function () {\n          var _t = $(this);\n\n          // console.log(_t);\n          dzsapHelpers.select_all(_t.parent().parent().find('.dzstooltip--inner > span').get(0));\n\n          document.execCommand('copy');\n          setTimeout(function () {\n\n            dzsapHelpers.select_all(_t.get(0));\n          }, 100)\n        })\n\n        // cthis.on(' .btn-embed .dzstooltip').bind('click', function() {\n        //     var _t = $(this);\n        //\n        //     console.log(_t);\n        //     dzsapHelpers.select_all(_t.get(0));\n        // })\n      }\n\n      if (o.footer_btn_playlist == 'on') {\n\n        if (selfClass._apControlsRight.find('.btn-footer-playlist').length == 0) {\n\n          selfClass._apControlsRight.append('<div class=\"btn-footer-playlist for-hover dzstooltip-con player-but\"> <div class=\"tooltip-indicator tooltip-indicator--btn-footer-playlist\"><div class=\"the-icon-bg\"></div> ' + dzsapSvgs.svg_footer_playlist + '    </div><div class=\"dzstooltip playlist-tooltip style-default color-light-dark arrow-bottom talign-end transition-scaleup active2\"><div class=\"dzstooltip--inner\"> </div></div></div>');\n\n\n          _playlistTooltip = cthis.find('.playlist-tooltip');\n\n\n          setTimeout(function () {\n            player_setup_playlist_inner();\n          }, 100);\n\n          setTimeout(function () {\n            // player_setup_playlist_inner();\n          }, 1000)\n        }\n\n      }\n\n      if (o.settings_extrahtml != '') {\n\n        // console.log('o.settings_extrahtml -> ', o.settings_extrahtml, index_extrahtml_toloads);\n\n        if (String(o.settings_extrahtml).indexOf('{{get_likes}}') > -1) {\n          selfClass.index_extrahtml_toloads++;\n          ajax_get_likes();\n        }\n        if (String(o.settings_extrahtml).indexOf('{{get_plays}}') > -1) {\n          selfClass.index_extrahtml_toloads++;\n          (dzsapAjax.ajax_get_views.bind(selfClass))();\n        } else {\n          // console.log('selfClass.increment_views', selfClass.increment_views);\n          if (selfClass.increment_views === 1) {\n            (dzsapAjax.ajax_submit_views.bind(selfClass))();\n            selfClass.increment_views = 2;\n          }\n        }\n\n        if (String(o.settings_extrahtml).indexOf('{{get_rates}}') > -1) {\n          selfClass.index_extrahtml_toloads++;\n          ajax_get_rates();\n        }\n        o.settings_extrahtml = String(o.settings_extrahtml).replace('{{heart_svg}}', dzsapSvgs.svg_heart_icon);\n        o.settings_extrahtml = String(o.settings_extrahtml).replace('{{embed_code}}', o.embed_code);\n\n\n        if (selfClass.index_extrahtml_toloads == 0) {\n          //console.log('lel',cthis.find('.extra-html'))\n\n          cthis.find('.extra-html').addClass('active');\n        }\n        setTimeout(function () {\n\n          //console.log('lel',cthis.find('.extra-html'))\n          cthis.find('.extra-html').addClass('active');\n\n\n          // console.log(\"cthis.find('.extra-html') -> \",cthis.find('.extra-html'))\n          // console.log(\"cthis.find('.extra-html-extra') -> \",cthis.find('.extra-html-extra'))\n          // cthis.find('.extra-html-extra').removeClass('dzsap-feed');\n\n          if (cthis.find('.float-left').length == 0) {\n            cthis.find('.extra-html').append(cthis.find('.extra-html-extra'));\n          } else {\n            cthis.find('.extra-html .float-left').append(cthis.find('.extra-html-extra'));\n          }\n\n\n          var _c = cthis.find('.extra-html-extra').children().eq(0);\n\n          cthis.find('.extra-html-extra').children().unwrap();\n          // if(_c.parent().hasClass('float-left')){                         }\n\n\n          // console.log('o.settings_extrahtml->',o.settings_extrahtml);\n          // console.log('cthis.find(\\'.extra-html\\').html()->',cthis.find('.extra-html').html());\n\n\n          if (cthis.find('.extra-html').html().indexOf('dzsap-multisharer-but') > -1) {\n            selfClass.isMultiSharer = true;\n\n\n          }\n\n        }, 2000);\n\n      }\n\n      if (cthis.find('.con-after-playpause').length) {\n        selfClass.$conPlayPause.after(cthis.find('.con-after-playpause').eq(0));\n      }\n\n      if (cthis.find('.afterplayer').length > 0) {\n        //console.log(cthis.children('.afterplayer'));\n        cthis.append(cthis.find('.afterplayer'));\n      }\n\n    }\n\n    function setup_structure_sanitizers() {\n\n      if (cthis.hasClass('zoomsounds-wrapper-bg-bellow') && cthis.find('.dzsap-wrapper-buts').length === 0) {\n        // console.log('NO WRAPPER BUTS - ',cthis.find('.ap-controls-right'));\n\n        cthis.append('<div class=\"temp-wrapper\"></div>');\n        cthis.find('.temp-wrapper').append(selfClass.settings_extrahtml_in_float_right);\n        cthis.find('.temp-wrapper').children('*:not(.dzsap-wrapper-but)').remove();\n        cthis.find('.temp-wrapper > .dzsap-wrapper-but').unwrap();\n        cthis.children('.dzsap-wrapper-but').each(function () {\n          var aux = $(this).html();\n          // console.log('aux - ',aux);\n\n          aux = aux.replace('{{heart_svg}}', dzsapSvgs.svg_heart_icon);\n          aux = aux.replace('{{svg_share_icon}}', dzsapSvgs.svg_share_icon);\n\n\n          if ($(this).get(0) && $(this).get(0).outerHTML.indexOf('dzsap-multisharer-but') > -1) {\n            selfClass.isMultiSharer = true;\n            // console.log(\"selfClass.isMultiSharer -5 sw\",selfClass.isMultiSharer);\n\n          }\n\n          $(this).html(aux);\n        }).wrapAll('<div class=\"dzsap-wrapper-buts\"></div>');\n      }\n\n      if (o.design_skin === 'skin-customcontrols') {\n\n\n        // console.log('cthis.html() - ',cthis.html());\n        cthis.html(String(cthis.html()).replace('{{svg_play_icon}}', dzsapSvgs.svg_play_icon));\n        cthis.html(String(cthis.html()).replace('{{svg_pause_icon}}', dzsapSvgs.pausebtn_svg));\n\n      }\n    }\n\n\n    function check_multisharer() {\n\n      // -- we setup a box main here as a child of body\n\n\n      cthis.find('.dzsap-multisharer-but').data('cthis', cthis);\n      // console.log(\"WE SETUP HERE\", cthis.find('.dzsap-multisharer-but').data('cthis'), 'selfClass.isMultiSharer - ',selfClass.isMultiSharer);\n\n      cthis.data('embed_code', o.embed_code);\n\n\n      if (selfClass.isMultiSharer) {\n        window.dzsap_init_multisharer()\n      }\n\n    }\n\n    function setup_pcm_random_for_now(pargs) {\n\n\n      var margs = {\n        call_from: 'default'\n      }\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      var default_pcm = [];\n\n      if (!(o.pcm_data_try_to_generate == 'on' && o.pcm_data_try_to_generate_wait_for_real_pcm == 'on')) {\n        for (var i3 = 0; i3 < 200; i3++) {\n          default_pcm[i3] = Number(Math.random()).toFixed(2);\n        }\n        default_pcm = JSON.stringify(default_pcm);\n\n        cthis.addClass('rnd-pcm-for-now')\n        cthis.attr('data-pcm', default_pcm);\n      }\n\n\n      dzsapHelpers.scrubbar_modeWave_setupCanvas({}, selfClass);\n      ;\n\n    }\n\n\n    function setup_structure_scrub() {\n      if (o.skinwave_enableSpectrum != 'on') {\n\n        if (o.skinwave_wave_mode == 'canvas') {\n          // console.log('verify pcm - ',cthis, cthis.attr('data-pcm'));\n\n          if (cthis.attr('data-pcm')) {\n            selfClass.isRealPcm = true;\n            dzsapHelpers.scrubbar_modeWave_setupCanvas({}, selfClass);\n          } else {\n            setup_pcm_random_for_now();\n          }\n\n\n        } else {\n          if (o.skinwave_wave_mode == 'line') {\n\n\n          }\n          if (o.skinwave_wave_mode == 'image') {\n\n            var aux = '<img class=\"scrub-bg--img\" src=\"' + cthis.attr('data-scrubbg') + '\"/>'\n            selfClass._scrubbar.children('.scrub-bg').eq(0).append(aux);\n\n            setTimeout(function () {\n\n              scrubbar_reveal();\n            }, 300);\n            aux = '<img class=\"scrub-prog--img\" src=\"' + cthis.attr('data-scrubprog') + '\"/>'\n            selfClass._scrubbar.children('.scrub-prog').eq(0).append(aux);\n\n            setTimeout(function () {\n\n              scrubbar_reveal();\n            }, 300);\n\n          }\n\n\n        }\n\n\n      } else {\n\n        // -- spectrum ON\n\n        dzsapHelpers.scrubbar_modeWave_setupCanvas({}, selfClass);\n        // -- old spectrum code\n        // selfClass._scrubbar.children('.scrub-bg').eq(0).append('<canvas class=\"scrub-bg-canvas\" style=\"width: 100%; height: 100%;\"></canvas><div class=\"wave-separator\"></div>');\n        _scrubBgCanvas = cthis.find('.scrub-bg-img').eq(0);\n        //console.log('_scrubBgCanvas - ',_scrubBgCanvas)\n        _scrubBgCanvasCtx = _scrubBgCanvas.get(0).getContext(\"2d\");\n\n\n      }\n\n    }\n\n\n    function ajax_get_likes(argp) {\n      //only handles ajax call + result\n      var mainarg = argp;\n      var data = {\n        action: 'dzsap_get_likes',\n        postdata: mainarg,\n        playerid: selfClass.the_player_id\n      };\n\n\n      if (selfClass.urlToAjaxHandler) {\n\n\n        $.ajax({\n          type: \"POST\",\n          url: selfClass.urlToAjaxHandler,\n          data: data,\n          success: function (response) {\n            if (window.console) {\n              // console.log('Got this from the server: ' + response);\n            }\n\n            var auxls = false;\n            if (response.indexOf('likesubmitted') > -1) {\n              response = response.replace('likesubmitted', '');\n              auxls = true;\n            }\n\n\n            if (response == '') {\n              response = 0;\n            }\n\n\n            var _cach = cthis.find('.extra-html').eq(0);\n\n            // console.log('_cach - ',_cach);\n\n\n            _cach.css('opacity', '');\n            var auxhtml = _cach.html();\n            auxhtml = auxhtml.replace('{{get_likes}}', response);\n            _cach.html(auxhtml);\n            selfClass.index_extrahtml_toloads--;\n            if (auxls) {\n              cthis.find('.extra-html').find('.btn-like').addClass('active');\n            }\n\n\n            //console.log(selfClass.index_extrahtml_toloads);\n            if (selfClass.index_extrahtml_toloads == 0) {\n              cthis.find('.extra-html').addClass('active');\n            }\n\n          },\n          error: function (arg) {\n            if (window.console) {\n              // console.log('Got this from the server: ' + arg, arg);\n            }\n            ;\n            selfClass.index_extrahtml_toloads--;\n            if (selfClass.index_extrahtml_toloads == 0) {\n              cthis.find('.extra-html').addClass('active');\n            }\n          }\n        });\n      }\n\n    }\n\n    function ajax_get_rates(argp) {\n      //only handles ajax call + result\n      var mainarg = argp;\n      var data = {\n        action: 'dzsap_get_rate',\n        postdata: mainarg,\n        playerid: selfClass.the_player_id\n      };\n\n\n      if (selfClass.urlToAjaxHandler) {\n\n        $.ajax({\n          type: \"POST\",\n          url: selfClass.urlToAjaxHandler,\n          data: data,\n          success: function (response) {\n            if (typeof window.console != \"undefined\") {\n              // console.log('Got this from the server: ' + response);\n            }\n\n            var auxls = false;\n            if (response.indexOf('likesubmitted') > -1) {\n              response = response.replace('likesubmitted', '');\n              auxls = true;\n            }\n\n\n            if (response == '') {\n              response = '0|0';\n            }\n\n\n            var auxresponse = response.split('|');\n\n\n            starrating_nrrates = auxresponse[1];\n            cthis.find('.extra-html .counter-rates .the-number').eq(0).html(starrating_nrrates);\n            selfClass.index_extrahtml_toloads--;\n\n\n            cthis.find('.star-rating-set-clip').width(auxresponse[0] * (parseInt(cthis.find('.star-rating-bg').width(), 10) / 5));\n\n\n            //===ratesubmitted\n            if (typeof (auxresponse[2]) != 'undefined') {\n              selfClass.starrating_alreadyrated = auxresponse[2];\n\n\n              if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_player_rateSubmitted != undefined) {\n                $(o.parentgallery).get(0).api_player_rateSubmitted();\n              }\n            }\n\n\n            if (selfClass.index_extrahtml_toloads <= 0) {\n              cthis.find('.extra-html').addClass('active');\n            }\n\n          },\n          error: function (arg) {\n            if (typeof window.console != \"undefined\") {\n              // console.log('Got this from the server: ' + arg, arg);\n            }\n            ;\n            selfClass.index_extrahtml_toloads--;\n            if (selfClass.index_extrahtml_toloads <= 0) {\n              cthis.find('.extra-html').addClass('active');\n            }\n          }\n        });\n      }\n    }\n\n\n    ;\n\n\n    function ajax_submit_download(argp) {\n      //only handles ajax call + result\n      var mainarg = argp;\n      var data = {\n        action: 'dzsap_submit_download',\n        postdata: mainarg,\n        playerid: selfClass.the_player_id\n      };\n\n      if (selfClass.starrating_alreadyrated > -1) {\n        return;\n      }\n\n      if (selfClass.urlToAjaxHandler) {\n\n        $.ajax({\n          type: \"POST\",\n          url: selfClass.urlToAjaxHandler,\n          data: data,\n          success: function (response) {\n            // console.log('Got this from the server: ' + response);\n\n\n          },\n          error: function (arg) {\n            // console.log('Got this from the server: ' + arg, arg);\n\n\n          }\n        });\n      }\n    };\n\n\n    function setup_media(pargs) {\n      // -- order = init, setup_media, init_loaded\n\n\n      //                return;\n\n\n      var margs = {\n\n        'do_not_autoplay': false\n        , 'called_from': 'default'\n      };\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n      // console.log('%c --- #setup_media()', 'background-color: #eaeaea;', cthis.attr('data-source'), o.cue,selfClass.ajax_view_submitted, margs, loaded, 'cthis - ', cthis, 'o.preload_method -'  , o.preload_method, 'loaded - ',loaded);\n\n\n      // -- these types should not exist\n      if (selfClass.audioType == 'icecast' || selfClass.audioType == 'shoutcast') {\n        selfClass.audioType = 'selfHosted';\n      }\n\n      if (o.cue == 'off') {\n        //console.log(selfClass.ajax_view_submitted);\n        if (selfClass.ajax_view_submitted == 'auto') {\n\n\n          // -- why is view submitted ?\n          selfClass.increment_views = 1;\n\n          // console.log(o.settings_extrahtml);\n          if (String(o.settings_extrahtml).indexOf('{{get_plays}}') > -1) {\n            selfClass.ajax_view_submitted = 'on'\n          } else {\n            selfClass.ajax_view_submitted = 'off';\n          }\n          ;\n        }\n      }\n\n\n      //console.log(type, o.type, loaded);\n\n      if (selfClass.playerIsLoaded == true) {\n        return;\n      }\n\n\n      if (cthis.attr('data-original-type') == 'youtube') {\n        return;\n      }\n\n      // console.log(\"SETUP MEDIA\", margs, type);\n\n\n      if (selfClass.audioType == 'youtube') {\n\n        load_yt_api();\n\n\n        if (String(cthis.attr('data-source')).indexOf('youtube.com/watch')) {\n\n          var dataSrc = cthis.attr('data-source');\n          var auxa = String(dataSrc).split('youtube.com/watch?v=');\n//                            console.log(auxa);\n          if (auxa[1]) {\n\n            dataSrc = auxa[1];\n            if (auxa[1].indexOf('&') > -1) {\n              var auxb = String(auxa[1]).split('&');\n              dataSrc = auxb[0];\n            }\n\n            cthis.attr('data-source', dataSrc);\n          }\n        }\n      }\n\n\n      if (selfClass.audioType == 'youtube') {\n        if (o.settings_exclude_from_list != 'on' && dzsap_list && dzsap_list.indexOf(cthis) == -1) {\n          if (dzsap_list) {\n\n            if (cthis.attr('data-do-not-include-in-list') != 'on') {\n              dzsap_list.push(cthis);\n            }\n          }\n        }\n        dzsap_yt_list.push(cthis);\n\n\n        // -- clear on change media\n        if (margs.called_from == 'change_media') {\n          yt_inited = false;\n          if (selfClass.$mediaNode_ && selfClass.$mediaNode_.destroy) {\n\n            selfClass.$mediaNode_.destroy();\n            console.log(\"DESTROYED LAST PLAYERS\");\n          }\n          selfClass.$theMedia.children().remove();\n        }\n\n\n        selfClass.$theMedia.append('<div id=\"' + yt_curr_id + '\"></div>');\n        cthis.get(0).fn_yt_ready = youtube_checkReady;\n\n        if (window.YT) {\n          youtube_checkReady(yt_curr_id);\n        }\n\n\n        cthis.addClass('media-setuped');\n        cthis.addClass('meta-loaded');\n\n        if (selfClass._sourcePlayer) {\n          selfClass._sourcePlayer.addClass('meta-loaded');\n        }\n      }\n\n\n      var str_open_audio_tag = '';\n      var aux_source = '';\n      var str_close_audio_tag = '';\n\n      if (dzsapHelpers.is_ios()) {\n        o.preload_method = 'metadata';\n      }\n\n\n      if (selfClass.audioType == 'selfHosted' || selfClass.audioType == 'soundcloud') {\n        str_open_audio_tag += '<audio';\n        str_open_audio_tag += ' preload=\"' + o.preload_method + '\"';\n        if (o.skinwave_enableSpectrum == 'on') {\n          str_open_audio_tag += ' crossOrigin=\"anonymous\"';\n          // str_open_audio_tag += ' src=\"'+cthis.attr('data-source')+'\"';\n        }\n\n        if (dzsapHelpers.is_ios()) {\n          if (margs.called_from == 'change_media') {\n            str_open_audio_tag += ' autoplay';\n          }\n        }\n\n        str_open_audio_tag += '>';\n        aux_source = '';\n\n        // console.log('cthis.attr(\"data-source\")', cthis.attr('data-source'));\n        if (selfClass.data_source) {\n\n          if (!selfClass.data_source && type_normal_stream_type != 'icecast') {\n            selfClass.data_source = cthis.attr('data-source');\n          }\n\n          // console.log('selfClass.data_source'+' - '+selfClass.data_source)\n          if (selfClass.data_source != 'fake') {\n            aux_source += '<source src=\"' + selfClass.data_source + '\" type=\"audio/mpeg\">';\n            if (cthis.attr('data-sourceogg') != undefined) {\n              aux_source += '<source src=\"' + cthis.attr('data-sourceogg') + '\" type=\"audio/ogg\">';\n            }\n          } else {\n            cthis.addClass('meta-loaded meta-fake');\n          }\n        }\n        str_close_audio_tag += '</audio>';\n\n\n        //console.log(str_open_audio_tag, selfClass.$theMedia);\n\n        str_audio_element = str_open_audio_tag + aux_source + str_close_audio_tag;\n\n        // console.log(' .final_aux - ', str_audio_element, selfClass.$theMedia);\n\n\n        // -- change media\n        if (margs.called_from == 'change_media') {\n          if (selfClass.$watermarkMedia_ && selfClass.$watermarkMedia_.pause) {\n            selfClass.$watermarkMedia_.pause();\n          }\n          selfClass.$theMedia.find('.the-watermark').remove();\n          selfClass.$watermarkMedia_ = null;\n          if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n\n            // -- we append only the source to mobile devices as we need the thing to autoplay without user action\n\n            if (selfClass.$mediaNode_) {\n              selfClass.$theMedia.children().remove();\n              $(selfClass.$mediaNode_).append(aux_source);\n\n              selfClass.$mediaNode_.addEventListener('loadedmetadata', function (e) {\n\n                cthis.addClass('meta-loaded');\n                cthis.removeClass('meta-fake');\n                if (selfClass._sourcePlayer) {\n                  selfClass._sourcePlayer.addClass('meta-loaded');\n                }\n              }, true);\n\n              if (selfClass.$mediaNode_.load) {\n\n                selfClass.$mediaNode_.load();\n              }\n            }\n\n          } else {\n            // -- normal desktop\n\n            // console.log('%c .str_audio_element - ', 'background-color: #dada20;',str_audio_element);\n            selfClass.$theMedia.append(str_audio_element);\n            selfClass.$mediaNode_ = (selfClass.$theMedia.children('audio').get(0));\n          }\n        } else {\n\n          selfClass.$theMedia.children().remove();\n          selfClass.$theMedia.append(str_audio_element);\n          selfClass.$mediaNode_ = (selfClass.$theMedia.children('audio').get(0));\n          // console.log(\"selfClass.$theMedia.html() - \",selfClass.$theMedia.html());\n\n\n          if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n            if (margs.called_from == 'retrieve_soundcloud_url') {\n              setTimeout(function () {\n                pause_media();\n              }, 500);\n            }\n          }\n        }\n\n        if (cthis.attr('data-soft-watermark')) {\n          //type=\"audio/wav\"\n\n          //console.log('add watermark');\n          selfClass.$theMedia.append('<audio class=\"the-watermark\" preload=\"metadata\" loop><source src=\"' + cthis.attr('data-soft-watermark') + '\" /></audio>');\n          selfClass.$watermarkMedia_ = selfClass.$theMedia.find('.the-watermark').get(0);\n\n          if (selfClass.$watermarkMedia_.volume) {\n            selfClass.$watermarkMedia_.volume = defaultVolume * o.watermark_volume;\n          }\n          //console.log(selfClass.$watermarkMedia_);\n        }\n\n        // console.log(margs);\n\n\n        //return;\n        //selfClass.$theMedia.children('audio').get(0).autoplay = false;\n\n\n        // console.log('cthis.attr(\\'data-source\\') - ',cthis.attr('data-source'));\n        if (selfClass.$mediaNode_ && selfClass.$mediaNode_.addEventListener && cthis.attr('data-source') != 'fake') {\n\n          func_audio_error = function (e) {\n            console.log('errored out', this, this.audioElement, this.duration, e, e.target.error);\n            var noSourcesLoaded = (this.networkState === HTMLMediaElement.NETWORK_NO_SOURCE);\n            if (noSourcesLoaded && dzsapHelpers.dzsap_is_mobile() == false) {\n              if (cthis.hasClass('errored-out') == false) {\n                console.log(\"%c could not load audio source - \", 'color:#ff2222;', cthis.attr('data-source'));\n\n                if (attempt_reload < 5) {\n                  setTimeout(function (earg) {\n\n                    // console.log(\"ERROR !!!\", selfClass.$mediaNode_, selfClass.$mediaNode_.src, cthis.attr('data-source'), earg);\n                    // console.log(earg.target.error)\n\n                    if (selfClass.$mediaNode_) {\n\n                      selfClass.$mediaNode_.src = '';\n                    }\n                    // selfClass.$mediaNode_.load();\n\n\n                    setTimeout(function () {\n\n                      // console.log(selfClass.$mediaNode_, selfClass.$mediaNode_.src, cthis.attr('data-source'));\n\n                      if (selfClass.$mediaNode_) {\n                        selfClass.$mediaNode_.src = cthis.attr('data-source');\n                        selfClass.$mediaNode_.load();\n                      }\n                    }, 1000)\n\n\n                  }, 1000, e)\n                  attempt_reload++;\n                } else {\n\n\n                  if (o.notice_no_media == 'on') {\n\n                    //&& e.target && e.target.error && (e.target.error.code==1 || e.target.error.code==2|| e.target.error.code==3|| e.target.error.code==5)\n\n\n                    cthis.addClass('errored-out');\n\n                    var txt = 'error - file does not exist...';\n                    if (e.target.error) {\n                      txt = e.target.error.message;\n                    }\n\n\n                    cthis.append('<div class=\"feedback-text\">' + txt + ' </div>');\n                  }\n                }\n              }\n            }\n\n\n          }\n          selfClass.$mediaNode_.addEventListener('error', func_audio_error, true);\n          selfClass.$mediaNode_.addEventListener('loadedmetadata', function (e) {\n            // console.log('loadedmetadata', this, this.audioElement, this.duration, cthis);\n            cthis.addClass('meta-loaded');\n            cthis.removeClass('meta-fake');\n\n            if (selfClass._sourcePlayer) {\n              selfClass._sourcePlayer.addClass('meta-loaded');\n              selfClass._sourcePlayer.removeClass('meta-fake');\n            }\n            // console.log('add metaloaded here');\n\n\n            // console.log('margs.called_from - ', margs.called_from, cthis);\n            if (margs.called_from == 'change_media') {\n              if (cthis.hasClass('init-loaded') == false) {\n                init_loaded({\n                  'call_from': 'force_reload_change_media'\n                })\n              }\n\n\n            }\n            if (margs.called_from == 'change_media' || selfClass._sourcePlayer) {\n              if (volume_lastVolume) {\n                setTimeout(() => {\n\n                  volume_setVolume(volume_lastVolume, {\n                    call_from: \"change_media\"\n                  });\n                }, 50);\n              }\n            }\n\n\n          }, true);\n        }\n\n\n        //console.log(cthis,type);\n        if (selfClass.audioType != 'fake') {\n\n          //return false;\n        }\n\n        //alert(selfClass.$mediaNode_);\n      }\n\n      // console.log(\"MEDIA SETUPED\",selfClass.$conPlayPause);\n      cthis.addClass('media-setuped');\n      //selfClass.$conPlayPause.off('click');\n\n\n      if (margs.called_from == 'change_media') {\n        return false;\n      }\n\n      if (selfClass.audioType != 'youtube') {\n        if (cthis.attr('data-source') == 'fake') {\n          if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n            init_loaded(margs);\n          }\n        } else {\n          if (dzsapHelpers.is_ios()) {\n\n            setTimeout(function () {\n              init_loaded(margs);\n            }, 1000);\n\n\n          } else {\n\n            // -- check_ready() will fire init_loaded()\n            inter_checkReady = setInterval(function () {\n              check_ready(margs);\n            }, 50);\n            //= setInterval(check_ready, 50);\n          }\n\n        }\n\n\n        if (o.preload_method == 'none') {\n\n          // console.log(window.dzsap_player_index);\n          setTimeout(function () {\n            if (selfClass.$mediaNode_) {\n\n              $(selfClass.$mediaNode_).attr('preload', 'metadata');\n            }\n          }, (Number(window.dzsap_player_index) + 1 * 18000));\n        }\n\n\n        if (o.design_skin == 'skin-customcontrols' || o.design_skin == 'skin-customhtml') {\n          cthis.find('.custom-play-btn,.custom-pause-btn').off('click');\n          cthis.find('.custom-play-btn,.custom-pause-btn').on('click', click_playpause);\n        }\n\n        if (o.failsafe_repair_media_element) {\n          setTimeout(function () {\n\n            if (selfClass.$theMedia.children().eq(0).get(0) && selfClass.$theMedia.children().eq(0).get(0).nodeName == \"AUDIO\") {\n              //console.log('ceva');\n              return false;\n            }\n            selfClass.$theMedia.html('');\n            selfClass.$theMedia.append(str_audio_element);\n\n            var aux_wasplaying = selfClass.player_playing;\n\n            pause_media();\n            selfClass.$mediaNode_ = (selfClass.$theMedia.children('audio').get(0));\n\n\n            if (aux_wasplaying) {\n              aux_wasplaying = false;\n              setTimeout(function () {\n\n                play_media({\n                  'called_from': 'aux_was_playing'\n                });\n              }, 20);\n            }\n          }, o.failsafe_repair_media_element);\n\n          o.failsafe_repair_media_element = '';\n\n        }\n      }\n\n      if (o.design_skin == 'skin-wave') {\n        if (o.skinwave_enableSpectrum == 'on') {\n          dzsapHelpers.player_initSpectrumOnUserAction(selfClass);\n        }\n      }\n\n\n      // dzsapHelpers.is_ios() ||\n\n\n      setuped_media = true;\n\n\n    }\n\n    function destroy_cmedia() {\n      // -- destroy cmedia\n      if (selfClass.$mediaNode_) {\n\n        selfClass.$mediaNode_.removeEventListener('error', func_audio_error, true);\n      }\n      $(selfClass.$mediaNode_).remove();\n      selfClass.$mediaNode_ = null;\n      setuped_media = false;\n      selfClass.playerIsLoaded = false;\n    }\n\n    function destroy_media() {\n      //console.log(\"destroy_media()\", cthis)\n      pause_media();\n\n\n      if (selfClass.$mediaNode_) {\n\n        //console.log(selfClass.$mediaNode_, selfClass.$mediaNode_.src);\n        if (selfClass.$mediaNode_.children) {\n\n          //selfClass.$mediaNode_.children().remove();\n        }\n\n        //console.log(selfClass.$mediaNode_.innerHTML);\n        if (o.type == 'audio') {\n          selfClass.$mediaNode_.innerHTML = '';\n          selfClass.$mediaNode_.load();\n        }\n        //console.log(selfClass.$mediaNode_.innerHTML);\n\n        //selfClass.$mediaNode_.remove();\n      }\n\n      if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n      } else {\n        if (selfClass.$theMedia) {\n\n          selfClass.$theMedia.children().remove();\n          selfClass.playerIsLoaded = false;\n        }\n      }\n\n      destroy_cmedia();\n\n    }\n\n    function setup_listeners() {\n\n\n      if (setuped_listeners) {\n        return false;\n      }\n      // console.log('setup_listeners()');\n\n      setuped_listeners = true;\n\n\n      // -- adding scrubbar listeners\n      selfClass._scrubbar.unbind('mousemove');\n      selfClass._scrubbar.unbind('mouseleave');\n      selfClass._scrubbar.unbind('click');\n      selfClass._scrubbar.bind('mousemove', handleMouseOnScrubbar);\n      selfClass._scrubbar.bind('mouseleave', handleMouseOnScrubbar);\n      selfClass._scrubbar.bind('click', handleMouseOnScrubbar);\n\n      // cthis.on('');\n\n\n      selfClass.$controlsVolume.on('click', '.volumeicon', volume_handleClickMuteIcon);\n\n      selfClass.$controlsVolume.bind('mousemove', volume_handleMouse);\n      selfClass.$controlsVolume.bind('mousedown', volume_handleMouse);\n\n\n      // $(document).undelegate(window, 'mouseup', mouse_volumebar);\n      $(document).on('mouseup', window, volume_handleMouse);\n\n      if (o.design_skin == 'skin-silver') {\n        cthis.on('click', '.volume-holder', volume_handleMouse);\n      }\n\n      cthis.find('.playbtn').unbind('click');\n\n\n      //                console.log('setup_listeners()');\n\n      setTimeout(handleResize, 300);\n      // setTimeout(handleResize,1000);\n      setTimeout(handleResize, 2000);\n\n      if (o.settings_trigger_resize > 0) {\n        inter_trigger_resize = setInterval(handleResize, o.settings_trigger_resize);\n      }\n\n\n      cthis.addClass('listeners-setuped');\n\n\n      return false;\n\n      //                console.log('ceva');\n    }\n\n    function click_like() {\n      // console.log('zoomsounds - click_like()');\n      var _t = $(this);\n      if (cthis.has(_t).length == 0) {\n        return;\n      }\n\n      if (_t.hasClass('active')) {\n        (dzsapAjax.ajax_retract_like.bind(selfClass))();\n      } else {\n        (dzsapAjax.ajax_submit_like.bind(selfClass))();\n      }\n    }\n\n\n    function get_last_vol() {\n      return volume_lastVolume;\n    }\n\n    function init_loaded(pargs) {\n\n      if (cthis.attr('id') == 'apminimal') {\n      }\n      // console.log('init_loaded() - ', pargs, cthis, cthis.hasClass('loaded'));\n      if (cthis.hasClass('dzsap-loaded')) {\n        return;\n      }\n\n      var margs = {\n\n        'do_not_autoplay': false\n        , 'call_from': 'init'\n      };\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log('[dzsap] [init] init_loaded()',margs);\n\n      setTimeout(function () {\n        safe_to_change_track = true;\n      }, 5000);\n\n\n      if (typeof (selfClass.$mediaNode_) != \"undefined\" && selfClass.$mediaNode_) {\n        if (selfClass.$mediaNode_.nodeName == 'AUDIO') {\n          //console.log(selfClass.$mediaNode_);\n          selfClass.$mediaNode_.addEventListener('ended', handle_end);\n        }\n      }\n\n\n      //console.log(\"CLEAR THE TIMEOUT HERE\")\n      clearInterval(inter_checkReady);\n      clearTimeout(inter_checkReady);\n      setup_listeners();\n      //console.log('setuped_listeners', cthis.hasClass('dzsap-loaded'), cthis)\n\n\n      setTimeout(function () {\n\n        //console.log(selfClass.$currTime, )\n        if (selfClass.$currTime && selfClass.$currTime.outerWidth() > 0) {\n          currTime_outerWidth = selfClass.$currTime.outerWidth();\n        }\n      }, 1000);\n\n\n      // -- this comes from cue off, no pcm data\n\n\n      dzsapWaveFunctions.scrubModeWave__checkIfWeShouldTryToGetPcm(selfClass, {\n        called_from: 'init_loaded()'\n      });\n\n\n      //console.log('type - ',type);\n      //console.log('initLoaded() - margs - ',margs);\n\n\n      if (selfClass.audioType != 'fake' && margs.call_from != 'force_reload_change_media') {\n        if (o.settings_exclude_from_list != 'on' && dzsap_list && dzsap_list.indexOf(cthis) == -1) {\n          if (selfClass._actualPlayer == null) {\n            dzsap_list.push(cthis);\n          }\n        }\n\n\n        if (o.type_audio_stop_buffer_on_unfocus == 'on') {\n\n\n          cthis.data('type_audio_stop_buffer_on_unfocus', 'on');\n\n          cthis.get(0).api_destroy_for_rebuffer = function () {\n\n            if (o.type == 'audio') {\n              playfrom = selfClass.$mediaNode_.currentTime;\n            }\n            //console.log(playfrom);\n            destroy_media();\n\n            destroyed_for_rebuffer = true;\n          }\n\n        }\n      }\n\n      //console.log(\"CHECK TIME\",cthis);\n\n\n      //console.log(selfClass.ajax_view_submitted);\n\n      if (selfClass.ajax_view_submitted == 'auto') {\n        setTimeout(function () {\n          if (selfClass.ajax_view_submitted == 'auto') {\n            selfClass.ajax_view_submitted = 'off';\n          }\n        }, 1000);\n      }\n\n      //console.log('---- ADDED LOADED BUT FROM WHERE', cthis);\n      selfClass.playerIsLoaded = true;\n\n      if (selfClass.data_source != 'fake') {\n\n        cthis.addClass('dzsap-loaded');\n      }\n\n      //                console.log(playfrom);\n\n      if (o.default_volume == 'default') {\n        defaultVolume = 1;\n      }\n\n      if (isNaN(Number(o.default_volume)) == false) {\n        defaultVolume = Number(o.default_volume);\n      } else {\n        if (o.default_volume == 'last') {\n\n\n          if (localStorage != null && selfClass.the_player_id) {\n\n            //console.log(selfClass.the_player_id);\n\n\n            if (localStorage.getItem('dzsap_last_volume_' + selfClass.the_player_id)) {\n\n              defaultVolume = localStorage.getItem('dzsap_last_volume_' + selfClass.the_player_id);\n            } else {\n\n              defaultVolume = 1;\n            }\n          } else {\n\n            defaultVolume = 1;\n          }\n        }\n      }\n\n      if (o.volume_from_gallery) {\n        defaultVolume = o.volume_from_gallery;\n      }\n\n\n      // console.log(pargs);\n      // console.log('[dzsap] [volume] defaultVolume - ', defaultVolume);\n      volume_setVolume(defaultVolume, {\n        call_from: \"from_init_loaded\"\n      });\n\n\n      if (selfClass.pseudo_sample_time_start) {\n        playfrom = (selfClass.pseudo_sample_time_start);\n      }\n      // console.log('playfrom -> ',playfrom);\n      if (dzsHelpers.isInt(playfrom)) {\n        seek_to(playfrom, {\n          call_from: 'from_playfrom'\n        });\n      }\n\n\n      // TODO: debug\n      // localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] = 10;\n      if (playfrom == 'last') {\n        // -- here we save last position\n        if (typeof Storage != 'undefined') {\n          setTimeout(function () {\n            playfrom_ready = true;\n          })\n\n\n          if (typeof localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] != 'undefined') {\n\n            // console.log(\"LETS SEEK TO lastposition -3 \",localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'])\n            seek_to(localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'], {\n              'call_from': 'last_pos'\n            });\n          }\n        }\n      }\n      //return false ;\n\n      //                console.log(cthis, o.autoplay);\n\n\n      if (margs.do_not_autoplay != true) {\n\n        if (o.autoplay == 'on' && o.cue == 'on') {\n          // console.log('margs.do_not_autoplay - ', margs.do_not_autoplay, margs,o);\n          play_media({\n            'called_from': 'do not autoplay not true ( init_loaded() ) '\n          });\n        }\n        ;\n      }\n\n      if (selfClass.$mediaNode_ && selfClass.$mediaNode_.duration) {\n        cthis.addClass('meta-loaded');\n      }\n\n\n      // -- init loaded()\n\n\n      // if(debug_var2){\n      //\n      //     debug_var2 = false;\n      // }\n\n      // console.log('called check_time() - ',cthis);\n\n      handleTickChange({\n        'fire_only_once': false\n      });\n\n      if (o.autoplay == 'off') {\n        sw_suspend_enter_frame = true;\n      }\n\n      cthis.addClass('init-loaded');\n\n      setTimeout(function () {\n        //console.log(cthis.find('.wave-download'));\n\n        get_times({\n          'call_from': 'set timeout 500'\n        });\n        handleTickChange({\n          'fire_only_once': true\n        });\n\n        cthis.find('.wave-download').bind('click', handle_mouse);\n      }, 500);\n\n      setTimeout(function () {\n        //console.log(cthis.find('.wave-download'));\n\n        get_times({\n          'call_from': 'set timeout 1000'\n        });\n\n        handleTickChange({\n          'fire_only_once': true\n        });\n\n\n      }, 1000);\n\n\n      setTimeout(function () {\n\n        // console.log('selfClass.$mediaNode_.duration - ',selfClass.$mediaNode_.duration)\n      }, 2000);\n\n\n      // console.log('init_loaded - ',o.action_video_contor_60secs);\n      if (inter_60_secs_contor == 0 && o.action_video_contor_60secs) {\n        inter_60_secs_contor = setInterval(count_60secs, 30000);\n      }\n\n\n    }\n\n\n    function count_60secs() {\n\n      // console.log('count it',o.action_video_contor_60secs,cthis.hasClass('is-playing'));\n      if (o.action_video_contor_60secs && cthis.hasClass('is-playing')) {\n        o.action_video_contor_60secs(cthis, '');\n      }\n    }\n\n\n    function handle_mouse(e) {\n      var _t = $(this);\n\n      // console.log('handle_mouse() _t - ',_t);\n\n      if (e.type == 'click') {\n        if (_t.hasClass('wave-download')) {\n          ajax_submit_download();\n        }\n        if (_t.hasClass('prev-btn')) {\n          click_prev_btn();\n        }\n        if (_t.hasClass('next-btn')) {\n          click_next_btn();\n        }\n        if (_t.hasClass('tooltip-indicator--btn-footer-playlist')) {\n\n          _t.parent().find('.dzstooltip').toggleClass('active');\n        }\n        if (_t.hasClass('playlist-menu-item')) {\n\n\n          var ind = _t.parent().children().index(_t);\n\n\n          console.log('ind - ', ind);\n\n          playlist_goto_item(ind, {\n            'call_from': 'handle_mouse'\n          })\n\n\n        }\n        if (_t.hasClass('zoomsounds-btn-go-beginning')) {\n\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_seek_to_0();\n        }\n        if (_t.hasClass('zoomsounds-btn-step-backward')) {\n\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_step_back();\n        }\n        if (_t.hasClass('zoomsounds-btn-step-forward')) {\n\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_step_forward();\n        }\n        if (_t.hasClass('zoomsounds-btn-slow-playback')) {\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_playback_slow();\n        }\n        if (_t.hasClass('zoomsounds-btn-reset')) {\n          var _target = cthis;\n          if (selfClass._actualPlayer) {\n            _target = selfClass._actualPlayer;\n          }\n\n          _target.get(0).api_playback_reset();\n        }\n        if (_t.hasClass('btn-zoomsounds-download')) {\n          ajax_submit_download();\n        }\n        if (_t.hasClass('dzsap-repeat-button')) {\n\n          // console.log(\"REPEAT\");\n          if (selfClass.player_playing) {\n          }\n          seek_to(0, {\n            call_from: \"repeat\"\n          });\n        }\n        if (_t.hasClass('dzsap-loop-button')) {\n\n          if (_t.hasClass('active')) {\n            _t.removeClass('active');\n            loop_active = false;\n          } else {\n\n            _t.addClass('active');\n            loop_active = true;\n\n          }\n          console.log('loop_active - ', loop_active, cthis);\n\n\n        }\n      }\n      if (e.type == 'mousedown') {\n\n        // console.log('mouse down');\n\n        var _con = _t.parent();\n\n        _con.parent().append(_con.clone().addClass('cloner'));\n        var _clone = _con.parent().children('.cloner').eq(0);\n\n        dzsap_playlist_con = _con.parent();\n        dzsap_moving_playlist_item = true;\n\n        dzsap_playlist_item_target = _con;\n        dzsap_playlist_item_moving = _clone;\n        _con.addClass('target-playlist-item');\n\n\n      }\n      if (e.type == 'mouseover') {\n      }\n      if (e.type == 'mouseenter') {\n        // console.log('mouseenter');\n\n        if (o.preview_on_hover == 'on') {\n          seek_to_perc(0);\n\n          play_media({\n            'called_from': 'preview_on_hover'\n          });\n          console.log('mouseover');\n        }\n\n        window.dzsap_mouseover = true;\n      }\n      if (e.type == 'mouseleave') {\n        // console.log('mouseleave');\n\n\n        if (o.preview_on_hover == 'on') {\n          seek_to_perc(0);\n\n          pause_media();\n        }\n        window.dzsap_mouseover = false;\n      }\n    }\n\n    function mouse_starrating(e) {\n      var _t = $(this);\n\n      // console.log('mouse_starrating ' , e.type, _t);\n\n\n      if (cthis.has(_t).length == 0) {\n        return;\n      }\n\n      if (e.type == 'mouseleave') {\n\n\n        var auxnr = Number(cthis.find('.star-rating-con').eq(0).attr('data-initial-rating-index')) * 100;\n\n\n        // console.log('selfClass.starrating_alreadyrated - ',selfClass.starrating_alreadyrated);\n        if (selfClass.starrating_alreadyrated > -1 && selfClass.starrating_alreadyrated > 0) {\n          auxnr = selfClass.starrating_alreadyrated * 100 / 5;\n        }\n\n        cthis.find('.rating-prog').css({\n          'width': auxnr + '%'\n        })\n\n\n      }\n      if (e.type == 'mousemove') {\n        //console.log(_t);\n        var mx = e.pageX - _t.offset().left;\n        var my = e.pageX - _t.offset().left;\n\n        // console.log('Math.round(mx/ (_t.outerWidth()/5)) - ' , Math.round(mx/ (_t.outerWidth()/5)) );\n        // console.log('selfClass.starrating_alreadyrated - ' , selfClass.starrating_alreadyrated );\n\n\n        starrating_index = Math.round(mx / (_t.outerWidth() / 5));\n\n\n        if (starrating_index > 4) {\n          starrating_index = 5;\n        } else {\n          starrating_index = Math.round(starrating_index);\n        }\n\n        if (starrating_index < 1) {\n          starrating_index = 1;\n        }\n\n        //                    console.log(starrating_index, cthis.find('.star-rating-prog-clip'));\n\n        // console.log('starrating_index - ',starrating_index);\n        // console.log('(starrating_index/5 * 100) - ',(starrating_index/5 * 100));\n        cthis.find('.rating-prog').css({\n          'width': (starrating_index / 5 * 100) + '%'\n        })\n\n        selfClass.starrating_alreadyrated = -1;\n\n\n        cthis.find('.star-rating-set-clip').css({\n          'opacity': 0\n        })\n      }\n      if (e.type == 'click') {\n\n\n        if (selfClass.starrating_alreadyrated > -1 && selfClass.starrating_alreadyrated > 0) {\n          return;\n        }\n\n        (dzsapAjax.ajax_submit_rating.bind(selfClass))(starrating_index);\n      }\n\n\n    }\n\n\n    // log if an error occurs\n    function onError(e) {\n      console.log(e);\n    }\n\n    function draw_curr_time() {\n\n      // -- draw current time -- called onEnterFrame when playing\n      // console.log('draw_curr_time() -7');\n\n\n      if (o.design_skin == 'skin-wave') {\n        if (o.skinwave_enableSpectrum == 'on') {\n\n          // -- spectrum ON\n\n\n          //console.log(_scrubBgCanvas.width());\n\n\n          // -- easing\n\n\n          if (selfClass.player_playing) {\n\n          } else {\n            // requestAnimFrame(handleTickChange);\n            return false;\n          }\n\n\n          /*\n                         ctx.imageSmoothingEnabled = false;\n                         ctx.imageSmoothing = false;\n                         ctx.imageSmoothingQuality = \"high\";\n                         ctx.webkitImageSmoothing = false;\n                         */\n\n          var meterNum = canw / (10 + 2); //count of the meters\n\n\n          //console.log(_scrubBgCanvas);\n          if (_scrubBgCanvas) {\n\n            canw = _scrubBgCanvas.width();\n            canh = _scrubBgCanvas.height();\n\n            _scrubBgCanvas.get(0).width = canw;\n            _scrubBgCanvas.get(0).height = canh;\n          }\n\n\n          var drawMeter = function () {\n\n            //console.log(o.type);\n\n            if (o.type == 'soundcloud' || sw_spectrum_fakeit == 'on') {\n\n              selfClass.lastArray = dzsapHelpers.generateFakeArrayForPcm();\n\n            } else {\n\n              if (selfClass.spectrum_analyser) {\n                selfClass.lastArray = new Uint8Array(selfClass.spectrum_analyser.frequencyBinCount);\n                selfClass.spectrum_analyser.getByteFrequencyData(selfClass.lastArray);\n              }\n            }\n\n\n            if (selfClass.lastArray && selfClass.lastArray.length) {\n\n\n              //fix when some sounds end the value still not back to zero\n              var len = selfClass.lastArray.length;\n              for (var i = len - 1; i >= 0; i--) {\n                //selfClass.lastArray[i] = 0;\n\n                if (i < len / 2) {\n\n                  selfClass.lastArray[i] = selfClass.lastArray[i] / 255 * canh;\n                } else {\n\n                  selfClass.lastArray[i] = selfClass.lastArray[len - i] / 255 * canh;\n                }\n              }\n              ;\n\n\n              if (selfClass.last_lastarray) {\n                for (var i3 = 0; i3 < selfClass.last_lastarray.length; i3++) {\n                  begin_viy = selfClass.last_lastarray[i3]; // -- last value\n                  change_viy = selfClass.lastArray[i3] - begin_viy; // -- target value - last value\n                  duration_viy = 3;\n                  selfClass.lastArray[i3] = Math.easeIn(1, begin_viy, change_viy, duration_viy);\n                }\n              }\n              // -- easing END\n\n              dzsapWaveFunctions.draw_canvas(_scrubBgCanvas.get(0), selfClass.lastArray, '' + o.design_wave_color_bg, {\n                'call_from': 'spectrum',\n                selfClass,\n                'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n                'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n              })\n\n\n              if (selfClass.lastArray) {\n                selfClass.last_lastarray = selfClass.lastArray.slice();\n              }\n\n\n            }\n\n          }\n\n          drawMeter();\n\n\n          // -- end spectrum\n        }\n\n        // console.log('selfClass.$currTime - ',selfClass.$currTime, o.skinwave_timer_static);\n\n        if (selfClass.$currTime && selfClass.$currTime.length) {\n          //                        console.log(selfClass.$currTime, selfClass.timeCurrent, time_total, formatTime(selfClass.timeCurrent))\n\n          if (o.skinwave_timer_static != 'on') {\n\n            if (spos < 0) {\n              spos = 0;\n            }\n            spos = parseInt(spos, 10);\n\n\n            if (spos < 2 && cthis.data('promise-to-play-footer-player-from')) {\n              // console.error(\"WE RETURN IT\")\n              return false;\n            }\n\n            // -- move currTime\n            selfClass.$currTime.css({\n              'left': spos\n            });\n\n            // console.log('spos - ',spos);\n            // console.log('sw - ',sw);\n            if (spos > sw - currTime_outerWidth) {\n              //console.log(sw, currTime_outerWidth);\n              selfClass.$currTime.css({\n                'left': sw - currTime_outerWidth\n              })\n            }\n            if (spos > sw - 30 && sw) {\n              selfClass.$totalTime.css({\n                'opacity': 1 - (((spos - (sw - 30)) / 30))\n              });\n            } else {\n              if (selfClass.$totalTime.css('opacity') != '1') {\n                selfClass.$totalTime.css({\n                  'opacity': ''\n                });\n              }\n            }\n            ;\n          }\n          ;\n        }\n      }\n\n\n      if (selfClass.$currTime) {\n        //console.log(selfClass.$currTime, selfClass.timeCurrent, formatTime(selfClass.timeCurrent))\n        //console.log(\"CEVA\");\n\n\n        if (scrub_showing_scrub_time == false) {\n\n          selfClass.$currTime.html(dzsapHelpers.formatTime(time_curr_for_visual));\n        }\n\n        if (time_total_for_visual && time_total_for_visual > -1) {\n          cthis.addClass('time-total-visible');\n\n\n          if (sent_received_time_total == false) {\n\n            if (o.action_received_time_total) {\n              o.action_received_time_total(time_total_for_visual, cthis);\n            }\n            sent_received_time_total = true;\n          }\n        }\n        if (time_total_for_visual != last_time_total) {\n          selfClass.$totalTime.html(dzsapHelpers.formatTime(time_total_for_visual));\n          selfClass.$totalTime.fadeIn('fast');\n        }\n      }\n\n    }\n\n    /**\n     * draw the scrub width\n     * @returns {string|boolean}\n     */\n    function draw_scrub_prog() {\n      // return false;\n\n      if (selfClass.timeTotal == 0) {\n        selfClass.timeTotal = time_total_for_visual;\n      }\n      spos = (selfClass.timeCurrent / selfClass.timeTotal) * sw;\n\n      // console.log('sw - ',sw);\n\n      if (selfClass._actualPlayer) {\n        if (time_curr_for_visual > 0 && time_total_for_visual > 0) {\n          spos = (time_curr_for_visual / time_total_for_visual) * sw;\n        }\n\n      }\n      if (isNaN(spos)) {\n        spos = 0;\n      }\n      if (spos > sw) {\n        spos = sw;\n      }\n\n      if (selfClass.timeCurrent == -1) {\n        spos = 0;\n      }\n\n      if (selfClass.timeTotal == 0 || selfClass.timeTotal == '-1' || isNaN(selfClass.timeTotal)) {\n        spos = 0;\n      }\n\n      // console.log('spos -3 ',spos, 'promise-to-play-footer-player-from -',cthis.data('promise-to-play-footer-player-from'), \"||\", cthis);\n\n      if (spos < 2 && cthis.data('promise-to-play-footer-player-from')) {\n        // console.error(\"WE RETURN IT\")\n        return false;\n      }\n\n      if (selfClass.spectrum_audioContext_buffer == null) {\n        if (selfClass.$$scrubbProg) {\n          selfClass.$$scrubbProg.style.width = parseInt(spos, 10) + 'px';\n        }\n      }\n    }\n\n    function click_prev_btn() {\n\n\n      console.log('click_prev_btn()')\n      if (o.parentgallery && (o.parentgallery.get(0))) {\n        o.parentgallery.get(0).api_goto_prev();\n      } else {\n\n        sync_players_goto_prev();\n      }\n    }\n\n    function click_next_btn() {\n      // console.log('click_next_btn()', dzsap_list, dzsap_list_for_sync_players);\n      if (o.parentgallery && (o.parentgallery.get(0))) {\n        o.parentgallery.get(0).api_goto_next();\n      } else {\n\n        sync_players_goto_next();\n      }\n    }\n\n    function get_times(pargs) {\n\n\n      var margs = {\n        'call_from': 'default'\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log('get_times () margs - ',margs,'type - ',type,o.type);\n      // -- trying to get current time\n      if ((selfClass.audioType == 'selfHosted' || (selfClass.audioType == 'fake' && selfClass._actualPlayer))) {\n        if (o.type != 'shoutcast') {\n\n\n          if (selfClass.$mediaNode_ && isNaN(selfClass.$mediaNode_.duration) == false) {\n            time_total_for_real = selfClass.$mediaNode_.duration;\n          }\n\n          if (0 && selfClass.spectrum_audioContext_buffer && selfClass.spectrum_audioContext_buffer != 'placeholder' && selfClass.spectrum_audioContext_buffer != 'waiting') {\n\n            if (selfClass._actualPlayer == null) {\n              time_curr_for_real = selfClass.spectrum_audioContext.currentTime;\n            }\n\n          } else {\n\n            // -- normal\n            if (selfClass.$mediaNode_) {\n              if (selfClass._actualPlayer == null) {\n                time_curr_for_real = selfClass.$mediaNode_.currentTime;\n              }\n              if (inter_audiobuffer_workaround_id == 0) {\n\n\n              }\n\n            }\n\n          }\n\n\n          if (selfClass._actualPlayer) {\n            selfClass.timeCurrent = time_curr_for_visual;\n          }\n\n\n          if (playfrom == 'last' && playfrom_ready) {\n            if (typeof Storage != 'undefined') {\n              localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] = selfClass.timeCurrent;\n            }\n          }\n\n\n        }\n\n\n      }\n\n\n      // -- setting real times ( if actual player is not there )\n      if (selfClass._actualPlayer === null && time_curr_for_real > -1) {\n        selfClass.timeCurrent = time_curr_for_real;\n        time_curr_for_visual = time_curr_for_real;\n      }\n\n      if (selfClass._actualPlayer === null && time_total_for_real > -1) {\n        selfClass.timeTotal = time_total_for_real;\n        time_total_for_visual = time_total_for_real;\n      }\n    }\n\n\n    function handleTickChange(pargs) {\n\n\n      // -- enter frame\n      // console.log('handleTickChange()', cthis);\n\n      var margs = {\n        'fire_only_once': false\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (destroyed) {\n        console.log(\"DESTROYED\");\n        return false;\n      }\n\n\n      // console.log(sw_suspend_enter_frame);\n      if (margs.fire_only_once == false && sw_suspend_enter_frame) {\n\n        requestAnimFrame(handleTickChange);\n        // console.log(\"SUSPENDED ENTER FRAME HERE\");\n        return false;\n      }\n      // console.log(\"REACHED\");\n\n\n      get_times({\n        'call_from': 'checK_time'\n      });\n\n      if (selfClass.audioType == 'selfHosted') {\n\n      }\n\n\n      if (selfClass.pseudo_sample_time_start) {\n\n        if (time_curr_for_visual < selfClass.pseudo_sample_time_start) {\n          time_curr_for_visual = selfClass.pseudo_sample_time_start;\n        }\n\n\n        if (selfClass.pseudo_sample_time_end) {\n          if (selfClass.timeCurrent > selfClass.pseudo_sample_time_end) {\n\n            var args = {\n              'call_from': 'time_curr>pseudo_sample_time_end'\n            }\n            handle_end(args);\n\n            ended = true;\n\n            clearTimeout(inter_ended);\n            inter_ended = setTimeout(function () {\n\n              ended = false;\n            }, 1000);\n          }\n        }\n      }\n\n\n      if (selfClass._actualPlayer == null) {\n\n        if (selfClass.pseudo_sample_time_start == 0) {\n\n          if (selfClass.sample_time_start > 0) {\n            time_curr_for_visual = selfClass.sample_time_start + time_curr_for_real;\n\n          }\n        }\n      }\n\n\n      if (selfClass.sample_time_total > 0) {\n\n        time_total_for_visual = selfClass.sample_time_total;\n      }\n\n\n      draw_scrub_prog();\n\n\n      // console.log('cthis -5 ', cthis, selfClass._sourcePlayer);\n      if (selfClass._sourcePlayer) {\n        //console.log(cthis, selfClass._sourcePlayer);\n\n        if (selfClass._sourcePlayer.get(0)) {\n          if (selfClass._sourcePlayer.get(0).api_get_time_curr) {\n            // console.log('getting time total', selfClass._sourcePlayer.get(0).api_get_time_total());\n            if (isNaN(selfClass._sourcePlayer.get(0).api_get_time_total()) || selfClass._sourcePlayer.get(0).api_get_time_total() == '' || selfClass._sourcePlayer.get(0).api_get_time_total() < 1) {\n              // console.log('setting time total');\n\n              // console.log(\"SET TIME CUR - \",time_curr);\n              // console.error('SET time_total - ',time_total_for_visual);\n              selfClass._sourcePlayer.get(0).api_set_time_total(time_total_for_visual);\n            }\n\n            // if(debug_var){\n            //     console.error(\"SETTING TIME CURR\",time_curr, selfClass._sourcePlayer);\n            //      debug_var = false;\n            // }\n\n            selfClass._sourcePlayer.get(0).api_set_time_curr(selfClass.timeCurrent);\n          }\n        }\n\n\n        if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_seek_to_visual) {\n          var temp_time_curr = selfClass.timeCurrent;\n          // TODO: to be continued\n          if (selfClass.pseudo_sample_time_start == 0) {\n\n            if (selfClass.sample_time_start) {\n              temp_time_curr -= selfClass.sample_time_start;\n            }\n          }\n\n\n          selfClass._sourcePlayer.get(0).api_seek_to_visual(temp_time_curr / selfClass.timeTotal);\n        } else {\n          console.log('warning .. no seek to visual');\n        }\n\n      }\n\n\n      // if(debug_var){\n\n      //\n      //     debug_var = false;\n      // }\n\n\n      // -- skin minimal\n      if (o.design_skin == 'skin-minimal') {\n\n\n        if (!dzsap_can_canvas) {\n          selfClass.$conPlayPause.addClass('canvas-fallback');\n        } else {\n\n\n          if (selfClass.player_playing || selfClass.isCanvasFirstDrawn === false) {\n\n            if (selfClass.skin_minimal_canvasplay) {\n\n              var ctx_minimal = selfClass.skin_minimal_canvasplay.getContext('2d');\n              //console.log(ctx);\n\n\n              var ctx_w = selfClass.skin_minimal_canvasplay.width;\n              var ctx_h = selfClass.skin_minimal_canvasplay.height;\n\n              // console.log(ctx_w);\n              var pw = ctx_w / 100;\n              var ph = ctx_h / 100;\n\n              if (selfClass._actualPlayer) {\n\n              }\n              spos = Math.PI * 2 * (selfClass.timeCurrent / selfClass.timeTotal);\n\n              if (isNaN(spos)) {\n                spos = 0;\n              }\n              if (spos > Math.PI * 2) {\n                spos = Math.PI * 2;\n              }\n\n              ctx_minimal.clearRect(0, 0, ctx_w, ctx_h);\n              //console.log(ctx_w, ctx_h);\n\n\n              // -- use design_wave_color_progress for drawing skin-minimal circle\n\n              // console.log('skin-minimal use o.design_wave_color_progress - ',o.design_wave_color_progress);\n              // var aux1 = parseInt(o.design_wave_color_progress, 16);\n              //\n              //\n              // var color1 = aux1;\n              // var color2 = aux1 + 12000;\n\n\n              // console.log(aux1,color1,color2, color1.toString(16), color2.toString(16));\n              //console.log(aux1.toString(16));\n\n\n              ctx_minimal.beginPath();\n              ctx_minimal.arc((50 * pw), (50 * ph), (40 * pw), 0, Math.PI * 2, false);\n              ctx_minimal.fillStyle = \"rgba(0,0,0,0.1)\";\n              ctx_minimal.fill();\n\n\n              // console.log(spos);\n              ctx_minimal.beginPath();\n              ctx_minimal.arc((50 * pw), (50 * ph), (34 * pw), 0, spos, false);\n              //ctx_minimal.fillStyle = \"rgba(0,0,0,0.3)\";\n              ctx_minimal.lineWidth = (10 * pw);\n              ctx_minimal.strokeStyle = 'rgba(0,0,0,0.3)';\n              ctx_minimal.stroke();\n\n\n              selfClass.isCanvasFirstDrawn = true;\n            }\n\n\n          } else {\n\n            if (margs.fire_only_once != true) {\n              requestAnimFrame(handleTickChange);\n\n            }\n            return false;\n          }\n        }\n        //console.log('ceva');\n      }\n\n\n      //                console.log(o.design_skin);\n\n      // -- enter_frame\n      // console.log(\"REACHED2\");\n      draw_curr_time();\n\n      //                console.log(selfClass.timeCurrent, selfClass.timeTotal);\n      if (safe_to_change_track && selfClass.timeTotal > 1 && selfClass.timeCurrent >= selfClass.timeTotal - 0.07) {\n        var args = {\n          'call_from': 'selfClass.timeTotal > 0 && selfClass.timeCurrent >= selfClass.timeTotal - 0.07 ... '\n        }\n\n        // if(debug_var2){\n        //\n        //     console.log('selfClass.timeCurrent - ',selfClass.timeCurrent, cthis);\n        //     console.log('selfClass.timeTotal - ',selfClass.timeTotal);\n        //     debug_var2 = false;\n        // }\n\n        // console.log('%c selfClass.timeTotal > 0 && selfClass.timeCurrent >= selfClass.timeTotal - 0.07 ... ', 'background-color: #dada00;', selfClass.timeTotal, selfClass.timeCurrent);\n\n        if (selfClass._actualPlayer) {\n\n        } else {\n\n          handle_end(args);\n\n          ended = true;\n\n\n          clearTimeout(inter_ended);\n          inter_ended = setTimeout(function () {\n\n            ended = false;\n          }, 1000);\n        }\n      }\n\n\n      // -- debug handleTickChange\n      // inter_check = setTimeout(handleTickChange, 2000);\n      if (margs.fire_only_once != true) {\n        requestAnimFrame(handleTickChange);\n\n      }\n\n\n      last_time_total = time_total_for_visual;\n\n\n      if (selfClass.spectrum_audioContext) {\n        if (selfClass.$totalTime) {\n          selfClass.$totalTime.html(dzsapHelpers.formatTime(time_total_for_visual));\n        }\n      }\n\n    }\n\n    function click_playpause(e) {\n      //console.log('click_playpause', 'selfClass.player_playing - ',selfClass.player_playing);\n\n      if (cthis.hasClass('prevent-bubble')) {\n\n        if (e && e.stopPropagation) {\n          e.preventDefault();\n          e.stopPropagation();\n          ;\n          // return false;\n        }\n\n      }\n\n      var _t = $(this);\n\n      var sw_cancel_toggle = false;\n      //console.log(_t);\n\n      // console.log('time_total_for_visual -7 ',time_total_for_visual);\n\n      if (cthis.hasClass('listeners-setuped')) {\n\n      } else {\n\n        $(selfClass.$mediaNode_).attr('preload', 'auto');\n\n        setup_listeners();\n        init_loaded();\n\n        // console.log('time_total_for_visual -4 ',time_total_for_visual);\n\n\n        var it3 = setInterval(function () {\n\n          // console.log(selfClass.$mediaNode_, selfClass.$mediaNode_.duration);\n          if (selfClass.$mediaNode_ && selfClass.$mediaNode_.duration && isNaN(selfClass.$mediaNode_.duration) == false) {\n\n            real_time_total = selfClass.$mediaNode_.duration;\n            selfClass.timeTotal = real_time_total;\n\n\n            cthis.addClass('meta-loaded');\n            if (selfClass.$totalTime) {\n              // console.error(\"ENTER HERE 9057\");\n              selfClass.$totalTime.html(dzsapHelpers.formatTime(time_total_for_visual));\n            }\n\n            clearInterval(it3);\n          }\n        }, 1000);\n      }\n\n\n      if (o.design_skin == 'skin-minimal') {\n\n        var center_x = _t.offset().left + skin_minimal_button_size / 2;\n        var center_y = _t.offset().top + skin_minimal_button_size / 2;\n        var mouse_x = e.pageX;\n        var mouse_y = e.pageY;\n        var pzero_x = center_x + skin_minimal_button_size / 2;\n        var pzero_y = center_y;\n\n        //var angle = Math.acos(mouse_x - center_x);\n\n        //console.log(pzero_x, pzero_y, mouse_x, mouse_y, center_x, center_y, mouse_x - center_x, angle);\n\n        //A = center, B = mousex, C=pointzero\n\n        var AB = Math.sqrt(Math.pow((mouse_x - center_x), 2) + Math.pow((mouse_y - center_y), 2));\n        var AC = Math.sqrt(Math.pow((pzero_x - center_x), 2) + Math.pow((pzero_y - center_y), 2));\n        var BC = Math.sqrt(Math.pow((pzero_x - mouse_x), 2) + Math.pow((pzero_y - mouse_y), 2));\n\n\n        var angle = Math.acos((AB + AC + BC) / (2 * AC * AB));\n        var angle2 = Math.acos((mouse_x - center_x) / (skin_minimal_button_size / 2));\n\n        //console.log(AB, AC, BC, angle, (mouse_x - center_x), angle2, Math.PI);\n\n        var perc = -(mouse_x - center_x - (skin_minimal_button_size / 2)) * 0.005; //angle2 / Math.PI / 2;\n\n\n        if (mouse_y < center_y) {\n          perc = 0.5 + (0.5 - perc)\n        }\n\n        if (Math.abs(mouse_y - center_y) > 20 || Math.abs(mouse_x - center_x) > 20) {\n\n\n          // console.log('perc - ',perc);\n          seek_to_perc(perc, {\n            call_from: \"skin_minimal_scrub\"\n          })\n          sw_cancel_toggle = true;\n\n          handleTickChange({\n            'fire_only_once': true\n          });\n        }\n\n\n      }\n\n\n      //unghi = acos (x - centruX) = asin(centruY - y)\n\n\n      if (sw_cancel_toggle == false) {\n\n        //console.log(\"selfClass.player_playing -> \",selfClass.player_playing);\n        if (selfClass.player_playing == false) {\n          play_media({\n            'called_from': 'click_playpause'\n          });\n        } else {\n          pause_media();\n        }\n      }\n\n\n      return false;\n    }\n\n\n    function sync_players_goto_prev() {\n      // console.log('sync_players_goto_prev ', dzsap_list_for_sync_players);\n\n\n      if (selfClass._actualPlayer) {\n        selfClass._actualPlayer.get(0).api_sync_players_goto_prev();\n\n        return false;\n      }\n\n\n      if (_playlistTooltip && _playlistTooltip.children('.dzstooltip--inner').length) {\n\n\n        var tempNr = selfClass.playlist_inner_currNr - 1;\n\n        if (tempNr >= 0) {\n\n          playlist_goto_item(tempNr, {\n            'call_from': 'api_sync_players_prev'\n          });\n        } else {\n        }\n\n\n      } else {\n\n        if (dzsap_list_for_sync_players.length > 0) {\n          for (var i24 in dzsap_list_for_sync_players) {\n\n\n            var _ctarget = cthis;\n\n            if (selfClass._sourcePlayer) {\n              _ctarget = selfClass._sourcePlayer;\n            }\n\n\n            if (dzsap_list_for_sync_players[i24].get(0) == _ctarget.get(0)) {\n              // console.log('THIS IS ',i24,dzsap_list_for_sync_players.length-1, dzsap_list_for_sync_players);\n\n              i24 = parseInt(i24, 10);\n              if (i24 > 0) {\n                var $currentSyncPlayer_ = dzsap_list_for_sync_players[i24 - 1].get(0);\n                // console.log('THIS IS _c ',_c);\n\n                // console.log(_c_, i24, dzsap_list_for_sync_players[i24+1]);\n                if ($currentSyncPlayer_ && $currentSyncPlayer_.api_play_media) {\n                  setTimeout(function () {\n                    $currentSyncPlayer_.api_play_media({\n                      'called_from': 'api_sync_players_prev'\n                    });\n                  }, 200);\n\n                }\n              }\n            }\n          }\n        }\n      }\n\n\n    }\n\n\n    function sync_players_goto_next() {\n\n\n      // console.log('sync_players_goto_next() - ', cthis, 'selfClass._actualPlayer - ',selfClass._actualPlayer);\n\n\n      if (selfClass._actualPlayer) {\n        selfClass._actualPlayer.get(0).api_sync_players_goto_next();\n\n        return false;\n      }\n\n      if (_playlistTooltip && _playlistTooltip.find('.playlist-menu-item').length) {\n\n\n        var tempNr = selfClass.playlist_inner_currNr + 1;\n\n\n        if (tempNr - 1 > _playlistTooltip.find('.playlist-menu-item').length) {\n\n        } else {\n          playlist_goto_item(tempNr, {\n            'call_from': 'api_sync_players_prev'\n          });\n        }\n\n\n      } else {\n\n        var _ctarget = null;\n\n        // console.log('dzsap_list_for_sync_players -4 ',dzsap_list_for_sync_players);\n        if (dzsap_list_for_sync_players.length > 0) {\n          for (var i24 in dzsap_list_for_sync_players) {\n\n\n            _ctarget = cthis;\n\n            if (selfClass._sourcePlayer) {\n              _ctarget = selfClass._sourcePlayer;\n            }\n\n\n            if (dzsap_list_for_sync_players[i24].get(0) == _ctarget.get(0)) {\n              // console.log('THIS IS ',i24,dzsap_list_for_sync_players.length-1, dzsap_list_for_sync_players);\n\n              i24 = parseInt(i24, 10);\n\n              var tempNr = i24 + 1;\n\n              if (tempNr > dzsap_list_for_sync_players.length - 1) {\n\n                // tempNr = 0;\n              }\n\n\n              if (tempNr < dzsap_list_for_sync_players.length) {\n                var _c_ = dzsap_list_for_sync_players[tempNr].get(0);\n\n                if (_c_) {\n\n                  // console.log('THIS IS _c ',_c);\n\n                  // console.log(_c_, i24, dzsap_list_for_sync_players[i24+1]);\n                  if (_c_ && _c_.api_play_media) {\n                    setTimeout(function () {\n                      _c_.api_play_media({\n                        'called_from': 'api_sync_players_prev'\n                      });\n                    }, 200);\n\n                  }\n                }\n              }\n\n            }\n          }\n        }\n      }\n\n    }\n\n    function handle_end(pargs) {\n\n\n      var margs = {\n        'called_from': 'default'\n      }\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n      //console.log('end');\n      if (ended) {\n        return false;\n      }\n\n      console.log('handle_end()', ConstantsDzsAp.DEBUG_STYLE_PLAY_FUNCTIONS, margs);\n\n\n      // selfClass.timeCurrent  = 0;\n      ended = true;\n\n      inter_ended = setTimeout(function () {\n\n        ended = false;\n      }, 1000);\n\n\n      if (selfClass._actualPlayer && margs.call_from != 'fake_player') {\n        // -- lets leave fake player handle handle_end\n        return false;\n      }\n\n\n      seek_to(0, {\n        'call_from': 'handle_end'\n      });\n\n      if (o.loop == 'on' || loop_active) {\n        play_media({\n          'called_from': 'track_end'\n        });\n        return false;\n      } else {\n        pause_media();\n      }\n\n      if (o.parentgallery && typeof (o.parentgallery) != 'undefined') {\n        //console.log(o.parentgallery);\n\n\n        var args = {\n          'call_from': 'player_handle_end'\n        }\n        o.parentgallery.get(0).api_gallery_handle_end();\n      }\n\n\n      setTimeout(function () {\n\n\n        if (cthis.hasClass('is-single-player')) {\n\n          // -- called on handle end\n          sync_players_goto_next();\n        }\n\n      }, 100);\n\n      setTimeout(function () {\n\n        if (selfClass._sourcePlayer && (selfClass._sourcePlayer.hasClass('is-single-player') || selfClass._sourcePlayer.hasClass('feeded-whole-playlist'))) {\n          //action_audio_end(selfClass._sourcePlayer,args);\n          selfClass._sourcePlayer.get(0).api_handle_end({\n            'call_from': 'handle_end() fake_player'\n          });\n          return false;\n          //args.child_player = selfClass._sourcePlayer;\n        }\n\n        if (action_audio_end) {\n\n\n          var args = {};\n\n\n          // console.log(cthis, selfClass._sourcePlayer)\n\n\n          action_audio_end(cthis, args);\n        }\n      }, 200);\n\n    }\n\n\n    function handleResize(e, pargs) {\n\n\n      var margs = {\n\n        'call_from': 'default'\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (cthis) {\n\n      }\n\n\n      //cthis.attr('data-pcm')\n      ww = $(window).width();\n      tw = cthis.width();\n      th = cthis.height();\n\n\n      if (_scrubBgCanvas && typeof (_scrubBgCanvas.width) == 'function') {\n        canw = _scrubBgCanvas.width();\n        canh = _scrubBgCanvas.height();\n\n      }\n\n      // console.log('handleResize', selfClass._commentsHolder)\n\n      if (tw <= 720) {\n        cthis.addClass('under-720');\n      } else {\n\n        cthis.removeClass('under-720');\n      }\n      if (tw <= 500) {\n        // -- width under 500\n\n\n        // -- move\n        if (cthis.hasClass('under-500') == false) {\n          if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'normal') {\n            selfClass._apControls.append(selfClass._metaArtistCon);\n          }\n        }\n\n        cthis.addClass('under-500');\n\n\n      } else {\n        // -- width under 500\n\n\n        if (cthis.hasClass('under-500') == false) {\n          if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'normal') {\n            // selfClass._apControls.append(selfClass._metaArtistCon);\n            selfClass._conPlayPauseCon.after(selfClass._metaArtistCon);\n          }\n        }\n\n        cthis.removeClass('under-500');\n      }\n\n\n      sw = tw;\n      if (o.design_skin == 'skin-default') {\n        sw = tw;\n      }\n      if (o.design_skin == 'skin-pro') {\n        sw = tw;\n      }\n      if (o.design_skin == 'skin-silver' || o.design_skin == 'skin-aria') {\n        sw = tw;\n\n        sw = selfClass._scrubbar.width();\n        //console.log(sw);\n\n\n      }\n\n\n      if (o.design_skin == 'skin-justthumbandbutton') {\n        tw = cthis.children('.audioplayer-inner').outerWidth();\n        sw = tw;\n      }\n      if (o.design_skin == 'skin-redlights' || o.design_skin == 'skin-steel') {\n        sw = selfClass._scrubbar.width();\n      }\n\n\n      //console.log(sw);\n\n\n      if (o.design_skin == 'skin-wave') {\n        sw = selfClass._scrubbar.outerWidth(false);\n        // console.log('scrubbar width - ', sw, selfClass._scrubbar);\n\n        scrubbar_h = selfClass._scrubbar.outerHeight(false);\n\n        if (selfClass._commentsHolder) {\n\n          // var aux = selfClass._scrubbar.offset().left - cthis.offset().left;\n          var aux = 0;\n\n\n          if (selfClass._scrubbar && cthis && selfClass._scrubbar.offset()) {\n            aux = selfClass._scrubbar.offset().left - cthis.offset().left;\n          } else {\n            console.log('no scrubbar or cthis', selfClass._scrubbar, cthis);\n          }\n\n          //console.log(aux);\n\n          // console.log('aux - ',aux);\n\n          selfClass._commentsHolder.css({\n            'width': sw\n            //,'left': aux + 'px'\n          })\n\n\n          if (cthis.hasClass('skin-wave-mode-small')) {\n\n            selfClass._commentsHolder.css({\n              'left': aux + 'px'\n            })\n          }\n          //return;\n          selfClass._commentsHolder.addClass('active');\n\n          //                        selfClass._commentsHolder.find('.a-comment').each(function(){\n          //                            var _t = $(this);\n          //\n          //\n          ////                            console.log(_t, _t.offset(), _t.find('.dzstooltip').eq(0).width(), _t.offset().left + _t.find('.dzstooltip').eq(0).width(), _t.offset().left + _t.find('.dzstooltip').eq(0).width() > ww - 50)\n          //                            if(_t.offset().left + _t.find('.dzstooltip').eq(0).width() > ww - 50){\n          //                                _t.find('.dzstooltip').eq(0).addClass('align-right');\n          //                            }else{\n          //\n          //                                _t.find('.dzstooltip').eq(0).removeClass('align-right');\n          //                            }\n          //                        })\n        }\n\n      }\n\n      //console.log(o.design_skin, tw, sw);\n\n\n      if (res_thumbh == true) {\n\n        //                    console.log(cthis.get(0).style.height);\n\n\n        if (o.design_skin == 'skin-default') {\n\n\n          if (cthis.get(0) != undefined) {\n            // if the height is auto then\n            if (cthis.get(0).style.height == 'auto') {\n              cthis.height(200);\n            }\n          }\n\n          var cthis_height = selfClass._audioplayerInner.height();\n          if (typeof cthis.attr('data-initheight') == 'undefined' && cthis.attr('data-initheight') != '') {\n            cthis.attr('data-initheight', selfClass._audioplayerInner.height());\n          } else {\n            cthis_height = Number(cthis.attr('data-initheight'));\n          }\n\n          // console.log('cthis_height - ', cthis_height, cthis.attr('data-initheight'));\n\n          if (o.design_thumbh == 'default') {\n\n            design_thumbh = cthis_height - 44;\n          }\n\n        }\n\n        selfClass._audioplayerInner.find('.the-thumb').eq(0).css({\n          // 'height': design_thumbh\n        })\n      }\n\n\n      //===display none + overflow hidden hack does not work .. yeah\n      //console.log(cthis, selfClass._scrubbar.children('.scrub-bg').width());\n\n      if (cthis.css('display') != 'none') {\n        selfClass._scrubbar.find('.scrub-bg-img').eq(0).css({\n          // 'width' : selfClass._scrubbar.children('.scrub-bg').width()\n        });\n        selfClass._scrubbar.find('.scrub-prog-img').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n        selfClass._scrubbar.find('.scrub-prog-canvas').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n        selfClass._scrubbar.find('.scrub-prog-img-reflect').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n        selfClass._scrubbar.find('.scrub-prog-canvas-reflect').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n      }\n\n\n      // console.log('is_under_400 - ',is_under_400);\n      // console.log('tw - ',tw);\n      cthis.removeClass('under-240 under-400');\n      if (tw <= 240) {\n        cthis.addClass('under-240');\n      }\n      if (tw <= 500) {\n        cthis.addClass('under-400');\n\n        if (is_under_400 == false) {\n          is_under_400 = true;\n          reconstruct_player();\n        }\n        if (selfClass.$controlsVolume) {\n        }\n\n      } else {\n\n\n        if (is_under_400 == true) {\n          is_under_400 = false;\n          reconstruct_player();\n        }\n      }\n\n\n      var aux2 = 50;\n\n      // console.log('o.design_skin - ', o.design_skin, cthis);\n      // -- skin-wave\n      if (o.design_skin == 'skin-wave') {\n\n        controls_left_pos = 0;\n        if (cthis.find('.the-thumb').length > 0) {\n          controls_left_pos += cthis.find('.the-thumb').width() + 20;\n        }\n\n        controls_left_pos += 70;\n\n        var sh = selfClass._scrubbar.eq(0).height();\n\n\n        if (selfClass.skinwave_mode == 'small') {\n          controls_left_pos -= 80;\n          sh = 5;\n\n          controls_left_pos += 13;\n          selfClass.$conPlayPause.css({\n            //'left' : controls_left_pos\n          })\n\n          controls_left_pos += selfClass.$conPlayPause.outerWidth() + 10;\n\n\n        }\n\n\n        if (selfClass._metaArtistCon && selfClass._metaArtistCon.css('display') != 'none') {\n\n\n          if (!(o.design_skin == 'skin-wave' && selfClass.skinwave_mode == 'small')) {\n            selfClass._metaArtistCon.css({\n              //'left': controls_left_pos\n            });\n\n            if (o.design_skin == 'skin-wave' && selfClass.skinwave_mode != 'small') {\n              selfClass._metaArtistCon.css({\n                //'width': tw - controls_left_pos - selfClass._apControlsRight.outerWidth()\n              });\n            }\n          }\n\n          controls_left_pos += selfClass._metaArtistCon.outerWidth();\n\n          //console.log(selfClass._metaArtistCon, selfClass._metaArtistCon.outerWidth());\n        }\n\n\n        controls_right_pos = 0;\n\n        if (selfClass.$controlsVolume && selfClass.$controlsVolume.css('display') != 'none') {\n          controls_right_pos += 55;\n        }\n\n\n        // ---------- calculate dims small\n        if (selfClass.skinwave_mode == 'small') {\n\n          selfClass._scrubbar.css({\n            //'left' : controls_left_pos\n          })\n\n\n          //sw =  ( tw - controls_left_pos - controls_right_pos );\n\n\n          sw = selfClass._scrubbar.width();\n\n          //console.log(sw,controls_left_pos,controls_right_pos);\n\n\n          selfClass._scrubbar.find('.scrub-bg--img').eq(0).css({\n            'width': sw\n          })\n          selfClass._scrubbar.find('.scrub-prog--img').eq(0).css({\n            'width': sw\n          })\n          //cthis.find('.comments-holder').eq(0).css({\n          //    'width' :  selfClass._scrubbar.width()\n          //    ,'left' : controls_left_pos\n          //});\n\n\n        }\n\n\n        if (o.skinwave_wave_mode == 'canvas') {\n\n          if (cthis.attr('data-pcm')) {\n\n\n            if (selfClass._scrubbarbg_canvas.width() == 100) {\n              selfClass._scrubbarbg_canvas.width(selfClass._scrubbar.width());\n            }\n\n\n            // console.log('selfClass.data_source - ', selfClass.data_source);\n            if (selfClass.data_source != 'fake') {\n\n\n              // -- if inter definied then clear timeout and call\n              if (draw_canvas_inter) {\n                clearTimeout(draw_canvas_inter);\n                draw_canvas_inter = setTimeout(draw_canvas_inter_func, 500);\n              } else {\n                draw_canvas_inter_func();\n                draw_canvas_inter = 1;\n              }\n            }\n          }\n        }\n      }\n\n\n      if (o.design_skin == 'skin-minimal') {\n\n\n        // console.log('skin_minimal_button_size - ' ,skin_minimal_button_size);\n\n        skin_minimal_button_size = selfClass._apControls.width();\n        if (selfClass.skin_minimal_canvasplay) {\n          selfClass.skin_minimal_canvasplay.style.width = skin_minimal_button_size;\n          selfClass.skin_minimal_canvasplay.width = skin_minimal_button_size;\n          selfClass.skin_minimal_canvasplay.style.height = skin_minimal_button_size;\n          selfClass.skin_minimal_canvasplay.height = skin_minimal_button_size;\n\n\n          // skin_minimal_button_size = sanitize_to_css_size(skin_minimal_button_size);\n\n\n          $(selfClass.skin_minimal_canvasplay).css({\n            'width': skin_minimal_button_size\n            , 'height': skin_minimal_button_size\n          });\n        }\n\n\n      }\n\n\n      if (o.design_skin == 'skin-default') {\n        if (selfClass.$currTime) {\n          //console.log(o.design_skin, parseInt(selfClass._metaArtistCon.css('left'),10) + selfClass._metaArtistCon.outerWidth() + 10);\n          var _metaArtistCon_l = parseInt(selfClass._metaArtistCon.css('left'), 10);\n          var _metaArtistCon_w = selfClass._metaArtistCon.outerWidth();\n\n          if (selfClass._metaArtistCon.css('display') == 'none') {\n            selfClass._metaArtistCon_w = 0;\n          }\n          if (isNaN(selfClass._metaArtistCon_l)) {\n            selfClass._metaArtistCon_l = 20;\n          }\n        }\n\n      }\n\n      if (o.design_skin == 'skin-minion') {\n        //console.log();\n        aux2 = parseInt(selfClass.$conControls.find('.con-playpause').eq(0).offset().left, 10) - parseInt(selfClass.$conControls.eq(0).offset().left, 10) - 18;\n        selfClass.$conControls.find('.prev-btn').eq(0).css({\n          'top': 0,\n          'left': aux2\n        })\n        aux2 += 36;\n        selfClass.$conControls.find('.next-btn').eq(0).css({\n          'top': 0,\n          'left': aux2\n        })\n      }\n\n\n      if (o.embedded == 'on') {\n        //console.log(window.frameElement)\n        if (window.frameElement) {\n          //window.frameElement.height = cthis.height();\n          //console.log(window.frameElement.height, cthis.outerHeight())\n\n\n          var args = {\n            height: cthis.outerHeight()\n          };\n\n\n          if (o.embedded_iframe_id) {\n\n            args.embedded_iframe_id = o.embedded_iframe_id;\n          }\n\n\n          var message = {\n            name: \"resizeIframe\",\n            params: args\n          };\n          window.parent.postMessage(message, '*');\n        }\n\n      }\n\n\n      draw_scrub_prog();\n\n      // draw_curr_time();\n\n\n      if (o.settings_trigger_resize > 0) {\n\n        if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_handleResize != undefined) {\n          $(o.parentgallery).get(0).api_handleResize();\n        }\n      }\n\n    }\n\n\n    function reconstruct_player() {\n\n      // console.log('reconstruct_player() ', o.restyle_player_over_400,o.restyle_player_under_400);\n\n      if (o.restyle_player_over_400 && o.restyle_player_under_400) {\n\n\n        //console.log('reconstruct_player() ',o.restyle_player_over_400,' is_under_400 - ', is_under_400, cthis.attr('class'));\n\n\n        if (is_under_400) {\n          console.log(\"RESTYLING WITH CLASS -> \", o.restyle_player_under_400);\n          cthis.removeClass(o.restyle_player_over_400);\n          cthis.addClass(o.restyle_player_under_400);\n        } else {\n\n          console.log(\"RESTYLING WITH CLASS -> \", o.restyle_player_over_400);\n          cthis.removeClass(o.restyle_player_under_400);\n          cthis.addClass(o.restyle_player_over_400);\n        }\n\n        // detect_skinwave_mode();\n        (dzsapHelpers.player_detect_skinwave_mode.bind(selfClass))();\n        apply_skinwave_mode_class();\n\n        //console.error(\"selfClass._audioplayerInner.find('.meta-artist-con').eq(0) -> \", selfClass._audioplayerInner.find('.meta-artist-con').eq(0));\n\n        selfClass._audioplayerInner.append(cthis.find('.meta-artist-con'));\n\n        cthis.find('.ap-controls').remove();\n        selfClass._audioplayerInner.children('.the-thumb-con').remove();\n\n\n        if (is_under_400) {\n          console.log(\"RESTYLING WITH CLASS -> \", o.restyle_player_under_400);\n          cthis.removeClass(o.restyle_player_over_400);\n          cthis.addClass(o.restyle_player_under_400);\n        } else {\n\n          cthis.css({\n            'padding-top': ''\n          });\n          console.log(\"RESTYLING WITH CLASS -> \", o.restyle_player_over_400);\n          cthis.removeClass(o.restyle_player_under_400);\n          cthis.addClass(o.restyle_player_over_400);\n        }\n\n        dzsapStructure.setup_structure(selfClass, {\n          'setup_inner_player': false\n          , 'setup_media': false\n          , 'setup_otherstructure': true\n          , 'call_from': \"reconstruct\"\n        });\n\n\n        setup_listeners();\n      }\n    }\n\n\n    function draw_canvas_inter_func() {\n      // console.log('draw_canvas_inter_func', 'skinwave_wave_mode_canvas_waves_number - ', o.skinwave_wave_mode_canvas_waves_number);\n\n\n      // console.log(cthis,\"_scrubbarbg_canvas.get(0) -> \",_scrubbarbg_canvas.get(0));\n      dzsapWaveFunctions.draw_canvas(selfClass._scrubbarbg_canvas.get(0), cthis.attr('data-pcm'), \"#\" + o.design_wave_color_bg, {\n        call_from: 'canvas_normal_pcm_bg',\n        selfClass,\n        'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number, 10),\n        'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n      });\n      dzsapWaveFunctions.draw_canvas(selfClass._scrubbarprog_canvas.get(0), cthis.attr('data-pcm'), \"#\" + o.design_wave_color_progress, {\n        call_from: 'canvas_normal_pcm_prog',\n        selfClass,\n        'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number, 10),\n        'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n      });\n\n      draw_canvas_inter = 0;\n    }\n\n    function volume_handleMouse(e) {\n      var _t = $(this);\n      /**\n       * from 0 to 1\n       * @type {number}\n       */\n      var mouseXRelativeToVolume = null;\n\n      //var mx = e.clientX - selfClass.$controlsVolume.offset().left;\n      if (selfClass.$controlsVolume.find('.volume_static').length) {\n\n        mouseXRelativeToVolume = Number((e.pageX - (selfClass.$controlsVolume.find('.volume_static').eq(0).offset().left)) / (selfClass.$controlsVolume.find('.volume_static').eq(0).width()));\n      }\n\n      if (!mouseXRelativeToVolume) {\n        return false;\n      }\n      if (e.type == 'mousemove') {\n        if (volume_dragging) {\n\n          if (_t.parent().hasClass('volume-holder') || _t.hasClass('volume-holder')) {\n            // todo: nothing ?\n          }\n\n          if (o.design_skin == 'skin-redlights') {\n            mouseXRelativeToVolume *= 10;\n            mouseXRelativeToVolume = Math.round(mouseXRelativeToVolume);\n            //console.log(mouseXRelativeToVolume);\n            mouseXRelativeToVolume /= 10;\n          }\n\n\n          volume_setVolume(mouseXRelativeToVolume, {\n            call_from: \"set_by_mousemove\"\n          });\n          muted = false;\n        }\n\n      }\n      if (e.type == 'mouseleave') {\n\n      }\n      if (e.type == 'click') {\n\n        //console.log(_t, _t.offset().left)\n\n\n        if (_t.parent().hasClass('volume-holder')) {\n\n\n          mouseXRelativeToVolume = 1 - ((e.pageY - (selfClass.$controlsVolume.find('.volume_static').eq(0).offset().top)) / (selfClass.$controlsVolume.find('.volume_static').eq(0).height()));\n\n        }\n        if (_t.hasClass('volume-holder')) {\n          mouseXRelativeToVolume = 1 - ((e.pageY - (selfClass.$controlsVolume.find('.volume_static').eq(0).offset().top)) / (selfClass.$controlsVolume.find('.volume_static').eq(0).height()));\n\n          // console.log(mouseXRelativeToVolume);\n\n        }\n\n        //console.log(mouseXRelativeToVolume);\n\n        volume_setVolume(mouseXRelativeToVolume, {\n          call_from: \"set_by_mouseclick\"\n        });\n        muted = false;\n      }\n\n      if (e.type == 'mousedown') {\n\n        volume_dragging = true;\n        cthis.addClass('volume-dragging');\n\n\n        if (_t.parent().hasClass('volume-holder')) {\n\n\n          mouseXRelativeToVolume = 1 - ((e.pageY - (selfClass.$controlsVolume.find('.volume_static').eq(0).offset().top)) / (selfClass.$controlsVolume.find('.volume_static').eq(0).height()));\n\n        }\n\n        // console.log('mouseXRelativeToVolume - ', mouseXRelativeToVolume);\n\n        volume_setVolume(mouseXRelativeToVolume, {\n          call_from: \"set_by_mousedown\"\n        });\n        muted = false;\n      }\n      if (e.type == 'mouseup') {\n\n        volume_dragging = false;\n        cthis.removeClass('volume-dragging');\n\n      }\n\n    }\n\n    function handleMouseOnScrubbar(e) {\n      var mousex = e.pageX;\n\n\n      if ($(e.target).hasClass('sample-block-start') || $(e.target).hasClass('sample-block-end')) {\n        return false;\n      }\n\n      if (e.type == 'mousemove') {\n        selfClass._scrubbar.children('.scrubBox-hover').css({\n          'left': (mousex - selfClass._scrubbar.offset().left)\n        });\n\n\n        if (o.scrub_show_scrub_time == 'on') {\n\n          // console.log('selfClass.$currTime - ',selfClass.$currTime);\n\n          if (selfClass.timeTotal) {\n            var aux = (mousex - selfClass._scrubbar.offset().left) / selfClass._scrubbar.outerWidth() * selfClass.timeTotal;\n\n\n            if (selfClass.$currTime) {\n              selfClass.$currTime.html(dzsapHelpers.formatTime(aux));\n              selfClass.$currTime.addClass('scrub-time');\n\n            }\n\n            scrub_showing_scrub_time = true;\n          }\n        }\n\n      }\n      if (e.type == 'mouseleave') {\n\n        scrub_showing_scrub_time = false;\n\n        if (selfClass.$currTime) {\n          selfClass.$currTime.removeClass('scrub-time');\n\n        }\n\n        draw_curr_time();\n\n      }\n      if (e.type == 'click') {\n\n\n        if (cthis.hasClass('prevent-bubble')) {\n\n          if (e && e.stopPropagation) {\n            e.preventDefault();\n            e.stopPropagation();\n            ;\n            // return false;\n          }\n        }\n\n\n        if (sw == 0) {\n\n          sw = selfClass._scrubbar.width();\n        }\n        if (sw == 0) {\n          sw = 300;\n        }\n        var targetPositionOnScrub = ((e.pageX - (selfClass._scrubbar.offset().left)) / (sw) * selfClass.timeTotal);\n\n\n        //console.log(e.target,e.pageX, (selfClass._scrubbar.offset().left), (sw), selfClass.timeTotal, targetPositionOnScrub);\n\n        if (selfClass.pseudo_sample_time_start == 0) {\n\n          if (selfClass.sample_time_start > 0) {\n            targetPositionOnScrub -= selfClass.sample_time_start;\n          }\n        }\n\n        if (selfClass._actualPlayer) {\n\n\n          setTimeout(function () {\n            if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_pause_media) {\n\n              selfClass._actualPlayer.get(0).api_seek_to_perc(targetPositionOnScrub / selfClass.timeTotal, {\n                'call_from': 'from_feeder_to_feed'\n              });\n            }\n          }, 50);\n        }\n\n\n        seek_to(targetPositionOnScrub, {\n          'call_from': 'handleMouseOnScrubbar'\n        });\n\n        // return false;\n\n        if (o.autoplay_on_scrub_click == 'on') {\n\n          if (selfClass.player_playing == false) {\n            play_media({\n              'called_from': 'handleMouseOnScrubbar'\n            });\n          }\n        }\n\n        if (cthis.hasClass('from-wc_loop')) {\n          return false;\n        }\n      }\n\n    }\n\n    function seek_to_perc(argperc, pargs) {\n\n      if (selfClass._actualPlayer) {\n        selfClass.timeTotal = time_total_for_visual;\n      }\n      seek_to((argperc * selfClass.timeTotal), pargs);\n    }\n\n    /**\n     * seek to seconds\n     * @param arg - number of settings\n     * @param pargs -- optiona arguments\n     * @returns {boolean}\n     */\n    function seek_to(arg, pargs) {\n      //arg = nr seconds\n\n      var margs = {\n        'call_from': 'default'\n        , 'deeplinking': 'off' // -- default or \"auto\" or \"user action\"\n        , 'call_from_type': 'default' // -- default or \"auto\" or \"user action\"\n      };\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (margs.call_from == 'from_feeder_to_feed') {\n\n      }\n\n      if (arg == 0) {\n        selfClass.timeCurrent = 0;\n      }\n\n      // console.log('%c seek_to() - margs - ', ConstantsDzsAp.DEBUG_STYLE_1, margs, 'arg - ', arg)\n\n      if (margs.deeplinking == 'on') {\n        var newlink = dzsapHelpers.add_query_arg(window.location.href, 'audio_time', arg);\n\n\n        var stateObj = {foo: \"bar\"};\n        history.pushState(stateObj, null, newlink);\n      }\n\n\n      // console.log('seek_to arg - ',arg, 'type - ',type, cthis);\n      arg = dzsapHelpers.sanitize_from_point_time(arg);\n\n\n      if (selfClass.pseudo_sample_time_start) {\n        if (arg < selfClass.pseudo_sample_time_start) {\n          arg = selfClass.pseudo_sample_time_start;\n        }\n        if (arg > selfClass.pseudo_sample_time_end) {\n          arg = selfClass.pseudo_sample_time_end;\n        }\n      }\n\n\n      // console.log('cthis.hasClass(\\'first-played\\') - ',cthis.hasClass('first-played'));\n\n      // console.log('curr_time_first_set - ',curr_time_first_set);\n      if (selfClass._actualPlayer) {\n\n\n        var args = {\n          type: selfClass.actualDataTypeOfMedia,\n          fakeplayer_is_feeder: 'on'\n        }\n\n\n        if (selfClass._actualPlayer.length && selfClass._actualPlayer.data('feeding-from') != cthis.get(0)) {\n\n\n          // console.log('margs -7 ',margs, 'arg - ',arg);\n          if (margs.call_from != 'handle_end' && margs.call_from != 'from_playfrom' && margs.call_from != 'last_pos') {\n            // -- if it is not user action\n\n            args.called_from = 'seek_to from player source->' + (cthis.attr('data-source')) + ' < -  ' + 'old call from - ' + margs.call_from;\n            if (selfClass._actualPlayer.get(0).api_change_media) {\n              selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n            } else {\n              console.log('not inited ? ', selfClass._actualPlayer);\n            }\n\n\n          } else {\n\n            selfClass.timeCurrent = arg;\n            time_curr_for_visual = arg;\n            time_curr_for_real = arg;\n\n            cthis.data('promise-to-play-footer-player-from', arg);\n\n          }\n        }\n\n\n\n        setTimeout(function () {\n\n          if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_pause_media) {\n            if (margs.call_from != 'from_playfrom' && margs.call_from != 'last_pos') {\n              selfClass._actualPlayer.get(0).api_seek_to(arg, {\n                'call_from': 'from_feeder_to_feed'\n              });\n            }\n\n          }\n        }, 50);\n\n        return false;\n      }\n\n\n      if (selfClass.audioType == 'youtube') {\n        try {\n\n          selfClass.$mediaNode_.seekTo(arg);\n        } catch (err) {\n          console.log('yt seek err - ', err);\n        }\n      }\n\n      handleTickChange({\n        'fire_only_once': true\n      })\n      setTimeout(function () {\n        handleTickChange({\n          'fire_only_once': true\n        })\n      }, 20);\n\n\n      if (selfClass.audioType == 'selfHosted') {\n        if (0) {\n\n          //console.log('arg - ',arg);\n          selfClass.lastTimeInSeconds = arg;\n\n          if (inter_audiobuffer_workaround_id != 0) {\n            selfClass.timeCurrent = arg;\n          }\n\n          pause_media({\n            'audioapi_setlasttime': false\n          });\n          play_media({\n            'called_from': 'audio_buffer ( seek_to() )'\n          });\n        } else {\n\n          // console.log('seek to -> ', arg);\n          if (selfClass.$mediaNode_ && typeof (selfClass.$mediaNode_.currentTime) != 'undefined') {\n\n            try {\n              selfClass.$mediaNode_.currentTime = arg;\n            } catch (e) {\n              console.log('error on scrub', e, ' arg - ', arg);\n\n            }\n\n            // console.log('selfClass.$mediaNode_.currentTime -> ',selfClass.$mediaNode_.currentTime);\n          }\n\n          return false;\n\n        }\n\n      }\n\n\n    }\n\n    /**\n     * seek to ( only visual )\n     * @param argperc\n     */\n    function seek_to_visual(argperc) {\n\n\n      //console.log(selfClass.timeTotal);\n      if (selfClass.timeTotal == 0) {\n        if (selfClass.$mediaNode_ && selfClass.$mediaNode_.duration) {\n          selfClass.timeTotal = selfClass.$mediaNode_.duration;\n        }\n      }\n\n      if (selfClass._actualPlayer) {\n        selfClass.timeCurrent = time_curr_for_visual;\n        selfClass.timeTotal = time_total_for_visual;\n      }\n\n      selfClass.timeCurrent = argperc * selfClass.timeTotal;\n\n      curr_time_first_set = true;\n\n\n      handleTickChange({\n        'fire_only_once': true\n      })\n      setTimeout(function () {\n        handleTickChange({\n          'fire_only_once': true\n        })\n      }, 20);\n    }\n\n    function set_playback_speed(arg) {\n      //=== outputs a playback speed from 0.1 to 10\n\n      if (selfClass.audioType == 'youtube') {\n        selfClass.$mediaNode_.setPlaybackRate(arg);\n      }\n      if (selfClass.audioType == 'selfHosted') {\n        selfClass.$mediaNode_.playbackRate = arg;\n\n      }\n\n    }\n\n    /**\n     * outputs a volume from 0 to 1\n     * @param arg 0 <-> 1\n     * @param pargs\n     * @returns {boolean}\n     */\n    function volume_setVolume(arg, pargs) {\n\n      var margs = {\n\n        'call_from': 'default'\n      };\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (arg > 1) {\n        arg = 1;\n      }\n      if (arg < 0) {\n        arg = 0;\n      }\n\n      // console.log('[dzsap] [volume] volume_setVolume()', arg, margs, selfClass.cthis);\n\n\n      if (margs.call_from == 'from_fake_player_feeder_from_init_loaded') {\n        // -- lets prevent call from the init_loaded set_volume if the volume has been changed\n        if (selfClass._sourcePlayer) {\n          if (o.default_volume != 'default') {\n            volume_set_by_user = true;\n          }\n          if (volume_set_by_user) {\n            return false;\n          } else {\n            volume_set_by_user = true;\n            // console.log(\"SET VOLUME BY USER\", cthis);\n          }\n        }\n      }\n\n      if (margs.call_from == 'set_by_mouseclick' || margs.call_from == 'set_by_mousemove') {\n        volume_set_by_user = true;\n      }\n\n      // console.log(\"set_volume()\",arg, cthis, margs);\n\n      if (selfClass.audioType == 'youtube') {\n        if (selfClass.$mediaNode_ && selfClass.$mediaNode_.setVolume) {\n          selfClass.$mediaNode_.setVolume(arg * 100);\n        }\n      }\n      if (selfClass.audioType == 'selfHosted') {\n        if (selfClass.$mediaNode_) {\n\n          // console.log('volume - ',arg, arg* o.watermark_volume, 'selfClass.$mediaNode_ - ',selfClass.$mediaNode_,selfClass.$mediaNode_.src, 'volume - ',arg, arg* o.watermark_volume, 'selfClass.$mediaNode_ - ',selfClass.$mediaNode_,selfClass.$mediaNode_.children, selfClass.$mediaNode_.children[0].src);\n          selfClass.$mediaNode_.volume = arg;\n\n          if (selfClass.$watermarkMedia_) {\n            selfClass.$watermarkMedia_.volume = arg * o.watermark_volume;\n          }\n        } else {\n          if (selfClass.$mediaNode_) {\n            $(selfClass.$mediaNode_).attr('preload', 'metadata');\n          }\n\n        }\n\n      }\n\n      //console.log(selfClass.$controlsVolume.children('.volume_active'));\n\n\n      volume_setOnlyVisual(arg, margs);\n\n      if (selfClass._sourcePlayer) {\n        margs.call_from = ('from_fake_player')\n        if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_visual_set_volume(arg, margs)) {\n          selfClass._sourcePlayer.get(0).api_visual_set_volume(arg, margs);\n        }\n      }\n\n      if (selfClass._actualPlayer) {\n        // console.log('try to set volume on actual player ( fake player ) ', 'selfClass._actualPlayer - ', selfClass._actualPlayer, margs);\n        if (margs.call_from != ('from_fake_player')) {\n          // margs.call_from = ('from_fake_player_feeder')\n          if (margs.call_from == 'from_init_loaded') {\n\n            margs.call_from = ('from_fake_player_feeder_from_init_loaded')\n          } else {\n\n            margs.call_from = ('from_fake_player_feeder')\n          }\n          if (selfClass._actualPlayer && selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_set_volume(arg, margs)) {\n            selfClass._actualPlayer.get(0).api_set_volume(arg, margs);\n          }\n        }\n      }\n\n    }\n\n\n    function volume_setOnlyVisual(arg, margs) {\n\n      // console.log('')\n\n\n      if (selfClass.$controlsVolume.hasClass('controls-volume-vertical')) {\n\n        //console.log('ceva');\n        selfClass.$controlsVolume.find('.volume_active').eq(0).css({\n          'height': (selfClass.$controlsVolume.find('.volume_static').eq(0).height() * arg)\n        });\n      } else {\n\n        selfClass.$controlsVolume.find('.volume_active').eq(0).css({\n          'width': (selfClass.$controlsVolume.find('.volume_static').eq(0).width() * arg)\n        });\n      }\n\n\n      if (o.design_skin == 'skin-wave' && o.skinwave_dynamicwaves == 'on') {\n        //console.log(arg);\n        selfClass._scrubbar.find('.scrub-bg-img').eq(0).css({\n          'transform': 'scaleY(' + arg + ')'\n        })\n        selfClass._scrubbar.find('.scrub-prog-img').eq(0).css({\n          'transform': 'scaleY(' + arg + ')'\n        })\n\n      }\n\n\n      if (localStorage != null && selfClass.the_player_id) {\n\n        //console.log(selfClass.the_player_id);\n\n        localStorage.setItem('dzsap_last_volume_' + selfClass.the_player_id, arg);\n\n      }\n\n      volume_lastVolume = arg;\n    }\n\n\n    function volume_handleClickMuteIcon(e) {\n\n      if (muted == false) {\n        last_vol_before_mute = volume_lastVolume;\n        volume_setVolume(0, {\n          call_from: \"from_mute\"\n        });\n        muted = true;\n      } else {\n        volume_setVolume(last_vol_before_mute, {\n          call_from: \"from_unmute\"\n        });\n        muted = false;\n      }\n    }\n\n    function pause_media_visual(pargs) {\n\n      if (selfClass._sourcePlayer) {\n        //console.log('has selfClass._sourcePlayer and will pause that too - ',selfClass._sourcePlayer);\n      }\n\n      var margs = {\n        'call_from': 'default'\n      };\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log('pause_media_visual',margs);\n\n      if (o.design_animateplaypause != 'on') {\n        selfClass.$conPlayPause.children('.playbtn').css({\n          'display': 'block'\n        });\n        selfClass.$conPlayPause.children('.pausebtn').css({\n          'display': 'none'\n        });\n      } else {\n\n      }\n\n\n      selfClass.$conPlayPause.removeClass('playing');\n      cthis.removeClass('is-playing');\n      selfClass.player_playing = false;\n\n      //console.log(\"PAUSE MEDIA VISUAL\")\n\n\n      if (cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n        cthis.parent().removeClass('is-playing');\n      }\n\n\n      if (o.parentgallery) {\n        o.parentgallery.removeClass('player-is-playing');\n      }\n\n\n      sw_suspend_enter_frame = true;\n\n\n      if (action_audio_pause) {\n        action_audio_pause(cthis);\n      }\n    }\n\n    function pause_media(pargs) {\n      //console.log('pause_media()', cthis);\n\n      if (selfClass._sourcePlayer) {\n        //console.log('has selfClass._sourcePlayer and will pause that too - ',selfClass._sourcePlayer);\n      }\n\n      var margs = {\n        'audioapi_setlasttime': true,\n        'donot_change_media': false,\n        'call_actual_player': true,\n      };\n\n      if (destroyed) {\n        return false;\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      pause_media_visual({\n        'call_from': 'pause_media'\n      });\n\n\n\n      if (margs.call_actual_player && margs.donot_change_media !== true) {\n        if (selfClass._actualPlayer != null) {\n          var args = {\n            type: selfClass.actualDataTypeOfMedia,\n            fakeplayer_is_feeder: 'on'\n          }\n          if (selfClass._actualPlayer && selfClass._actualPlayer.length && selfClass._actualPlayer.data('feeding-from') != cthis.get(0)) {\n            args.called_from = 'pause_media from player ' + cthis.attr('data-source');\n            selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n          }\n          setTimeout(function () {\n            if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_pause_media) {\n              selfClass._actualPlayer.get(0).api_pause_media();\n            }\n          }, 100);\n\n          selfClass.player_playing = false;\n          cthis.removeClass('is-playing');\n          if (cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n            cthis.parent().removeClass('is-playing');\n          }\n          return;\n        }\n      }\n\n\n      dzsapMediaFuncs.media_pause(selfClass, () => {\n        // console.log('selfClass._sourcePlayer - ', selfClass._sourcePlayer, '(cthis) - ', cthis);\n        if (selfClass._sourcePlayer) {\n          if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n            selfClass._sourcePlayer.get(0).api_pause_media_visual({\n              'call_from': 'pause_media in child player'\n            });\n          }\n        }\n      })\n\n\n      selfClass.player_playing = false;\n      cthis.removeClass('is-playing');\n\n\n      if (cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n        cthis.parent().removeClass('is-playing');\n      }\n\n    }\n\n    function play_media_visual(margs) {\n\n\n      if (o.design_animateplaypause != 'on') {\n\n        selfClass.$conPlayPause.children('.playbtn').css({\n          'display': 'none'\n        });\n        selfClass.$conPlayPause.children('.pausebtn').css({\n          'display': 'block'\n        });\n      }\n\n\n      //return false;\n      selfClass.player_playing = true;\n      sw_suspend_enter_frame = false;\n\n      //return false;\n      cthis.addClass('is-playing');\n      cthis.addClass('first-played');\n\n      selfClass.$conPlayPause.addClass('playing');\n\n      if (cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n        cthis.parent().addClass('is-playing');\n      }\n\n      if (o.parentgallery) {\n        o.parentgallery.addClass('player-is-playing');\n      }\n\n\n      if (_sticktobottom) {\n        _sticktobottom.addClass('audioplayer-loaded');\n      }\n\n      //console.log(cthis, margs);\n\n      if (action_audio_play) {\n        action_audio_play(cthis);\n      }\n      if (action_audio_play2) {\n        action_audio_play2(cthis);\n      }\n\n\n    }\n\n    function play_media(pargs) {\n\n      //                console.log(dzsap_list);\n\n\n      var margs = {\n        'api_report_play_media': true\n        , 'called_from': 'default'\n        , 'retry_call': 0\n      }\n      if (pargs) {\n        margs = $.extend(margs, pargs)\n      }\n\n      if (!setuped_media) {\n        setup_media({'called_from': margs.called_from + '[play_media .. not setuped]'});\n      }\n\n\n      // console.log('.play_media() -3 ',margs,cthis, 'type - ',type, 'selfClass.$mediaNode_ - ', selfClass.$mediaNode_);\n      //return false ;\n      //return;\n\n      if (margs.called_from === 'api_sync_players_prev') {\n        // console.log('o.parentgallery - ',o.parentgallery);\n\n        player_index_in_gallery = cthis.parent().children('.audioplayer,.audioplayer-tobe').index(cthis);\n\n        if (o.parentgallery && o.parentgallery.get(0) && o.parentgallery.get(0).api_goto_item) {\n          o.parentgallery.get(0).api_goto_item(player_index_in_gallery);\n        }\n      }\n      // console.log('selfClass.spectrum_audioContext_buffer - ', selfClass.spectrum_audioContext_buffer);\n      if (dzsapHelpers.is_ios() && selfClass.spectrum_audioContext_buffer === 'waiting') {\n        setTimeout(function () {\n          pargs.call_from_aux = 'waiting audioCtx_buffer or ios';\n          play_media(pargs);\n        }, 500);\n        return false;\n      }\n\n      if (margs.called_from == 'click_playpause') {\n        // -- lets setup the playlist\n      }\n\n\n      if (cthis.hasClass('media-setuped') == false && selfClass._actualPlayer == null) {\n        console.log('warning: media not setuped, there might be issues', cthis.attr('id'));\n      }\n\n\n      if (margs.called_from.indexOf('feed_to_feeder')>-1) {\n        if (cthis.hasClass('dzsap-loaded') == false) {\n          init_loaded();\n          var delay = 300;\n          if (dzsapHelpers.is_android_good()) {\n            delay = 0;\n          }\n          if (margs.call_from_aux != 'with delay') {\n            if (delay) {\n              setTimeout(function () {\n                margs.call_from_aux = 'with delay';\n                play_media(margs);\n              }, delay);\n            } else {\n              play_media(margs);\n            }\n            return false;\n          }\n\n        }\n      }\n\n\n      //console.log(o.type);\n      if (selfClass.audioType != 'fake') {\n\n        //return false;\n      }\n\n\n      dzsapHelpers.player_stopOtherPlayers(dzsap_list, selfClass);\n\n\n      if (destroyed_for_rebuffer) {\n        setup_media({\n          'called_from': 'play_media() .. destroyed for rebuffer'\n        });\n        if (dzsHelpers.isInt(playfrom)) {\n          seek_to(playfrom, {\n            'call_from': 'destroyed_for_rebuffer_playfrom'\n          });\n        }\n        destroyed_for_rebuffer = false;\n      }\n\n      // console.log(o.google_analytics_send_play_event, window._gaq, google_analytics_sent_play_event);\n      if (o.google_analytics_send_play_event === 'on' && window._gaq && google_analytics_sent_play_event === false) {\n        //if(window.console){ console.log( 'sent event'); }\n        window._gaq.push(['_trackEvent', 'ZoomSounds Play', 'Play', 'zoomsounds play - ' + dataSrc]);\n        google_analytics_sent_play_event = true;\n      }\n      // console.log(o.google_analytics_send_play_event, window.ga, google_analytics_sent_play_event);\n\n      if (!window.ga) {\n        if (window.__gaTracker) {\n          window.ga = window.__gaTracker;\n        }\n      }\n\n      if (o.google_analytics_send_play_event == 'on' && window.ga && google_analytics_sent_play_event == false) {\n        if (window.console) {\n          console.log('sent event');\n        }\n        google_analytics_sent_play_event = true;\n        window.ga('send', {\n          hitType: 'event',\n          eventCategory: 'zoomsounds play - ' + dataSrc,\n          eventAction: 'play',\n          eventLabel: 'zoomsounds play - ' + dataSrc\n        });\n      }\n\n      //===media functions\n\n      if (selfClass._sourcePlayer) {\n\n        //console.log(cthis, selfClass._sourcePlayer);\n\n        if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n          selfClass._sourcePlayer.get(0).api_play_media_visual({\n            'api_report_play_media': false\n          });\n        }\n\n      }\n\n      // console.log(\"TYPE IS \",type, selfClass._actualPlayer);\n\n      if (selfClass._actualPlayer) {\n        // -- the actual player is the footer player\n\n        //console.log(\"SUBMIT PLAY TO fakeplayer\", selfClass._actualPlayer);\n        var args = {\n          type: selfClass.actualDataTypeOfMedia,\n          fakeplayer_is_feeder: 'on',\n          call_from: 'play_media_audioplayer'\n        }\n\n        try {\n          if (margs.called_from == 'click_playpause') {\n            // -- let us reset up the playlist\n\n\n            if (o.parentgallery) {\n              o.parentgallery.get(0).api_regenerate_sync_players_with_this_playlist();\n              selfClass._actualPlayer.get(0).api_regenerate_playerlist_inner();\n            }\n\n            // console.log(\"we regenerate playlist here\");\n          }\n\n          if (selfClass._actualPlayer && selfClass._actualPlayer.length && selfClass._actualPlayer.data('feeding-from') != cthis.get(0)) {\n\n            args.called_from = 'play_media from player 22 ' + cthis.attr('data-source') + ' < -  ' + 'old call from - ' + margs.called_from;\n\n            if (selfClass._actualPlayer.get(0).api_change_media) {\n              selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n            }\n\n            if (cthis.hasClass('first-played') == false) {\n              if (cthis.data('promise-to-play-footer-player-from')) {\n                seek_to(cthis.data('promise-to-play-footer-player-from'));\n                setTimeout(function () {\n                  cthis.data('promise-to-play-footer-player-from', '');\n                }, 1000);\n              }\n            }\n\n          }\n          setTimeout(function () {\n            if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_play_media) {\n              selfClass._actualPlayer.get(0).api_play_media({\n                'called_from': '[feed_to_feeder]'\n              });\n            }\n          }, 100);\n\n\n          // console.log('ajax view submitted', cthis, selfClass.ajax_view_submitted);\n          if (selfClass.ajax_view_submitted == 'off') {\n            (dzsapAjax.ajax_submit_views.bind(selfClass))();\n          }\n          return;\n\n\n        } catch (err) {\n          console.log('no fake player..', err);\n        }\n      }\n\n\n      if (selfClass.audioType == 'youtube') {\n\n        dzsapHelpers.youtube_playMedia(selfClass, margs, yt_inited, yt_curr_id);\n      }\n      if (selfClass.audioType == 'normal' || selfClass.audioType == 'detect' || selfClass.audioType == 'audio') {\n        selfClass.audioType = 'selfHosted';\n      }\n      if (selfClass.audioType == 'selfHosted') {\n\n\n      }\n\n\n      //console.log('watermark - .play', selfClass.$watermarkMedia_)\n      if (selfClass.$watermarkMedia_) {\n        //console.log('watermark - .play', selfClass.$watermarkMedia_, selfClass.$watermarkMedia_.play)\n        if (selfClass.$watermarkMedia_.play) {\n          selfClass.$watermarkMedia_.play();\n        }\n      }\n\n\n      dzsapMediaFuncs.media_tryToPlay(selfClass, () => {\n\n        //return false;\n        play_media_visual(margs);\n\n\n        //console.log(selfClass.ajax_view_submitted);\n\n\n        if (selfClass._sourcePlayer) {\n          window.dzsap_currplayer_focused = selfClass._sourcePlayer.get(0);\n          if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n            selfClass._sourcePlayer.get(0).api_try_to_submit_view();\n          }\n\n        } else {\n\n          window.dzsap_currplayer_focused = cthis.get(0);\n          try_to_submit_view();\n        }\n\n\n        if (selfClass.keyboard_controls.play_trigger_step_back == 'on') {\n\n          if (dzsap_currplayer_focused) {\n\n            dzsap_currplayer_focused.api_step_back(selfClass.keyboard_controls.step_back_amount);\n          }\n        }\n      }, (err) => {\n        console.log('error autoplay playing -  ', err);\n        setTimeout(() => {\n          pause_media();\n          console.log('trying to pause')\n        }, 30);\n      })\n\n\n    }\n\n\n    function try_to_submit_view() {\n      // console.log('try_to_submit_view', cthis, selfClass.ajax_view_submitted);\n      if (selfClass.ajax_view_submitted == 'auto') {\n        selfClass.ajax_view_submitted = 'off';\n      }\n      if (selfClass.ajax_view_submitted == 'off') {\n\n        (dzsapAjax.ajax_submit_views.bind(selfClass))();\n      }\n    }\n\n\n  }\n}\n\n\nfunction register_dzsap_plugin() {\n  (function ($) {\n\n\n    window.dzsap_list_for_sync_build = function () {\n    };\n\n\n    Math.easeIn = function (t, b, c, d) {\n      // console.log('math.easein')\n\n      return -c * (t /= d) * (t - 2) + b;\n\n    };\n\n\n    dzsapHelpers.assignHelperFunctionsToJquery($);\n\n\n    // -- define player here\n    $.fn.audioplayer = function (argOptions) {\n      var finalOptions = {};\n      var defaultOptions = Object.assign({}, require('./configs/_settingsPlayer').default_opts);\n      finalOptions = dzsapHelpers.convertPluginOptionsToFinalOptions(this, defaultOptions, argOptions);\n\n\n      // console.log('finalOptions -- ',finalOptions);\n      this.each(function () {\n        var _ag = new DzsAudioPlayer(this, finalOptions, $);\n        return this;\n      })\n    }\n\n\n    // -- defined gallery here\n    // --\n    // AUDIO GALLERY\n    // --\n\n\n    dzsapPlaylist.registerToJquery($);\n    window.dzsag_init = function (selector, settings) {\n      if (typeof (settings) != \"undefined\" && typeof (settings.init_each) != \"undefined\" && settings.init_each === true) {\n        if (Object.keys(settings).length === 1) {\n          settings = undefined;\n        }\n\n        $(selector).each(function () {\n          var _t = $(this);\n          _t.audiogallery(settings)\n        });\n      } else {\n        $(selector).audiogallery(settings);\n      }\n    };\n\n  })(jQuery);\n}\n\n\nfunction register_dzsap_aux_script() {\n  jQuery(document).ready(function ($) {\n\n\n    // -- main call\n    // console.log('song changers -> ', $('.audioplayer-song-changer'));\n\n\n    $('body').append('<style class=\"dzsap--style\"></style>');\n\n    window.dzsap__style = $('.dzsap--style');\n\n    $(window).on('resize.dzsapmain', handle_resize_dzsap_main);\n\n    // -- remove focus on input focus\n    $(document).on('focus.dzsap', 'input', function () {\n      // console.log(\"FOCUS - \");\n      window.dzsap_currplayer_focused = null;\n    })\n\n    var inter_resize = 0;\n\n    function handle_resize_dzsap_main() {\n\n      clearTimeout(inter_resize);\n      inter_resize = setTimeout(function () {\n        handle_resize_dzsap_main_doit();\n      }, 300)\n\n\n    }\n\n    function handle_resize_dzsap_main_doit() {\n\n      // console.log('$(\\'.dzsap-sticktobottom\\') - ',$('.dzsap-sticktobottom'));\n      if ($('.dzsap-sticktobottom').length) {\n\n\n        dzsap_sticktobottom_con = $('.dzsap-sticktobottom').eq(0);\n      }\n\n      if (dzsap_sticktobottom_con) {\n        // console.log('dzsap_sticktobottom_con - ',dzsap_sticktobottom_con);\n\n        var aux = 'body .dzsap-sticktobottom:not(.audioplayer-loaded)';\n\n        // console.log('dzsap_sticktobottom_con.outerHeight() - ',dzsap_sticktobottom_con.outerHeight());\n        aux += '{';\n        aux += 'bottom: -' + (dzsap_sticktobottom_con.outerHeight()) + 'px';\n        aux += '}';\n\n        window.dzsap__style.html(aux);\n\n      }\n    }\n\n    handle_resize_dzsap_main();\n\n    $('audio.zoomsounds-from-audio').each(function () {\n      var _t = $(this);\n      //console.log(_t);\n\n      _t.after('<div class=\"audioplayer-tobe auto-init skin-silver\" data-source=\"' + _t.attr('src') + '\"></div>');\n\n      _t.remove();\n    })\n\n\n    $('.audioplayer,.audioplayer-tobe').each(function () {\n      var _t2 = $(this);\n\n      if (_t2.hasClass('auto-init')) {\n        if (_t2.hasClass('audioplayer-tobe') == true) {\n\n          if (window.dzsap_init) {\n\n            dzsap_init(_t2, {\n              init_each: true\n            });\n          }\n        }\n      }\n    })\n\n    //console.log('dzsap_list_for_sync_players - ', dzsap_list_for_sync_players);\n\n    //console.log($('.zoomvideogallery.auto-init'));\n\n    dzsag_init('.audiogallery.auto-init', {\n      init_each: true\n    });\n\n\n    // console.log('we are hier');\n\n\n    dzsapHelpers.jQueryAuxBindings($);\n\n\n    // $(document).off('click.dzsap_multisharer');\n\n\n  });\n\n\n  dzsapHelpers.registerTextWidth(jQuery);\n\n}\n\n\nfunction is_safari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n\nwindow.requestAnimFrame = (function () {\n  //console.log(callback);\n  // return function( callback,element) {\n  //     console.log('wow');\n  //     window.setTimeout(callback, 1000 / 2);\n  // };;\n  return window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    function ( /* function */ callback, /* DOMElement */ element) {\n      window.setTimeout(callback, 1000 / 60);\n    };\n})();\n\n\nwindow.dzsap_currplayer_focused = null;\nwindow.dzsap_currplayer_from_share = null;\nwindow.dzsap_mouseover = false;\n\n\n// console.log('window.dzsap_init_calls - ', window.dzsap_init_calls);\n\nfunction dzsap_call_init_calls() {\n  // console.log('window.dzsap_call_init_calls - ',window.dzsap_call_init_calls);\n  for (var key in window.dzsap_init_calls) {\n    window.dzsap_init_calls[key](jQuery);\n  }\n  window.dzsap_init_calls = [];\n\n}\n\nwindow.dzsap_call_init_calls = dzsap_call_init_calls;\n\nif (window.jQuery) {\n  register_dzsap_plugin();\n  register_dzsap_aux_script();\n  jQuery(document).ready(function ($) {\n    dzsap_call_init_calls()\n  })\n} else {\n  var script = document.createElement('script');\n  document.head.appendChild(script);\n  script.type = 'text/javascript';\n  script.src = \"//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js\";\n  script.onload = function () {\n    register_dzsap_plugin();\n    register_dzsap_aux_script();\n    dzsap_call_init_calls()\n  }\n}\n\n\nwindow.dzsap_init = function (selector, settings) {\n\n  //console.log(selector);\n  if (typeof (settings) != \"undefined\" && typeof (settings.init_each) != \"undefined\" && settings.init_each == true) {\n    var element_count = 0;\n    for (var e in settings) {\n      element_count++;\n    }\n    if (element_count === 1) {\n      settings = undefined;\n    }\n\n    jQuery(selector).each(function () {\n      var _t = jQuery(this);\n      if (settings && typeof (settings.call_from) == 'undefined') {\n        settings.call_from = 'dzsap_init';\n      }\n\n\n      _t.audioplayer(settings)\n    });\n  } else {\n    jQuery(selector).audioplayer(settings);\n  }\n\n  window.dzsap_lasto = settings;\n\n\n  dzsapHelpers.dzsapInitjQueryRegisters();\n};\ndzsapHelpers.miscFunctions();\n","const dzsapHelpers = require('./_dzsap_helpers');\nconst ZoomSoundsNav = require('./components/_nav');\n\nconst Constants = require('../configs/_constants').constants;\n\n// Constants.DEMO;\n\nclass DzsApPlaylist {\n  constructor(argThis, argOptions, $) {\n\n    this.argThis = argThis;\n    this.argOptions = argOptions;\n    this.$ = $;\n    this.navClass = null;\n\n\n    this.init();\n  }\n\n  init() {\n    // console.log('this -> ', this);\n\n\n    var $ = this.$;\n    var selfGallery = this;\n    //console.log(\"INITED\");\n    var o = selfGallery.argOptions;\n    var cgallery = $(selfGallery.argThis);\n    var cid = 'ag1';\n    var currNr = -1 // -- the current player that is playing\n      , lastCurrNr = 0\n      , nrChildren = 0\n      , tempNr = 0;\n    var busy = true;\n    var i = 0;\n\n\n    var dzsap_currplayer_focused = null;\n    var _sliderMain, _sliderClipper, _navMain, _navClipper, _cache;\n    var busy = false,\n      first = true,\n      destroyed = true,\n      skin_redlight_give_controls_right_to_all_players = false // -- if the mode is mode-showall and the skin of the player is redlights, then make all players with controls right\n    ;\n\n\n\n    var aux_error = 20; //==erroring for the menu scroll\n\n    var trying_to_get_track_data = false;\n\n\n    var arr_menuitems = [];\n    var track_data = []; // -- the whole track data views / likes etc.\n\n    var str_alertBeforeRate = 'You need to comment or rate before downloading.';\n\n\n    var duration_viy = 20;\n\n    var target_viy = 0;\n\n    var begin_viy = 0;\n\n    var finish_viy = 0;\n\n    var change_viy = 0;\n\n    selfGallery.goto_item = goto_item;\n    selfGallery.handleResize = handleResize;\n\n\n    selfGallery.initOptions = o;\n    if (window.dzsap_settings && typeof (window.dzsap_settings.str_alertBeforeRate) != 'undefined') {\n      str_alertBeforeRate = window.dzsap_settings.str_alertBeforeRate;\n    }\n\n    cgallery.get(0).currNr_2 = -1; // -- we use this as backup currNR for mode-showall ( hack )\n\n    init();\n\n    function init() {\n      // -- init gallery here\n\n      // console.log('o.settings_ap before data-player-options - ',o.settings_ap);\n      // console.log('%c o gallery','background-color: #ccc;',$.extend({},o));\n\n\n      if (o.settings_ap == 'default') {\n\n        if (cgallery.attr('data-player-options')) {\n          o.settings_ap = dzsapHelpers.convertPluginOptionsToFinalOptions(cgallery.get(0), {}, null, 'data-player-options');\n        }else{\n          const _firstPlayer = cgallery.find('.audioplayer, .audioplayer-tobe').eq(0);\n          if(_firstPlayer){\n\n            o.settings_ap = dzsapHelpers.convertPluginOptionsToFinalOptions(_firstPlayer.get(0), {}, null);\n          }\n        }\n      }\n\n\n      // console.log('o.settings_ap after data-player-options - ',Object.assign({}, o.settings_ap));\n      if (o.settings_ap == 'default') {\n        o.settings_ap = {};\n      }\n\n\n      if (o.design_menu_width == 'default') {\n        o.design_menu_width = '100%';\n      }\n      if (o.design_menu_height == 'default') {\n        o.design_menu_height = '200';\n      }\n\n\n      if (cgallery.hasClass('skin-wave')) {\n        o.design_skin = 'skin-wave';\n      }\n      if (cgallery.hasClass('skin-default')) {\n        o.design_skin = 'skin-default';\n      }\n      if (cgallery.hasClass('skin-aura')) {\n        o.design_skin = 'skin-aura';\n      }\n\n\n      cgallery.addClass(o.settings_mode);\n\n\n      cgallery.append('<div class=\"slider-main\"><div class=\"slider-clipper\"></div></div>');\n\n      cgallery.addClass('menu-position-' + o.design_menu_position);\n\n      _sliderMain = cgallery.find('.slider-main').eq(0);\n\n\n      var auxlen = cgallery.find('.items').children('.audioplayer-tobe').length;\n\n      // --- if there is a single audio player in the gallery - theres no point of a menu\n\n\n      o.settings_ap.disable_player_navigation = o.disable_player_navigation;\n      if (auxlen == 0 || auxlen == 1) {\n        o.design_menu_position = 'none';\n        o.settings_ap.disable_player_navigation = 'on';\n      }\n\n\n      // console.log('ZoomSoundsNav - ', ZoomSoundsNav);\n\n      selfGallery.navClass = new ZoomSoundsNav.ZoomSoundsNav(selfGallery);\n\n\n      if (o.design_menu_position == 'top') {\n        _sliderMain.before(selfGallery.navClass.get_structZoomsoundsNav());\n      }\n      if (o.design_menu_position == 'bottom') {\n        _sliderMain.after(selfGallery.navClass.get_structZoomsoundsNav());\n      }\n\n      // console.log('[settingsap] o.settings_ap -', o.settings_ap);\n      if (o.settings_php_handler) {\n\n      } else {\n        if (o.settings_ap.settings_php_handler) {\n          o.settings_php_handler = o.settings_ap.settings_php_handler;\n        }\n      }\n\n\n      if (typeof cgallery.attr('id')) {\n        cid = cgallery.attr('id');\n      } else {\n\n        var ind = 0;\n        while ($('ag' + ind).length == 0) {\n          ind++;\n        }\n\n\n        cid = 'ag' + ind;\n\n        cgallery.attr('id', cid);\n      }\n\n\n      _sliderClipper = cgallery.find('.slider-clipper').eq(0);\n      _navMain = cgallery.find('.nav-main').eq(0);\n      _navClipper = cgallery.find('.nav-clipper').eq(0);\n\n      if (cgallery.children('.extra-html').length) {\n        cgallery.append(cgallery.children('.extra-html'));\n      }\n\n      if (o.settings_mode == 'mode-showall') {\n        _sliderClipper.addClass('layout-' + o.mode_showall_layout);\n      }\n\n      selfGallery.navClass.set_elements(_navMain, _navClipper, cgallery);\n\n\n      reinit();\n\n      //console.log(arr_menuitems);\n\n      selfGallery.navClass.init_ready();\n\n\n      parse_track_data();\n\n\n      if (dzsapHelpers.can_history_api() == false) {\n        o.settings_enable_linking = 'off';\n      }\n\n\n      if (cgallery.css('opacity') == 0) {\n        cgallery.animate({\n          'opacity': 1\n        }, 1000);\n      }\n\n      $(window).bind('resize', handleResize);\n      handleResize();\n      setTimeout(handleResize, 1000);\n\n\n      cgallery.get(0).api_skin_redlights_give_controls_right_to_all = function () {\n\n        // -- void f()\n\n        skin_redlight_give_controls_right_to_all_players = true;\n      }\n\n\n      if (dzsapHelpers.get_query_arg(window.location.href, 'audiogallery_startitem_' + cid)) {\n        tempNr = Number(dzsapHelpers.get_query_arg(window.location.href, 'audiogallery_startitem_' + cid));\n\n        lastCurrNr = tempNr;\n        if (Number(dzsapHelpers.get_query_arg(window.location.href, 'audiogallery_startitem_' + cid)) && Number(dzsapHelpers.get_query_arg(window.location.href, 'audiogallery_startitem_' + cid)) > 0) {\n\n          // console.log(cid,o.force_autoplay_when_coming_from_share_link)\n\n          // -- caution .. coming from share link will trigger autoplay!!!\n          if (o.force_autoplay_when_coming_from_share_link == 'on') {\n            o.autoplay = 'on';\n          }\n        }\n      }\n      // console.log('%c o gallery','background-color: #ccc;',$.extend({},o));\n\n\n      if (o.settings_mode == 'mode-normal') {\n\n        goto_item(tempNr, {\n          'called_from': 'init'\n        });\n      }\n\n\n      if (o.settings_mode == 'mode-showall') {\n        // -- mode-showall\n\n        _sliderClipper.children().each(function () {\n          var _t = $(this);\n\n          //console.log(_t);\n\n          var ind = _t.parent().children('.audioplayer,.audioplayer-tobe').index(_t);\n\n          if (_t.hasClass('audioplayer-tobe')) {\n            //console.log(o.settings_ap);\n\n\n            var player_args = Object.assign({}, o.settings_ap);\n            player_args.parentgallery = cgallery;\n            player_args.call_from = 'mode show-all';\n            player_args.action_audio_play = mode_showall_listen_for_play;\n\n            // -- showall\n            _t.audioplayer(player_args);\n\n            //console.log(ind);\n\n            ind = String(ind + 1);\n\n            if (ind.length < 2) {\n              ind = '0' + ind;\n            }\n\n            if (o.mode_showall_layout == 'one-per-row' && o.settings_mode_showall_show_number != 'off') {\n\n              _t.before('<div class=\"number-wrapper\"><span class=\"the-number\">' + ind + '</span></div>')\n              _t.after('<div class=\"clear for-number-wrapper\"></div>')\n            }\n          }\n\n        })\n\n\n        if ($.fn.isotope && o.mode_showall_layout != 'one-per-row') {\n\n          // -- we have isotope\n\n          // console.log('_sliderClipper.find(\\'.audioplayer,.audioplayer-tobe\\') - ' ,_sliderClipper.find('.audioplayer,.audioplayer-tobe'));\n          _sliderClipper.find('.audioplayer,.audioplayer-tobe').addClass('isotope-item');\n          setTimeout(function () {\n\n            _sliderClipper.prepend('<div class=\"grid-sizer\"></div>');\n            _sliderClipper.isotope({\n              // options\n              itemSelector: '.isotope-item',\n              layoutMode: 'fitRows',\n              percentPosition: true,\n              masonry: {\n                columnWidth: '.grid-sizer'\n              }\n            });\n            _sliderClipper.addClass('isotoped');\n            setTimeout(function () {\n              _sliderClipper.isotope('layout')\n            }, 900);\n          }, Constants.PLAYLIST_TRANSITION_DURATION);\n\n\n          _sliderClipper.append('<div class=\"clear\"></div>');\n        }\n\n\n        //console.log('dada2', skin_redlight_give_controls_right_to_all_players);\n\n\n        if (skin_redlight_give_controls_right_to_all_players) {\n\n          _sliderClipper.children('.audioplayer').each(function () {\n\n            var _t = $(this);\n\n            //console.log(_t);\n\n            if (_t.find('.ap-controls-right').eq(0).prev().hasClass('controls-right') == false) {\n              _t.find('.ap-controls-right').eq(0).before('<div class=\"controls-right\"> </div>');\n            }\n          });\n        }\n\n      }\n\n\n      cgallery.find('.download-after-rate').bind('click', click_downloadAfterRate);\n\n      cgallery.get(0).api_regenerate_sync_players_with_this_playlist = regenerate_sync_players_with_this_playlist;\n      cgallery.get(0).api_goto_next = goto_next;\n      cgallery.get(0).api_goto_prev = goto_prev;\n      cgallery.get(0).api_goto_item = goto_item;\n      cgallery.get(0).api_gallery_handle_end = gallery_handle_end;\n      cgallery.get(0).api_toggle_menu_state = toggle_menu_state;\n      cgallery.get(0).api_handleResize = handleResize;\n      cgallery.get(0).api_player_commentSubmitted = player_commentSubmitted;\n      cgallery.get(0).api_player_rateSubmitted = player_rateSubmitted;\n      cgallery.get(0).api_reinit = reinit;\n      cgallery.get(0).api_play_curr_media = play_curr_media;\n      cgallery.get(0).api_get_nr_children = get_nr_children;\n      cgallery.get(0).api_init_player_from_gallery = init_player_from_gallery;\n      cgallery.get(0).api_filter = filter;\n      cgallery.get(0).api_destroy = destroy_gallery;\n\n\n      setInterval(calculate_on_interval, 1000);\n\n\n      setTimeout(init_loaded, 700);\n\n\n      if (o.enable_easing == 'on') {\n\n        handle_frame();\n      }\n      //console.log(cgallery);\n\n      cgallery.addClass('dzsag-inited');\n\n      cgallery.addClass('transition-' + o.playlistTransition);\n      cgallery.addClass('playlist-transition-' + o.playlistTransition);\n\n\n    }\n\n\n    function destroy_gallery() {\n\n\n      if (destroyed) {\n        return false;\n      }\n\n\n      // $(window).off('resize.dzsap');\n\n      cgallery.remove();\n      cgallery = null;\n\n      destroyed = true;\n    }\n\n    function filter(argby, arg) {\n      if (!(argby)) {\n        argby = 'title';\n      }\n\n      const filterForIsotope = (argthis) => {\n\n\n        // console.log(this, typeof this, argthis);\n        var _t = $(argthis);\n        var referenceVal = '';\n\n        if (argby == 'title') {\n          referenceVal = _t.find('.the-name').text();\n        }\n\n        // console.log('argby - ',argby, ' | ', _t, _t.find('.the-name'));\n        // console.log('$(this).find(\\'.the-name\\') - ',referenceVal, ' | ', arg);\n\n        if (arg == '') {\n          return true;\n        }\n        if (referenceVal.toLowerCase().indexOf(arg.toLowerCase()) > -1) {\n          return true;\n        }\n        return false;\n        // console.log(arg2,this,arg);\n      }\n      if (_sliderClipper.hasClass('isotoped')) {\n        _sliderClipper.isotope({\n          filter: filterForIsotope\n        });\n      } else {\n        _sliderClipper.children().each(function () {\n          var sw = filterForIsotope(this);\n          // console.log('sw - ',sw);\n          if (sw) {\n            $(this).fadeIn('fast');\n          } else {\n\n            // console.warn(\"OUT FAST\");\n            $(this).fadeOut('fast');\n          }\n        })\n      }\n    }\n\n    function regenerate_sync_players_with_this_playlist() {\n\n      // -- in case we play from playlist we overwrite whole footer playlist\n\n      dzsap_list_for_sync_players = [];\n\n      _sliderClipper.children('.audioplayer,.audioplayer-tobe').each(function () {\n        var _t = $(this);\n        _t.addClass('feeded-whole-playlist');\n\n        if (_t.attr('data-do-not-include-in-list') != 'on') {\n          dzsap_list_for_sync_players.push(_t);\n        }\n      })\n    }\n\n\n    function init_parse_track_data() {\n\n      if (trying_to_get_track_data) {\n        return false;\n      }\n\n      trying_to_get_track_data = true;\n\n      var data = {\n        action: 'dzsap_get_views_all',\n        postdata: '1',\n      };\n\n\n      if (o.settings_php_handler) {\n        $.ajax({\n          type: \"POST\",\n          url: o.settings_php_handler,\n          data: data,\n          success: function (response) {\n            //if(typeof window.console != \"undefined\" ){ console.log('Ajax - get - comments - ' + response); }\n\n            cgallery.attr('data-track-data', response);\n            parse_track_data();\n\n          },\n          error: function (arg) {\n            if (typeof window.console != \"undefined\") {\n              // console.log('Got this from the server: ' + arg, arg);\n            }\n            ;\n          }\n        });\n      }\n\n\n    }\n\n    function parse_track_data() {\n      if (cgallery.attr('data-track-data')) {\n        try {\n          track_data = JSON.parse(cgallery.attr('data-track-data'));\n        } catch (err) {\n          console.log(err);\n        }\n\n        if (track_data && track_data.length) {\n\n          selfGallery.navClass.parseTrackData(track_data);\n          //console.warn(foundnr, track_data.length);\n        }\n\n\n      }\n\n      //console.log(' track_data - ' ,track_data);\n    }\n\n    function get_nr_children() {\n      return nrChildren;\n    }\n\n    function find_player_id(arg) {\n      if (arg.attr('data-player-id')) {\n        return arg.attr('data-player-id');\n      } else {\n        if (arg.attr('id')) {\n          return arg.attr('id');\n        } else {\n          if (arg.attr('data-source')) {\n            return dzsapHelpers.dzs_clean_string(arg.attr('data-source'));\n          }\n        }\n      }\n    }\n\n    function reinit() {\n\n\n      //console.log('reinit()', cgallery.find('.items').eq(0).children(), cgallery.find('.items').eq(0).children().length);\n\n      var notInitedPlayersLength = cgallery.find('.items').eq(0).children('.audioplayer-tobe').length;\n      arr_menuitems = [];\n\n      var player_id = '';\n\n      //console.log('reinit - ', cgallery.find('.items').eq(0).children());\n\n      for (i = 0; i < notInitedPlayersLength; i++) {\n        // -- construct palyers here\n        var _c = cgallery.find('.items').children('.audioplayer-tobe').eq(0);\n\n        //console.log('_c) - ',_c);\n\n        var menuDescriptionHtml = '';\n\n        if (_c.find('.menu-description').html()) {\n          menuDescriptionHtml = _c.find('.menu-description').html();\n        } else {\n          menuDescriptionHtml = '';\n\n          if (_c.find('.feed-artist').length || _c.find('.feed-songname').length) {\n\n            menuDescriptionHtml = ``;\n            if(_c.attr('data-thumb')){\n              menuDescriptionHtml+=`<div class=\"menu-item-thumb-con\"><div class=\"menu-item-thumb\" style=\"background-image: url(${_c.attr('data-thumb')})\"></div></div>`;\n            }\n            menuDescriptionHtml += `<div class=\"menu-artist-info\"><span class=\"the-artist\">${_c.find('.feed-artist').html()}</span><span class=\"the-name\">${_c.find('.feed-songname').html()}</span></div>`\n          }\n        }\n\n        var auxer = {\n          'menu_description': menuDescriptionHtml\n          , 'player_id': find_player_id(_c)\n        }\n\n        arr_menuitems.push(auxer)\n        //cgallery.find('.items').children().eq(0).find('.menu-description').remove();\n\n        // console.log('_c - ',_c);\n\n\n        _sliderClipper.append(_c);\n\n        // if (o.settings_mode == 'mode-showall') {\n        //   _c.wrap('<div class=\"\"></div>')\n        // }\n\n      }\n\n\n      // console.log('arr_menuitems - ', arr_menuitems);\n      for (i = 0; i < arr_menuitems.length; i++) {\n        var extra_class = '';\n        if (arr_menuitems[i].menu_description && arr_menuitems[i].menu_description.indexOf('<div class=\"menu-item-thumb-con\"><div class=\"menu-item-thumb\" style=\"') == -1) {\n          extra_class += ' no-thumb';\n        }\n\n\n        var aux = '<div class=\"menu-item' + extra_class + '\"  data-menu-index=\"' + i + '\" data-gallery-id=\"' + cid + '\" data-playerid=\"' + arr_menuitems[i].player_id + '\">'\n\n        if (cgallery.hasClass('skin-aura')) {\n          aux += '<div class=\"menu-item-number\">' + (++nrChildren) + '</div>';\n        }\n\n        aux += arr_menuitems[i].menu_description;\n\n\n        if (cgallery.hasClass('skin-aura') && String(arr_menuitems[i].menu_description).indexOf('menu-item-views') == 1) {\n\n          if (track_data && track_data.length > 0) {\n\n            aux += '<div class=\"menu-item-views\"></div>';\n          } else {\n\n            init_parse_track_data();\n            aux += '<div class=\"menu-item-views\">' + dzsapSvgs.svg_play_icon + ' ' + '<span class=\"the-count\">{{views_' + arr_menuitems[i].player_id + '}}' + '</span></div>';\n          }\n\n        }\n\n\n        aux += '</div>';\n\n        _navClipper.append(aux);\n\n\n        if (cgallery.hasClass('skin-aura')) {\n\n          if (arr_menuitems[i] && arr_menuitems[i].menu_description && arr_menuitems[i].menu_description.indexOf('float-right') > -1) {\n            _navClipper.children().last().addClass('has-extra-info')\n          }\n        }\n        // nrChildren++;\n      }\n    }\n\n    function init_loaded() {\n      // -- gallery\n\n      cgallery.addClass('dzsag-loaded');\n    }\n\n    function click_downloadAfterRate() {\n      var _t = $(this);\n\n\n      if (_t.hasClass('active') == false) {\n        alert(str_alertBeforeRate)\n        return false;\n      }\n    }\n\n\n    function play_curr_media() {\n\n      if (typeof (_sliderClipper.children().eq(currNr).get(0)) != 'undefined') {\n        if (typeof (_sliderClipper.children().eq(currNr).get(0).api_play_media) != 'undefined') {\n          _sliderClipper.children().eq(currNr).get(0).api_play_media({\n            'call_from': 'play_curr_media_gallery'\n          });\n        }\n\n      }\n    }\n\n    function mode_showall_listen_for_play(arg) {\n\n      //console.log('mode_showall_listen_for_play()',currNr, arg);\n\n      if (o.settings_mode == 'mode-showall') {\n\n        var ind = _sliderClipper.children('.audioplayer,.audioplayer-tobe').index(arg);\n        //console.log(ind);\n        currNr = ind;\n        cgallery.get(0).currNr_2 = ind;\n        //console.log(cgallery,currNr)\n      }\n      //console.log('mode_showall_listen_for_play()',currNr,this, cgallery.get(0).currNr_2);\n    }\n\n    function handle_frame() {\n\n      // -- cgallery\n\n      if (isNaN(target_viy)) {\n        target_viy = 0;\n      }\n\n      if (duration_viy === 0) {\n        requestAnimFrame(handle_frame);\n        return false;\n      }\n\n      begin_viy = target_viy;\n      change_viy = selfGallery.navClass.finish_viy - begin_viy;\n\n\n      //console.log('handle_frame', finish_viy, duration_viy, target_viy);\n\n      //console.log(duration_viy);\n\n\n      target_viy = Number(Math.easeIn(1, begin_viy, change_viy, duration_viy).toFixed(4));\n      ;\n\n\n      if (dzsapHelpers.is_ios() == false && dzsapHelpers.is_android() == false) {\n        _navClipper.css({\n          'transform': 'translateY(' + target_viy + 'px)'\n        });\n      }\n\n\n      //console.log(_blackOverlay,target_bo);;\n\n      requestAnimFrame(handle_frame);\n    }\n\n\n    function toggle_menu_state() {\n\n      selfGallery.navClass.toggle_menu_state();\n    }\n\n    function gallery_handle_end() {\n\n      if (o.autoplayNext == 'on') {\n\n        goto_next();\n      }\n    }\n\n    function player_commentSubmitted() {\n      _navClipper.children('.menu-item').eq(currNr).find('.download-after-rate').addClass('active');\n\n    }\n\n    function player_rateSubmitted() {\n      _navClipper.children('.menu-item').eq(currNr).find('.download-after-rate').addClass('active');\n    }\n\n    function calculateDims() {\n      //                console.log('calculateDims');\n\n\n      // console.log('_sliderClipper.hasClass(\\'isotoped\\') - ',_sliderClipper.hasClass('isotoped'));\n      if (o.settings_mode != 'mode-showall' && _sliderClipper.hasClass('isotoped') == false && o.mode_normal_video_mode != 'one') {\n        // -- mode normal, not isotope\n        if (_sliderClipper.children().eq(currNr).hasClass('zoomsounds-wrapper-bg-bellow') == false) {\n          _sliderClipper.css('height', _sliderClipper.children().eq(currNr).outerHeight());\n\n        }\n      }\n\n      if (_sliderClipper.hasClass('isotoped') == false) {\n        // -- not isotope\n        setTimeout(function () {\n          _sliderClipper.css('height', 'auto');\n        }, Constants.PLAYLIST_TRANSITION_DURATION);\n      }\n\n      //                _navMain.show();\n\n      //                return;\n\n\n      selfGallery.navClass.calculateDims();\n\n      if (o.embedded == 'on') {\n        //console.log(window.frameElement)\n        if (window.frameElement) {\n          window.frameElement.height = cgallery.height();\n          //console.log(window.frameElement.height, cgallery.outerHeight())\n        }\n      }\n    }\n\n\n    function calculate_on_interval() {\n      // -- @called on setInterval\n\n      selfGallery.navClass.calculateDims();\n\n      // -- this is for player ? todo ...\n      if (0 && o.gallery_gapless_play == 'on') {\n        var args = {\n          'call_from': 'gapless_play'\n        }\n\n        if (o.parentgallery && cthis.hasClass('active-from-gallery')) {\n          var _c = o.parentgallery;\n          // console.log(_c);\n          // console.log(_c.data('currNr'));\n\n\n          var _cach = _sliderClipper.children().eq(Number(_c.data('currNr')) + 1);\n\n\n          if (!(_cach.data('gapless-inited') == true)) {\n\n            var args = {\n              preload_method: \"auto\"\n              , \"autoplay\": \"off\"\n              , \"call_from\": \"gapless_play\"\n            }\n\n\n            _c.get(0).api_init_player_from_gallery(_cach, args);\n\n            _cach.data('gapless-inited', true);\n\n            setTimeout(function () {\n              _cach.get(0).api_handleResize();\n            }, 1000)\n          }\n        }\n      }\n\n\n      // console.log('nm_maindim - ' ,nc_maindim);\n    }\n\n\n    function handleResize() {\n\n      if (o.settings_mode != 'mode-showall' && _sliderClipper.hasClass('isotoped') == false) {\n        setTimeout(function () {\n          //console.log(_sliderClipper.children().eq(currNr), _sliderClipper.children().eq(currNr).height())\n          _sliderClipper.css('height', _sliderClipper.children().eq(currNr).outerHeight());\n        }, 500);\n      }\n\n      calculateDims();\n\n    }\n\n    function transition_end(newCurrNr) {\n      _sliderClipper.children().eq(lastCurrNr).removeClass('transitioning-out');\n\n      _sliderClipper.children().eq(newCurrNr).removeClass('transitioning-in');\n      lastCurrNr = currNr;\n      busy = false;\n    }\n\n    function transition_bg_end() {\n      cgallery.parent().children('.the-bg').eq(0).remove();\n      busy = false;\n    }\n\n    function goto_prev() {\n      tempNr = currNr;\n      tempNr--;\n\n      var sw_goto_item = true;\n\n\n      if (tempNr < 0) {\n        tempNr = _sliderClipper.children().length - 1;\n\n        if (o.loop_playlist == 'off') {\n          sw_goto_item = false;\n        }\n      }\n\n      if (sw_goto_item) {\n\n        goto_item(tempNr);\n      }\n    }\n\n    function goto_next() {\n      // console.warn('ag','goto_next()', currNr,cgallery.get(0).currNr_2);\n      tempNr = currNr;\n\n\n      var sw_goto_item = true;\n\n      if (o.settings_mode == 'mode-showall') {\n        tempNr = cgallery.get(0).currNr_2;\n      }\n      tempNr++;\n      if (tempNr >= _sliderClipper.children().length) {\n        tempNr = 0;\n\n        if (o.loop_playlist == 'off') {\n          sw_goto_item = false;\n        }\n      }\n\n\n      if (sw_goto_item) {\n\n        goto_item(tempNr);\n      }\n    }\n\n    function goto_item(newCurrNr, pargs) {\n\n\n      var margs = {\n\n        'ignore_arg_currNr_check': false\n        , 'ignore_linking': false // -- does not change the link if set to true\n        , donotopenlink: \"off\"\n        , called_from: \"default\"\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      // console.log('goto_item()', arg, busy);\n\n      if (busy == true) {\n        return;\n      }\n\n      if (newCurrNr == \"last\") {\n        newCurrNr = _sliderClipper.children().length - 1;\n      }\n\n      // console.log('goto_item()', currNr, newCurrNr, '(currNr == newCurrNr)', currNr == newCurrNr, busy, newCurrNr==\"last\");\n\n\n      if (!!(currNr == newCurrNr)) {\n\n        if (_sliderClipper && _sliderClipper.children().eq(currNr).get(0) && _sliderClipper.children().eq(currNr).get(0).api_play_media) {\n          _sliderClipper.children().eq(currNr).get(0).api_play_media({\n            'call_from': 'gallery'\n          });\n        }\n        return;\n      }\n\n      var _audioplayerToBeActive = _sliderClipper.children('.audioplayer,.audioplayer-tobe').eq(newCurrNr);\n\n      // console.warn('_audioplayerToBeActive - ', _audioplayerToBeActive);\n      // console.warn('currNr - ', currNr);\n      var currNr_last_vol = '';\n\n      if (currNr > -1) {\n        if (typeof (_sliderClipper.children().eq(currNr).get(0)) != 'undefined') {\n          if (typeof (_sliderClipper.children().eq(currNr).get(0).api_pause_media) != 'undefined') {\n            _sliderClipper.children().eq(currNr).get(0).api_pause_media();\n          }\n          if (typeof (_sliderClipper.children().eq(currNr).get(0).api_get_last_vol) != 'undefined') {\n            currNr_last_vol = _sliderClipper.children().eq(currNr).get(0).api_get_last_vol();\n          }\n\n        }\n\n\n        _navClipper.children().removeClass('active active-from-gallery');\n\n\n        if (o.mode_normal_video_mode == 'one') {\n\n        } else {\n\n          if (o.settings_mode != 'mode-showall') {\n\n\n\n            //console.log(o.playlistTransition);\n            _sliderClipper.children().eq(currNr).removeClass('active active-from-gallery');\n            _navClipper.children().eq(currNr).removeClass('active active-from-gallery');\n\n\n          }\n        }\n\n      }\n\n\n      // --  setting settings\n      if (o.settings_ap.design_skin == 'sameasgallery') {\n        o.settings_ap.design_skin = o.design_skin;\n      }\n\n      // console.log('o.settings_ap HERE IT IS 2 - ',$.extend({}, o.settings_ap), currNr);\n\n\n      // console.log('%c o.autoplay from gallery - ','background-color: #dadada;',o.autoplay);\n\n      // -- if this is  the first audio\n      if (currNr == -1 && o.autoplay == 'on') {\n        o.settings_ap.autoplay = 'on';\n      }\n      // console.log('o.settings_ap HERE IT IS 24 - ',$.extend({}, o.settings_ap));\n\n      // -- if this is not the first audio\n      if (currNr > -1 && o.autoplayNext == 'on') {\n        o.settings_ap.autoplay = 'on';\n      }\n      o.settings_ap.parentgallery = cgallery;\n\n      o.settings_ap.design_menu_show_player_state_button = o.design_menu_show_player_state_button;\n      o.settings_ap.cue = 'on';\n      if (first == true) {\n        if (o.cueFirstMedia == 'off') {\n          o.settings_ap.cue = 'off';\n        }\n\n        first = false;\n      }\n\n      // -- setting settings END\n\n\n      var args_player = $.extend({}, o.settings_ap);\n\n      // console.log('o.settings_ap HERE IT IS 3 - ',$.extend({}, o.settings_ap));\n\n      args_player.volume_from_gallery = currNr_last_vol;\n      args_player.call_from = 'gotoItem';\n      args_player.player_navigation = o.player_navigation;\n\n      // console.log('lets init player here', arg);\n      if (o.mode_normal_video_mode == 'one' && newCurrNr > -1 && margs.called_from != 'init') {\n        // -- video mode -> one\n\n\n        // console.error('lets init player here', arg);\n\n        var _c = _sliderClipper.children().eq(0).get(0);\n        _audioplayerToBeActive = _sliderClipper.children().eq(0);\n\n        if (_c) {\n          if (_c.api_play_media) {\n\n            // console.log('_sliderClipper.children().eq(arg) -5 ',_sliderClipper.children().eq(arg));\n            _c.api_change_media(_sliderClipper.children().eq(newCurrNr), {\n              'called_from': 'goto_item -- mode_normal_video_mode()',\n              'modeOneGalleryIndex': newCurrNr,\n              'source_player_do_not_update': 'on',\n              // ,'fakeplayer_is_feeder':'on'\n            });\n\n            if (o.autoplayNext == 'on') {\n              setTimeout(function () {\n                _c.api_play_media();\n              }, 200);\n            }\n          }\n        }\n      } else {\n\n        // -- init player from gallery\n        init_player_from_gallery(_audioplayerToBeActive, args_player);\n\n      }\n\n\n\n      // -- actions after init\n      if (o.autoplayNext == 'on') {\n        if (o.settings_mode == 'mode-showall') {\n          currNr = cgallery.get(0).currNr_2;\n        }\n        if (!!(currNr > -1 && _audioplayerToBeActive.get(0) && _audioplayerToBeActive.get(0).api_play)) {\n          _audioplayerToBeActive.get(0).api_play();\n        }\n      }\n\n      if(o.settings_ap.playfrom == undefined || o.settings_ap.playfrom==\"0\"){\n        if(_audioplayerToBeActive.get(0) && _audioplayerToBeActive.get(0).api_seek_to_0){\n          _audioplayerToBeActive.get(0).api_seek_to_0();\n        }else{\n          console.log('_audioplayerToBeActive not found - ',_audioplayerToBeActive);\n        }\n      }\n\n      // console.log('o.settings_ap - ', o.settings_ap);\n      // -- end actions after init\n\n      dzsap_currplayer_focused = _audioplayerToBeActive.get(0);\n\n\n      if (o.settings_mode != 'mode-showall') {\n        _sliderClipper.children().eq(currNr).addClass('transitioning-out');\n        _audioplayerToBeActive.removeClass('transitioning-out-complete');\n        _audioplayerToBeActive.addClass('transitioning-in');\n        setTimeout((_arg)=>{\n          _arg.addClass('transitioning-out-complete')\n        },Constants.PLAYLIST_TRANSITION_DURATION, _sliderClipper.children().eq(currNr));\n\n        if (_audioplayerToBeActive.attr('data-type') != 'link') {\n          if (margs.ignore_linking == false && o.settings_enable_linking == 'on') {\n            var stateObj = {foo: \"bar\"};\n            history.pushState(stateObj, null, dzsapHelpers.add_query_arg(window.location.href, 'audiogallery_startitem_' + cid, (newCurrNr)));\n          }\n        }\n\n        if (o.playlistTransition == 'fade') {\n          setTimeout(transition_end, Constants.PLAYLIST_TRANSITION_DURATION, newCurrNr);\n          busy = true;\n        }\n        if (o.playlistTransition == 'direct') {\n          transition_end(newCurrNr);\n        }\n      }\n\n      _audioplayerToBeActive.addClass('active active-from-gallery');\n      _navClipper.children().eq(newCurrNr).addClass('active active-from-gallery');\n\n      // -- background parent\n\n      // console.log('_audioplayerToBeActive - ',_audioplayerToBeActive);\n\n\n      var bgimage = '';\n\n      if (_audioplayerToBeActive.attr(\"data-bgimage\")) {\n        bgimage = _audioplayerToBeActive.attr(\"data-bgimage\");\n      }\n\n      if (_audioplayerToBeActive.attr(\"data-wrapper-image\")) {\n        bgimage = _audioplayerToBeActive.attr(\"data-wrapper-image\");\n      }\n\n\n      if (bgimage && cgallery.parent().hasClass('ap-wrapper') && cgallery.parent().children('.the-bg').length > 0) {\n\n        // console.warn(\"ENTER HIER\");\n        cgallery.parent().children('.the-bg').eq(0).after('<div class=\"the-bg\" style=\"background-image: url(' + bgimage + ');\"></div>')\n        cgallery.parent().children('.the-bg').eq(0).css({\n          'opacity': 1\n        })\n\n\n        cgallery.parent().children('.the-bg').eq(1).css({\n          'opacity': 0\n        })\n        cgallery.parent().children('.the-bg').eq(1).animate({\n          'opacity': 1\n        }, {\n          queue: false,\n          duration: 1000,\n          complete: transition_bg_end,\n          step: function () {\n            busy = true;\n          }\n        })\n        busy = true;\n      }\n\n\n      //console.log('set currNr', currNr, o.settings_mode);\n\n      if (o.settings_mode != 'mode-showall') {\n\n        currNr = newCurrNr;\n\n        cgallery.data('currNr', currNr);\n      }\n\n\n      //console.log('_sliderClipper.children().eq(currNr) - ',_sliderClipper.children().eq(currNr));\n      if (_sliderClipper.children().eq(currNr).get(0) && _sliderClipper.children().eq(currNr).get(0).api_handleResize && _sliderClipper.children().eq(currNr).hasClass('media-setuped')) {\n\n\n        //console.log('_sliderClipper.children().eq(currNr) - ',_sliderClipper.children().eq(currNr));\n        _sliderClipper.children().eq(currNr).get(0).api_handleResize();\n      }\n\n      calculateDims();\n    }\n\n    function init_player_from_gallery(_cache, pargs) {\n\n      var player_args = $.extend({}, o.settings_ap);\n\n\n      if (pargs) {\n        player_args = $.extend(player_args, pargs);\n      }\n\n      // console.log('init_player_from_gallery',margs_player);\n      // console.log('currNr_last_vol', currNr_last_vol);\n\n      if (_cache.hasClass('audioplayer-tobe')) {\n        o.settings_ap.call_from = 'init player from gallery';\n        // console.log('player_args - ', player_args);\n        _cache.audioplayer(player_args);\n      }\n    }\n  }\n}\n\nexports.registerToJquery = function ($) {\n  $.fn.audiogallery = function (argOptions) {\n    var finalOptions = {};\n    var defaultOptions = require('../configs/_settingsPlaylist').default_opts;\n    finalOptions = dzsapHelpers.convertPluginOptionsToFinalOptions(this, defaultOptions, argOptions);\n\n\n\n    this.each(function () {\n\n      var _ag = new DzsApPlaylist(this, finalOptions, $);\n\n      // console.log('this playlist -2 ', this);\n      this.linkedClassInstance = _ag;\n    });\n  }\n\n}\n","const dzsapHelpers = require('../_dzsap_helpers');\nconst dzsapAjax = require('../_dzsap_ajax');\n\nexports.ZoomSoundsNav = class{\n\n  constructor(parentGallery) {\n    this.parentGallery = parentGallery;\n\n    this.structZoomsoundsNav = '';\n    this._navMain = null;\n    this._navClipper = null;\n    this.cgallery = null;\n\n    this.size_navMainClipSize = null;\n    this.size_navMainTotalSize = null;\n    this.finish_viy = 0;\n\n    this.init();\n\n\n  }\n\n  init(){\n\n    var selfGallery = this.parentGallery;\n\n    this.structZoomsoundsNav = '<div class=\"nav-main zoomsounds-nav ' + selfGallery.initOptions.design_skin + ' navigation-method-' + selfGallery.initOptions.navigation_method + '\"><div class=\"nav-clipper\"></div></div>';\n\n\n\n    // -- let us do some sanitize\n    if(this.parentGallery.initOptions.navigation_method==='full'){\n      this.parentGallery.initOptions.design_menu_height = 'auto';\n    }\n\n  }\n\n  get_structZoomsoundsNav(){\n    return this.structZoomsoundsNav;\n  }\n  set_elements(_navMain, _navClipper, cgallery){\n    this._navMain = _navMain;\n    this._navClipper = _navClipper;\n    this.cgallery = cgallery;\n  }\n\n  calculateDims(){\n\n    this.size_navMainClipSize = this._navMain.height();\n    this.size_navMainTotalSize = this._navClipper.outerHeight();\n\n    const self = this;\n\n    if(this.parentGallery.initOptions.navigation_method==='mouseover'){\n\n      // console.log('this.size_navMainTotalSize - ' ,this.size_navMainTotalSize, 'this.size_navMainClipSize - ', this.size_navMainClipSize)\n\n      if (this.size_navMainTotalSize > this.size_navMainClipSize && this.size_navMainClipSize > 0) {\n        this._navMain.unbind('mousemove', navMain_mousemove);\n        this._navMain.bind('mousemove', navMain_mousemove);\n      } else {\n        this._navMain.unbind('mousemove', navMain_mousemove);\n      }\n    }\n\n    function navMain_mousemove(e) {\n      // console.log(this, e);\n      var aux_error = 20; //==erroring for the menu scroll\n      var $ = jQuery;\n      var _t = $(this);\n      var mx = e.pageX - _t.offset().left;\n      var my = e.pageY - _t.offset().top;\n\n      // console.log('navMain_mousemove', nm_maindim, nc_maindim, nm_maindim <= nc_maindim);\n      if (self.size_navMainTotalSize <= self.size_navMainClipSize) {\n        return;\n      }\n\n      self.size_navMainClipSize = self._navMain.outerHeight();\n\n      //console.log(mx);\n\n      var vix = 0;\n      var viy = 0;\n\n      viy = (my / self.size_navMainClipSize) * -(self.size_navMainTotalSize - self.size_navMainClipSize + 10 + aux_error * 2) + aux_error;\n      //console.log(viy);\n      if (viy > 0) {\n        viy = 0;\n      }\n      if (viy < -(self.size_navMainTotalSize - self.size_navMainClipSize + 10)) {\n        viy = -(self.size_navMainTotalSize - self.size_navMainClipSize + 10);\n      }\n\n      self.finish_viy = viy;\n\n      // console.log(viy, nm_maindim, nc_maindim, (my / nc_maindim))\n\n      // console.log('self.parentGallery.initOptions - ' ,self.parentGallery.initOptions);\n      if (dzsapHelpers.is_ios() == false && dzsapHelpers.is_android() == false) {\n        if (self.parentGallery.initOptions.enable_easing != 'on') {\n          // console.log('self._navClipper -', self._navClipper);\n          self._navClipper.css({\n            'transform': 'translateY(' + self.finish_viy + 'px)'\n          });\n        }\n      }\n\n\n    }\n\n  }\n\n\n\n  init_ready(){\n    // -- this._navMain has been set\n    // console.log(this);\n\n    const self = this;\n    var selfGallery = this.parentGallery;\n\n    if (selfGallery.initOptions.disable_menu_navigation == 'on') {\n      this._navMain.hide();\n    }\n\n    //                console.log(o.design_menu_height, o.design_menu_state);\n    this._navMain.css({\n      'height': selfGallery.initOptions.design_menu_height\n    })\n\n    if (dzsapHelpers.is_ios() || dzsapHelpers.is_android()) {\n      this._navMain.css({\n        'overflow': 'auto'\n      })\n    }\n\n\n    if (selfGallery.initOptions.design_menu_state == 'closed') {\n      this._navMain.css({\n        'height': 0\n      })\n      this.cgallery.removeClass('menu-opened');\n      this.cgallery.addClass('menu-closed');\n    } else {\n      this.cgallery.addClass('menu-opened');\n      this.cgallery.removeClass('menu-closed');\n    }\n\n\n\n    this._navClipper.on('click', '.menu-btn-like,.menu-facebook-share', click_menuitem);\n    this._navClipper.on('click', '.menu-item', click_menuitem);\n\n\n\n    function click_menuitem(e) {\n      var _t = jQuery(this);\n\n      if (e.type == 'click') {\n        if (_t.hasClass('menu-item')) {\n          var ind = _t.parent().children().index(_t);\n\n          selfGallery.goto_item(ind);\n        }\n        if (_t.hasClass('menu-btn-like')) {\n\n\n          if (_t.parent().parent().attr('data-playerid')) {\n            (dzsapAjax.ajax_submit_like.bind(selfGallery))(1, _t.parent().parent().attr('data-playerid'), {\n              refferer: _t\n            });\n          }\n\n          //console.log(_t);\n          return false;\n        }\n        if (_t.hasClass('menu-facebook-share')) {\n          if (_t.parent().parent().attr('data-playerid')) {\n            (dzsapAjax.ajax_submit_like.bind(selfGallery))(1, _t.parent().parent().attr('data-playerid'), {\n              refferer: _t\n            });\n          }\n\n          //console.log(_t);\n          return false;\n        }\n      }\n\n    }\n\n\n\n  }\n\n  toggle_menu_state(){\n\n    const self = this;\n\n    if (this._navMain.height() == 0) {\n      this._navMain.css({\n        'height': this.parentGallery.initOptions.design_menu_height\n      })\n\n\n      this.cgallery.removeClass('menu-closed');\n      this.cgallery.addClass('menu-opened');\n    } else {\n\n      this._navMain.css({\n        'height': 0\n      })\n      this.cgallery.removeClass('menu-opened');\n      this.cgallery.addClass('menu-closed');\n    }\n    setTimeout(function () {\n      self.parentGallery.handleResize();\n    }, 400); // -- animation delay\n\n  }\n  parseTrackData(track_data){\n    var foundnr = 0;\n    var self = this;\n    this._navMain.find('.menu-item-views').each(function () {\n      var _t2 = $(this);\n\n      var aux_html = _t2.html();\n\n      var reg_findid = /{{views_(.*?)}}/g;\n\n\n      var aux = reg_findid.exec(aux_html);\n\n      //console.log(aux);\n\n      var id = '';\n      if (aux && aux[1]) {\n\n        id = aux[1];\n\n        for (var i in track_data) {\n\n          //console.log(id, track_data[i].views, aux[0])\n\n          if (id == track_data[i].label || id == 'ap' + track_data[i].label) {\n            aux_html = aux_html.replace(aux[0], track_data[i].views);\n            foundnr++;\n            break;\n          }\n        }\n\n\n        _t2.html(aux_html);\n\n      }\n\n\n    })\n\n    if (foundnr < track_data.length) {\n\n      self._navMain.find('.menu-item-views').each(function () {\n\n        var _t2 = $(this);\n\n        var aux_html = _t2.html();\n        var reg_findid = /{{views_(.*?)}}/g;\n\n        var aux = reg_findid.exec(aux_html);\n\n        if (aux && aux[0]) {\n\n          aux_html = aux_html.replace(aux[0], 0);\n          _t2.html(aux_html);\n        }\n\n      })\n    }\n\n\n  }\n}\n","exports.default_opts = {\n  design_skin: 'skin-default', // -- \"skin-default\" or \"skin-aura\" or \"skin-wave\"\n  cueFirstMedia: 'on', // -- preload the mp3 to the first item\n  autoplay: 'off', // -- autoplay the first item\n  autoplayNext: 'on', // -- autoplay items after the first item\n  settings_enable_linking: 'off',  // -- use html5 history to remember last position in the gallery\n\n  design_menu_position: 'bottom',\n  navigation_method: 'mouseover', // -- 'mouseover', 'full', 'legacyscroll' or 'dzsscroll'\n  design_menu_state: 'open',  // -- options are \"open\" or \"closed\", this sets the initial state of the menu, even if the initial state is \"closed\", it can still be opened by a button if you set design_menu_show_player_state_button to \"on\"\n  design_menu_show_player_state_button: 'off' // -- show a button that allows to hide or show the menu\n  , design_menu_width: 'default'\n  , design_menu_height: '200'\n  , design_menu_space: 'default'\n  , settings_php_handler: '', // -- link to publisher.php ( auto assigned in wordpress to admin-ajax.php )\n  design_menuitem_width: 'default',\n  design_menuitem_height: 'default',\n  design_menuitem_space: 'default'\n  , force_autoplay_when_coming_from_share_link: 'off', // -- deprecated / does not really work - new autoplay policy\n  disable_menu_navigation: 'off'\n  , loop_playlist: 'on'\n  , menu_facebook_share: 'auto' // -- mousemove or scroller or all\n  , enable_easing: 'off' // -- enable easing for menu animation\n  , settings_ap: 'default'\n  , playlistTransition: 'fade' // -- fade or direct\n  , embedded: 'off'\n  , mode_showall_layout: 'one-per-row' // or two-per-row or three-per-row\n  , settings_mode: 'mode-normal' // -- mode-normal or mode-showall\n  , settings_mode_showall_show_number: 'on' // mode-normal or mode-showall\n  , mode_normal_video_mode: 'auto' // -- auto or \"one\" ( only one audio player )\n\n};\n\n","exports.retrieve_soundcloud_url =  function (selfClass, pargs) {\n\n\n  var o = selfClass.initOptions;\n  console.log(' ooo - ', o);\n  if (o.soundcloud_apikey == '') {\n    alert('soundcloud api key not defined, read docs!');\n  }\n  var aux = 'http://api.' + 'soundcloud.com' + '/resolve?url=' + selfClass.data_source + '&format=json&consumer_key=' + o.soundcloud_apikey;\n  //console.log(aux);\n\n\n  aux = encodeURIComponent(aux);\n\n\n  var soundcloud_retriever = o.php_retriever + '?scurl=' + aux;\n\n\n  $.ajax({\n    type: \"GET\",\n    url: soundcloud_retriever\n    , data: {}\n    , async: true\n    , dataType: 'text'\n    , error: function (err, q, t) {\n\n      console.log('retried soundcloud error', err, q, t);\n    }\n    , success: function (response) {\n\n      // console.log('got response - ', response);\n      var data = [];\n\n\n      try {\n        var data = JSON.parse(response);\n        // console.log('got json - ', data);\n        selfClass.audioType = 'selfHosted';\n\n\n        if (data == '') {\n          selfClass.cthis.addClass('errored-out');\n          selfClass.cthis.append('<div class=\"feedback-text\">soundcloud track does not seem to serve via api</div>');\n        }\n\n\n        //console.log('o.design_skin - ', o.design_skin);\n        selfClass.original_real_mp3 = selfClass.cthis.attr('data-source');\n        if (data.stream_url) {\n\n          selfClass.cthis.attr('data-source', data.stream_url + '?consumer_key=' + o.soundcloud_apikey + '&origin=localhost');\n\n\n          if (selfClass.feed_fakeButton) {\n            selfClass.feed_fakeButton.attr('data-source', selfClass.cthis.attr('data-source'));\n          }\n          if (selfClass._sourcePlayer) {\n            selfClass._sourcePlayer.attr('data-source', selfClass.cthis.attr('data-source'));\n          }\n        } else {\n\n          selfClass.cthis.addClass('errored-out');\n          selfClass.cthis.append('<div class=\"feedback-text \">this soundcloud track does not allow streaming  </div>');\n        }\n        selfClass.src_real_mp3 = selfClass.cthis.attr('data-source');\n\n\n        if (selfClass.cthis.attr('data-pcm')) {\n\n\n          selfClass.isRealPcm = true;\n        }\n        if (o.design_skin == 'skin-wave') {\n          if (o.skinwave_wave_mode == 'canvas') {\n            if (selfClass.isRealPcm == false) {\n              if ((o.pcm_data_try_to_generate == 'on' && o.pcm_data_try_to_generate_wait_for_real_pcm == 'on') == false) {\n                dzsapWaveFunctions.scrubModeWave__initGenerateWaveData(selfClass, {\n                  'call_from': 'soundcloud init(), pcm not real..'\n                });\n              }\n            }\n          }\n        }\n\n\n        //                        if(window.console) { console.log(data); };\n\n        if (o.cue == 'on' || selfClass._sourcePlayer || selfClass.feed_fakeButton) {\n\n          // console.log(\"SETUPING MEDIA\")\n          setup_media({\n            'called_from': 'retrieve_soundcloud_url'\n          });\n\n\n          setTimeout(function () {\n\n            // console.log('selfClass.isPlayPromised -3 ',selfClass.isPlayPromised);\n            if (selfClass.isPlayPromised) {\n              play_media({\n                'call_from': 'retrieve_soundcloud_url'\n              })\n              selfClass.isPlayPromised = false;\n            }\n          }, 300);\n\n\n        }\n      } catch (err) {\n        console.log('soduncloud parse error -', response, ' - ', soundcloud_retriever);\n      }\n    }\n  });\n\n}\n","const dzsapSvgs = require('../_dzsap_svgs');\n\nconst dzsapHelpers = require('../_dzsap_helpers');\n\n/**\n * setup player structure\n * @param selfClass\n * @param pargs\n * @returns {boolean}\n */\nexports.setup_structure = function (selfClass, pargs) {\n\n// -- setup structure here\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n\n  var margs = {\n    'setup_inner_player': true\n    , 'setup_media': true\n    , 'setup_otherstructure': true\n    , 'call_from': \"default\"\n\n\n  }\n\n\n  if (pargs) {\n    margs = $.extend(margs, pargs);\n  }\n\n// console.log('%c .setup_structure', 'color: #da23da', margs);\n\n\n  if (margs.call_from === 'reconstruct') {\n    if (selfClass._metaArtistCon) {\n\n      //selfClass._metaArtistCon.remove();\n    }\n\n\n    selfClass._metaArtistCon = null;\n    if (selfClass.cthis.hasClass('skin-wave')) {\n      o.design_skin = 'skin-wave';\n    }\n    if (selfClass.cthis.hasClass('skin-silver')) {\n      o.design_skin = 'skin-silver';\n    }\n  }\n\n\n  var structure_str_apControls = '<div class=\"ap-controls';\n  // console.log('o.design_skin -' , o.design_skin);\n  if (o.design_skin === 'skin-default') {\n    structure_str_apControls += ' dzsap-color_inverse_ui_fill';\n  }\n  structure_str_apControls += '\"></div>'\n\n  if (margs.setup_inner_player) {\n    selfClass.cthis.append('<div class=\"audioplayer-inner\"></div>');\n    selfClass._audioplayerInner = selfClass.cthis.children('.audioplayer-inner');\n  }\n\n  if (margs.setup_media) {\n    selfClass._audioplayerInner.append('<div class=\"the-media\"></div>');\n    selfClass.$theMedia = selfClass._audioplayerInner.children('.the-media').eq(0);\n  }\n\n  // -- end setup inner\n\n\n  if (!margs.setup_otherstructure) {\n    return false;\n  }\n\n  if (o.design_skin !== 'skin-customcontrols') {\n    selfClass._audioplayerInner.append(structure_str_apControls);\n  }\n  selfClass._apControls = selfClass._audioplayerInner.children('.ap-controls').eq(0);\n\n\n  if (selfClass.cthis.attr('data-wrapper-image')) {\n    var img = new Image();\n\n\n    if (selfClass.cthis.hasClass('zoomsounds-no-wrapper') === false) {\n\n      img.onload = function () {\n        // console.log('image loaded', this, this.src);\n\n\n        selfClass.cthis.css('background-image', 'url(' + this.src + ')');\n        // selfClass._audioplayerInner.prepend('<div class=\"zoomsounds-bg\" style=\"background-image: url('+this.src+'); \"></div>');\n        setTimeout(function () {\n\n          selfClass.cthis.find('.zoomsounds-bg').addClass('loaded');\n\n\n          if (selfClass.cthis.hasClass('zoomsounds-wrapper-bg-bellow')) {\n\n            selfClass.cthis.css('padding-top', 200);\n          }\n        }, 100);\n      }\n\n      img.src = selfClass.cthis.attr('data-wrapper-image');\n    }\n\n  }\n\n\n  var structure_str_scrubbar = '<div class=\"scrubbar\">';\n  var aux_str_con_controls = '';\n  var aux_str_con_controls_part2 = '';\n  var aux_str_volume = '';\n  var aux_str_time = '';\n\n\n  structure_str_scrubbar += '<div class=\"scrub-bg\"></div><div class=\"scrub-buffer\"></div>';\n\n  structure_str_scrubbar += '<div class=\"scrub-prog';\n\n  if (o.scrubbar_type !== 'wave') {\n    structure_str_scrubbar += ' dzsap-color_brand_bg';\n  }\n\n  structure_str_scrubbar += '\"></div><div class=\"scrubBox\"></div><div class=\"scrubBox-prog\"></div><div class=\"scrubBox-hover\"></div>';\n  aux_str_time = '<div class=\"total-time\">00:00</div><div class=\"curr-time\">00:00</div>';\n\n\n  if (selfClass.sample_perc_start) {\n\n    structure_str_scrubbar += '<div class=\"sample-block-start\" style=\"width: ' + (selfClass.sample_perc_start * 100) + '%\"></div>'\n  }\n  if (selfClass.sample_perc_end) {\n\n    structure_str_scrubbar += '<div class=\"sample-block-end\" style=\"left: ' + (selfClass.sample_perc_end * 100) + '%; width: ' + (100 - (selfClass.sample_perc_end * 100)) + '%\"></div>'\n  }\n\n  structure_str_scrubbar += '</div>'; // -- end scrubbar\n\n\n  if (o.controls_external_scrubbar) {\n    structure_str_scrubbar = '';\n  }\n\n\n  var struct_con_playpause = '';\n\n\n  if (o.settings_extrahtml_before_play_pause) {\n    struct_con_playpause += o.settings_extrahtml_before_play_pause;\n\n\n  }\n// console.log(selfClass.cthis.find('.feed-dzsap-before-playpause'));\n\n  struct_con_playpause += '<div class=\"con-playpause-con\">';\n\n  if (selfClass.cthis.find('.feed-dzsap-before-playpause').length) {\n    struct_con_playpause += selfClass.cthis.find('.feed-dzsap-before-playpause').eq(0).html();\n    selfClass.cthis.find('.feed-dzsap-before-playpause').remove();\n\n  }\n\n  struct_con_playpause += '<div class=\"con-playpause';\n\n  if (selfClass.keyboard_controls.show_tooltips === 'on') {\n    struct_con_playpause += ' dzstooltip-con';\n  }\n\n  struct_con_playpause += '\">';\n  if (selfClass.keyboard_controls.show_tooltips === 'on') {\n    struct_con_playpause += dzsapHelpers.dzsap_generate_keyboard_tooltip(selfClass.keyboard_controls, 'pause_play');\n  }\n\n\n  struct_con_playpause += '<div class=\"playbtn player-but\"><div class=\"the-icon-bg\"></div><div class=\"dzsap-play-icon\">';\n  var has_svg_icons = false;\n  if (selfClass.cthis.hasClass('skin-wave') || selfClass.cthis.hasClass('skin-pro') || selfClass.cthis.hasClass('skin-silver') || selfClass.cthis.hasClass('skin-redlights') || selfClass.cthis.hasClass('skin-default')) {\n    has_svg_icons = true;\n  }\n// console.log(\"HMM dada\", selfClass.cthis);\n\n//console.log('selfClass.cthis.hasClass(\\'skin-pro\\') - ',selfClass.cthis.hasClass('skin-pro'));\n  if (has_svg_icons) {\n    // console.log(\"HMM dada2\", selfClass.cthis);\n\n\n    struct_con_playpause += dzsapSvgs.svg_play_icon;\n  }\n\n  struct_con_playpause += '</div>';\n  struct_con_playpause += '</div>'; // -- end playbtn\n\n\n  struct_con_playpause += '<div class=\"pausebtn player-but\"';\n\n\n  struct_con_playpause += '><div class=\"the-icon-bg\"></div><div class=\"pause-icon\">';\n\n\n  if (has_svg_icons) {\n    // console.log(\"HMM dada2\", selfClass.cthis);\n\n\n    struct_con_playpause += dzsapSvgs.svg_pause;\n  }\n\n\n  struct_con_playpause += '</div>';// -- end pause-icon\n  struct_con_playpause += '</div>'; // -- end pausebtn\n\n\n  struct_con_playpause += '';\n\n  if (o.design_skin === 'skin-wave') {\n    struct_con_playpause += o.skinwave_preloader_code;\n  }\n\n\n  struct_con_playpause += '</div>';\n  if (selfClass.cthis.find('.feed-dzsap-after-playpause').length) {\n    struct_con_playpause += selfClass.cthis.find('.feed-dzsap-after-playpause').eq(0).html();\n\n    selfClass.cthis.find('.feed-dzsap-after-playpause').remove();\n  }\n\n\n  struct_con_playpause += '</div>';\n\n\n// struct_con_playpause = '';\n// console.log(' - struct_con_playpause - ',struct_con_playpause);\n\n\n  aux_str_con_controls += '<div class=\"con-controls\"><div class=\"the-bg\"></div>' + struct_con_playpause;\n\n\n  if (o.settings_extrahtml_in_float_left) {\n    aux_str_con_controls += o.settings_extrahtml_in_float_left;\n  }\n\n\n//console.log(o.disable_timer, aux_str_con_controls);\n\n\n  if (o.design_skin === 'skin-pro') {\n    aux_str_con_controls += '<div class=\"con-controls--right\">';\n\n    aux_str_con_controls += '</div>';\n  }\n\n\n  var aux_str_con_volume = '<div class=\"controls-volume\"><div class=\"volumeicon\"></div><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div>';\n  if (o.disable_volume === 'on') {\n    aux_str_con_volume = '';\n  }\n\n\n  if (o.design_skin === 'skin-default' || o.design_skin === 'skin-wave') {\n\n    aux_str_con_controls += '<div class=\"ap-controls-right\">';\n    if (o.disable_volume !== 'on') {\n      aux_str_con_controls += '<div class=\"controls-volume\"><div class=\"volumeicon\"></div><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div>';\n    }\n\n\n    // console.log('aux_str_con_controls -> ',aux_str_con_controls);\n\n    aux_str_con_controls += '</div>';\n    // aux_str_con_controls += '<div class=\"clear\"></div>';\n\n\n  }\n\n  aux_str_con_controls += '</div>'; // -- end con-controls\n\n\n/// -- end STR\n\n//console.log(o.disable_timer, aux_str_con_controls);\n\n\n  if (o.design_skin === 'skin-wave' && selfClass.skinwave_mode === 'small') {\n    aux_str_con_controls = '<div class=\"the-bg\"></div><div class=\"ap-controls-left\">' + struct_con_playpause + '</div>' + structure_str_scrubbar + '<div class=\"ap-controls-right\">' + aux_str_con_volume + '<div class=\"extrahtml-in-float-right for-skin-wave-small\">' + selfClass.settings_extrahtml_in_float_right + '</div></div>';\n\n\n  } else {\n\n\n    // -- other skins\n\n    if (o.design_skin === 'skin-aria' || o.design_skin === 'skin-silver' || o.design_skin === 'skin-redlights' || o.design_skin === 'skin-steel') {\n\n\n\n      //o.design_skin === 'skin-redlights' ||\n      if (o.design_skin === 'skin-steel') {\n        dzsapSvgs.playbtn_svg = '';\n        dzsapSvgs.pausebtn_svg = '';\n      }\n\n      aux_str_con_controls = '<div class=\"the-bg\"></div><div class=\"ap-controls-left\">';\n\n\n      if (o.design_skin === 'skin-silver') {\n\n        aux_str_con_controls += struct_con_playpause;\n      } else {\n\n        // -- TODO: maybe convert all to struct_con_playpause\n\n\n        aux_str_con_controls += '<div class=\"con-playpause';\n\n        if (selfClass.keyboard_controls.show_tooltips === 'on') {\n          aux_str_con_controls += ' dzstooltip-con';\n        }\n\n        aux_str_con_controls += '\">';\n\n\n        if (selfClass.keyboard_controls.show_tooltips === 'on') {\n          aux_str_con_controls += dzsapHelpers.dzsap_generate_keyboard_tooltip(selfClass.keyboard_controls, 'pause_play');\n        }\n\n\n        aux_str_con_controls += '<div class=\"playbtn player-but playbtn-not-skin-silver\"><div class=\"dzsap-play-icon\">' + dzsapSvgs.playbtn_svg + '</div><div class=\"play-icon-hover\"></div></div><div class=\"pausebtn\" ';\n\n\n        // console.log('o.design_animateplaypause - ',o.design_animateplaypause);\n        if (o.design_animateplaypause !== 'on') {\n          // aux_str_con_controls+=' style=\"display:none\"';\n        } else {\n          selfClass.cthis.addClass('playing-animation');\n        }\n\n        aux_str_con_controls += '><div class=\"pause-icon\">' + dzsapSvgs.pausebtn_svg + '</div><div class=\"pause-icon-hover\"></div></div></div>'; // -- enc con-playpause\n\n      }\n\n\n      // console.log('selfClass.cthis.find(\\'.feed-dzsap-after-playpause\\') - ',selfClass.cthis.find('.feed-dzsap-after-playpause'));\n      if (selfClass.cthis.find('.feed-dzsap-after-playpause').length) {\n        aux_str_con_controls += selfClass.cthis.find('.feed-dzsap-after-playpause').eq(0).html();\n\n\n        selfClass.cthis.find('.feed-dzsap-after-playpause').remove();\n      }\n\n\n      aux_str_con_controls += '</div>';\n\n\n      if (selfClass.settings_extrahtml_in_float_right) {\n        aux_str_con_controls += '<div class=\"controls-right\">' + selfClass.settings_extrahtml_in_float_right + '</div>';\n\n        //console.log(o._gall)\n        //console.log('dada');\n\n        if (o.design_skin === 'skin-redlights') {\n\n          //console.log(o.parentgallery, o.parentgallery.get(0).api_skin_redlights_give_controls_right_to_all);\n          if (o.parentgallery && o.parentgallery.get(0).api_skin_redlights_give_controls_right_to_all) {\n            o.parentgallery.get(0).api_skin_redlights_give_controls_right_to_all();\n          }\n        }\n      }\n\n      //console.log('ceva');\n\n\n      aux_str_con_controls += '<div class=\"ap-controls-right\">';\n\n      if (o.design_skin === 'skin-silver') {\n\n        aux_str_con_controls += '<div class=\"controls-volume controls-volume-vertical\"><div class=\"volumeicon\"></div><div class=\"volume-holder\"><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div></div>';\n\n\n        aux_str_con_controls += '</div>' + structure_str_scrubbar;\n      } else {\n\n\n        if (o.design_skin === 'skin-redlights') {\n\n          if (o.disable_volume != 'on') {\n            aux_str_con_controls += '<div class=\"controls-volume\"><div class=\"volumeicon\"></div><div class=\"volume_static\">' + dzsapSvgs.svg_volume_static + '</div><div class=\"volume_active\">' + dzsapSvgs.svg_volume + '</div><div class=\"volume_cut\"></div></div>';\n          }\n        }\n\n        aux_str_con_controls += structure_str_scrubbar;\n\n\n        if (o.disable_timer != 'on') {\n          aux_str_con_controls += '<div class=\"total-time\">00:00</div>';\n        }\n      }\n\n\n      if (o.design_skin === 'skin-silver') {\n\n      } else {\n        aux_str_con_controls += '</div>';\n      }\n\n\n    }\n\n\n  }\n\n\n  var settings_extrahtml_in_float_right_str = '';\n// console.log('settings_extrahtml_in_float_right - ',settings_extrahtml_in_float_right);\n  if (selfClass.settings_extrahtml_in_float_right) {\n    // aux_str_con_controls += ;\n\n    if (String(selfClass.settings_extrahtml_in_float_right).indexOf('dzsap-multisharer-but') > -1) {\n      selfClass.isMultiSharer = true;\n    }\n\n\n    // console.log('%c selfClass.settings_extrahtml_in_float_right -3 [', 'color:#da21dd', selfClass.settings_extrahtml_in_float_right);\n    if (o.design_skin === 'skin-wave' && selfClass.skinwave_mode === 'small') {\n\n    } else {\n\n      settings_extrahtml_in_float_right_str += '<div class=\"extrahtml-in-float-right from-setup_structure from-js-setup_structure\">' + selfClass.settings_extrahtml_in_float_right + '</div>';\n    }\n\n\n  }\n\n\n// -- end strings\n// --------------\n\n\n  selfClass._apControls.append(aux_str_con_controls);\n\n\n  if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n    if (selfClass.cthis.find('.scrubbar').length === 0) {\n      selfClass._apControls.append(structure_str_scrubbar);\n    }\n  } else {\n    if (selfClass.cthis.find('.scrubbar').length === 0) {\n      selfClass._apControls.prepend(structure_str_scrubbar);\n    }\n  }\n\n\n  selfClass._apControlsRight = null;\n\n  if (selfClass._apControls.find('.ap-controls-right').length > 0) {\n    selfClass._apControlsRight = selfClass.cthis.find('.ap-controls-right');\n  }\n  if (selfClass._apControls.find('.ap-controls-left').length > 0) {\n    selfClass._apControlsLeft = selfClass._apControls.find('.ap-controls-left').eq(0);\n  }\n\n\n  if (o.design_skin === 'skin-pro') {\n    selfClass._apControlsRight = selfClass.cthis.find('.con-controls--right').eq(0)\n  }\n\n\n// console.log('settings_extrahtml_in_float_right - ',settings_extrahtml_in_float_right);\n  if (selfClass.settings_extrahtml_in_float_right) {\n    // aux_str_con_controls += ;\n\n    if (settings_extrahtml_in_float_right_str) {\n\n      if (o.design_skin === 'skin-wave' || o.design_skin === 'skin-default') {\n\n        selfClass.cthis.find('.ap-controls-right').eq(0).append(settings_extrahtml_in_float_right_str);\n        // console.log('selfClass.cthis.find(\\'.ap-controls-right\\') - ', selfClass.cthis.find('.ap-controls-right'));\n      }\n      if (o.design_skin === 'skin-pro') {\n\n        selfClass.cthis.find('.con-controls--right').eq(0).append(settings_extrahtml_in_float_right_str);\n        // console.log('selfClass.cthis.find(\\'.ap-controls-right\\') - ', selfClass.cthis.find('.ap-controls-right'));\n      }\n    }\n  }\n\n\n// -- Todo: if we have footer, playlist btn we can place it in ap-controls-right\n\n  if (selfClass.cthis.find('.feed-dzsap-after-con-controls').length) {\n    selfClass._apControls.append(selfClass.cthis.find('.feed-dzsap-after-con-controls').eq(0).html());\n\n\n    selfClass.cthis.find('.feed-dzsap-after-con-controls').remove();\n  }\n\n\n  if (o.controls_external_scrubbar) {\n    selfClass._scrubbar = $(o.controls_external_scrubbar).children('.scrubbar').eq(0);\n  } else {\n    selfClass._scrubbar = selfClass._apControls.find('.scrubbar').eq(0);\n  }\n// console.info('_scrubbar - ' ,_scrubbar, o);\n\n\n  selfClass.$$scrubbProg = selfClass._scrubbar.find('.scrub-prog').get(0);\n\n\n  selfClass.$conControls = selfClass._apControls.children('.con-controls');\n  selfClass.$conPlayPause = selfClass.cthis.find('.con-playpause').eq(0);\n  selfClass._conPlayPauseCon = selfClass.cthis.find('.con-playpause-con').eq(0);\n  selfClass.$controlsVolume = selfClass.cthis.find('.controls-volume').eq(0);\n\n\n  (dzsapHelpers.player_constructArtistAndSongCon.bind(selfClass))(margs);\n\n\n  if (o.design_skin === 'skin-wave' && o.disable_timer != 'on') {\n    // -- no sense in adding time if external\n    if (o.controls_external_scrubbar === '') {\n      selfClass._scrubbar.append(aux_str_time);\n    }\n  }\n\n\n  if (o.design_skin != 'skin-wave' && o.disable_timer != 'on') {\n    // aux_str_con_controls += '<div class=\"curr-time\">00:00</div><div class=\"total-time\">00:00</div>';\n\n    // -- all skins\n    selfClass._apControls.append(aux_str_time);\n  }\n\n\n// -- end structure\n\n\n// -- start assocations\n  if (o.disable_timer != 'on') {\n    selfClass.$currTime = selfClass.cthis.find('.curr-time').eq(0);\n    selfClass.$totalTime = selfClass.cthis.find('.total-time').eq(0);\n\n    if (o.design_skin === 'skin-steel') {\n      if (selfClass.$currTime.length === 0) {\n        selfClass.$totalTime.before('<div class=\"curr-time\">00:00</div> <span class=\"separator-slash\">/</span> ');\n        //console.log('WHAT WHAT IN THE BUTT', _totalTime, _totalTime.prev(),  selfClass.cthis.find('.curr-time'));\n\n        selfClass.$currTime = selfClass.$totalTime.prev().prev();\n\n      }\n    }\n\n    //console.log(_currTime, _totalTime);\n  }\n\n\n  if (Number(o.sample_time_total) > 0) {\n\n    selfClass.timeTotal = Number(o.sample_time_total);\n\n    console.log(selfClass.$currTime, selfClass.timeTotal);\n    if (selfClass.$totalTime) {\n\n      // console.error(\"ENTER HERE\");\n      selfClass.$totalTime.html(dzsapHelpers.formatTime(selfClass.time_total_for_visual));\n    }\n\n    //console.log(_totalTime.html());\n\n    //return false;\n  }\n\n\n  selfClass.struct_generate_thumb();\n\n\n  if (o.design_skin === 'skin-wave' && o.parentgallery && typeof (o.parentgallery) != 'undefined' && o.design_menu_show_player_state_button === 'on') {\n    if (o.design_skin === 'skin-wave') {\n      if (selfClass._apControlsRight) {\n\n        selfClass._apControlsRight.appendOnce('<div class=\"btn-menu-state player-but\"> <div class=\"the-icon-bg\"></div> ' + dzsapSvgs.svg_menu_state + '    </div></div>');\n      } else {\n        console.log('selfClass._apControlsRight not found ? ');\n      }\n    } else {\n      selfClass._audioplayerInner.appendOnce('<div class=\"btn-menu-state\"></div>');\n    }\n  }\n// console.log(_controlsVolume,_theThumbCon , o.skinwave_place_thumb_after_volume);\n  if (o.skinwave_place_metaartist_after_volume === 'on') {\n\n    _controlsVolume.before(selfClass._metaArtistCon);\n  }\n\n\n  if (o.settings_extrahtml_after_artist) {\n    selfClass._metaArtistCon.find('.the-artist').append(o.settings_extrahtml_after_artist);\n  }\n\n  if (o.skinwave_place_thumb_after_volume === 'on') {\n\n    selfClass.$controlsVolume.before(selfClass.cthis.find('.the-thumb-con'));\n  }\n//                console.log(o.embed_code);\n\n\n  if (o.design_skin === 'skin-wave') {\n\n\n    // -- structure setup\n\n    selfClass.setup_structure_scrub();\n\n\n    if (o.skinwave_timer_static === 'on') {\n      if (selfClass.$currTime) {\n        selfClass.$currTime.addClass('static');\n      }\n      if (selfClass.$totalTime) {\n        selfClass.$totalTime.addClass('static');\n      }\n    }\n\n\n    selfClass._apControls.css({\n      //'height': design_thumbh\n    })\n\n\n    //console.log('setup_lsiteners()');\n\n    // console.log(\"PREPARE SCRUBBAR LOADED\");\n    if (o.skinwave_wave_mode === 'canvas') {\n\n      setTimeout(function () {\n        selfClass.cthis.addClass('scrubbar-loaded');\n        selfClass._scrubbar.parent().addClass('scrubbar-loaded');\n\n\n        // console.log(\" SCRUBBAR  is LOADED\",selfClass._scrubbar);\n      }, 700); // -- tbc\n\n    }\n\n  }\n// --- END skin-wave\n\n\n  selfClass.check_multisharer();\n\n  if (selfClass.cthis.hasClass('skin-minimal')) {\n    // -- here is skin-minimal\n\n    selfClass.cthis.find('.the-bg').before('<div class=\"skin-minimal-bg skin-minimal--outer-bg\"></div><div class=\"skin-minimal-bg skin-minimal--inner-bg-under\"></div><div class=\"skin-minimal-bg skin-minimal--inner-bg\"></div><div class=\"skin-minimal-bg skin-minimal--inner-inner-bg\"></div>')\n    selfClass.cthis.find('.the-bg').append('<canvas width=\"100\" height=\"100\" class=\"playbtn-canvas\"/>')\n    selfClass.skin_minimal_canvasplay = selfClass.cthis.find('.playbtn-canvas').eq(0).get(0);\n\n    if(selfClass.$conPlayPause){\n\n      selfClass.$conPlayPause.children('.playbtn').append(dzsapSvgs.playbtn_svg);\n      selfClass.$conPlayPause.children('.pausebtn').append(dzsapSvgs.pausebtn_svg);\n    }\n\n    setTimeout(function () {\n      selfClass.isCanvasFirstDrawn = false;\n    }, 200);\n  }\n\n\n  if (selfClass.cthis.hasClass('skin-minion')) {\n    if (selfClass.cthis.find('.menu-description').length > 0) {\n      //console.log('ceva');\n      selfClass.$conPlayPause.addClass('with-tooltip');\n      selfClass.$conPlayPause.prepend('<span class=\"dzstooltip\" style=\"left:-7px;\">' + selfClass.cthis.find('.menu-description').html() + '</span>');\n      selfClass.$conPlayPause.children('span').eq(0).css('width', selfClass.$conPlayPause.children('span').eq(0).textWidth() + 10);\n    }\n  }\n\n\n//console.log('o.player_navigation - ',o.player_navigation,o.parentgallery);\n\n\n  if (o.player_navigation === 'default') {\n\n    if (o.parentgallery) {\n\n      o.player_navigation = 'on';\n    }\n\n\n    if (o.parentgallery && o.parentgallery.hasClass('mode-showall')) {\n      o.player_navigation = 'off';\n    }\n  }\n\n  if (o.disable_player_navigation === 'on') {\n\n    o.player_navigation = 'off';\n  }\n\n  if (o.player_navigation === 'default') {\n\n    o.player_navigation = 'off';\n  }\n\n\n// console.log('o.player_navigation - ',o.player_navigation);\n\n\n  if (o.player_navigation === 'on') {\n\n    var prev_btn_str = '<div class=\"prev-btn player-but\"><div class=\"the-icon-bg\"></div>' + dzsapSvgs.svg_prev_btn + ' </div>';\n\n    var next_btn_str = '<div class=\"next-btn player-but\"><div class=\"the-icon-bg\"></div>' + dzsapSvgs.svg_next_btn + '  </div>';\n\n    if (o.design_skin === 'skin-steel') {\n\n      prev_btn_str = '<div class=\"prev-btn player-but\">' + dzsapSvgs.svg_prev_btn_steel + '</div>';\n\n\n      next_btn_str = '<div class=\"next-btn player-but\">' + dzsapSvgs.svg_next_btn_steel + '</div>';\n\n    }\n\n\n    var auxs = prev_btn_str + next_btn_str;\n\n\n    //console.log(o.parentgallery);\n\n\n    // console.log(o.design_skin, selfClass.skinwave_mode);\n\n    // -- create player navigation here\n    if ((o.design_skin === 'skin-wave' && selfClass.skinwave_mode === 'small') || o.design_skin === 'skin-aria') {\n\n\n      selfClass.$conPlayPause.before(prev_btn_str)\n      selfClass.$conPlayPause.after(next_btn_str)\n\n\n    } else {\n      if (o.design_skin === 'skin-wave') {\n\n        // _conPlayPause.after(auxs);\n\n        // console.log('o.player_navigation - ',o.player_navigation);\n\n\n        if (o.player_navigation === 'on') {\n\n          selfClass._conPlayPauseCon.prependOnce(prev_btn_str, '.prev-btn');\n          selfClass._conPlayPauseCon.appendOnce(next_btn_str, '.next-btn');\n        }\n\n      } else if (o.design_skin === 'skin-steel') {\n\n        selfClass._apControlsLeft.prependOnce(prev_btn_str, '.prev-btn');\n\n        if (selfClass._apControlsLeft.children('.the-thumb-con').length > 0) {\n          //console.log(_theThumbCon.prev());\n\n          if (selfClass._apControlsLeft.children('.the-thumb-con').eq(0).length > 0) {\n            if (selfClass._apControlsLeft.children('.the-thumb-con').eq(0).prev().hasClass('next-btn') === false) {\n              selfClass._apControlsLeft.children('.the-thumb-con').eq(0).before(next_btn_str);\n            }\n          }\n\n        } else {\n\n          selfClass._apControlsLeft.appendOnce(next_btn_str, '.next-btn');\n        }\n      } else {\n\n        selfClass._audioplayerInner.appendOnce(auxs, '.prev-btn');\n      }\n    }\n\n\n    // console.log(\"SETUPED PLAYER NAVIGATION yes ;) \");\n\n  }\n\n\n//console.log(o.settings_extrahtml);\n\n\n  if (selfClass.cthis.find('.extra-html-extra').length) {\n    if (o.settings_extrahtml === '') {\n\n      o.settings_extrahtml = ' ';\n    }\n    var _c_html = selfClass.cthis.find('.extra-html-extra').eq(0).html();\n\n    if (_c_html.length) {\n      o.settings_extrahtml = _c_html;\n      selfClass.cthis.find('.extra-html-extra').eq(0).html('');\n    }\n  }\n\n\n  if (selfClass.cthis.hasClass('skinvariation-wave-bigtitles')) {\n\n    if (selfClass.cthis.find('.controls-volume').length && selfClass._metaArtistCon.find('.controls-volume').length === 0) {\n      selfClass._metaArtistCon.append('<br>');\n      selfClass._metaArtistCon.append(selfClass.cthis.find('.controls-volume'));\n    }\n\n    // selfClass.cthis.find('.scrubbar').after('<img class=\"skip-15-sec\" width=\"50\" src=\"http://i.imgur.com/oObhtLE.jpg\"/>');\n  }\n\n  if (selfClass.cthis.hasClass('skinvariation-wave-righter')) {\n\n    selfClass._apControls.appendOnce('<div class=\"playbuttons-con\"></div>');\n    var _c = selfClass.cthis.find('.playbuttons-con').eq(0);\n    _c.append(selfClass.cthis.find('.con-playpause-con'));\n\n    // selfClass.cthis.find('.scrubbar').after('<img class=\"skip-15-sec\" width=\"50\" src=\"http://i.imgur.com/oObhtLE.jpg\"/>');\n  }\n\n\n\n// -- do custom tweaks\n\n  if (o.design_skin === 'skin-pro') {\n\n    selfClass._apControlsRight.append(selfClass.$currTime);\n    selfClass._apControlsRight.append(selfClass.$totalTime);\n  }\n\n\n  if (o.design_skin === 'skin-silver') {\n    selfClass._scrubbar.after(selfClass._apControlsRight);\n    selfClass._apControlsLeft.prepend(selfClass._metaArtistCon);\n    selfClass._apControlsLeft.append(selfClass.$currTime);\n    selfClass._apControlsRight.append(selfClass.$totalTime);\n    // aux_str_con_controls += '<div class=\"curr-time\">00:00</div>';\n\n\n    // if (o.disable_timer != 'on') {\n    //   aux_str_con_controls += '<div class=\"total-time\">00:00</div>';\n    // }\n  }\n\n\n  if (o.design_skin === 'skin-redlights') {\n    selfClass._apControlsRight.append('<div class=\"ap-controls-right--top\"></div>');\n    selfClass._apControlsRight.append('<div class=\"ap-controls-right--bottom\"></div>');\n    selfClass._apControlsRight.find('.ap-controls-right--top').append(selfClass._apControlsRight.find('.meta-artist-con'));\n    selfClass._apControlsRight.find('.ap-controls-right--top').append(selfClass._apControlsRight.find('.controls-volume'));\n    selfClass._apControlsRight.find('.ap-controls-right--bottom').append(selfClass._apControlsRight.find('.scrubbar'));\n  }\n\n\n  if (margs.call_from === 'reconstruct') {\n    if (selfClass.cthis.hasClass('skin-silver')) {\n      selfClass._apControlsLeft.append(selfClass.cthis.find('.con-playpause'));\n    }\n  }\n\n\n  if (selfClass.isMultiSharer) {\n    selfClass.check_multisharer();\n  }\n// -- replaces / sanitizes here\n  selfClass.setup_structure_sanitizers();\n  selfClass.setup_structure_extras();\n\n\n  selfClass.cthis.addClass('structure-setuped');\n\n\n}\n","const dzsapHelpers = require('../_dzsap_helpers');\nconst dzsapConstants = require('../../configs/_constants').constants;\nexports.wave_mode_canvas_try_to_get_pcm = function (selfClass, pargs) {\n\n\n  var margs = {};\n\n  var $ = jQuery;\n\n  if (pargs) {\n    margs = $.extend(margs, pargs);\n  }\n  var self = this;\n\n  // console.log('this -5 ', this);\n\n  var o = selfClass.initOptions;\n\n  if (selfClass.src_real_mp3 == 'fake') {\n    return false;\n  }\n\n\n  async function tryToGetPcm() {\n\n    function tryToLoad(resolve, reject) {\n\n      if (selfClass.cthis.attr('data-pcm')) {\n\n\n      } else {\n        // -- we do not have pcm so we get it\n\n        var data = {\n          action: 'dzsap_get_pcm',\n          postdata: '1',\n          source: selfClass.cthis.attr('data-source'),\n          playerid: selfClass.identifier_pcm\n        };\n\n        if (selfClass.urlToAjaxHandler) {\n          $.ajax({\n            type: \"POST\",\n            url: selfClass.urlToAjaxHandler,\n            data: data,\n            success: function (response) {\n              if (response) {\n\n                if (response != '0' && response.indexOf(',') > -1) {\n\n                  response = response.replace(' data-pcm=\\'', '');\n                  response = response.replace('\\'', '');\n                  selfClass.cthis.attr('data-pcm', response);\n                  selfClass.isRealPcm = true;\n\n                  resolve({\n                    resolve_type: 'success'\n                  });\n\n                } else {\n                  // -- response but malformed\n                  resolve({\n                    resolve_type: 'error',\n                    error_type: 'empty_response'\n                  });\n                }\n\n                // console.log('pcm_try_to_generate - ',pcm_try_to_generate);\n              } else {\n                // -- no response\n\n                if (selfClass.initOptions.cue === 'on') {\n                  resolve({\n                    resolve_type: 'error',\n                    error_type: 'empty_response'\n                  });\n                } else {\n                  selfClass.isPcmPromisingToGenerateOnMetaLoad = true; // -- we are promising generating on meta load\n                  if (o.pcm_data_try_to_generate_wait_for_real_pcm === 'on') {\n                    var default_pcm = [];\n                    for (var i3 = 0; i3 < 200; i3++) {\n                      default_pcm[i3] = Number(Math.random()).toFixed(3);\n                    }\n                    default_pcm = JSON.stringify(default_pcm);\n                    self.scrubModeWave__transitionIn(selfClass, default_pcm);\n                    selfClass.isRealPcm = false;\n\n                    resolve({\n                      resolve_type: 'success'\n                    });\n                  }\n                }\n              }\n\n            },\n            error: function (arg) {\n              resolve({\n                resolve_type: 'error'\n              });\n            }\n          });\n        } else {\n\n        }\n      }\n    }\n\n    return new Promise((resolve, reject) => {\n      tryToLoad(resolve, reject);\n    });\n  }\n\n  try {\n    tryToGetPcm().then(r => {\n      if (r.resolve_type == 'success') {\n\n        setTimeout(function () {\n\n\n          selfClass.cthis.addClass('scrubbar-loaded');\n          selfClass.calculate_dims_time();\n          setTimeout(function () {\n\n            // calculate_dims();\n\n          }, 100);\n        }, 100);\n      }\n      if (r.resolve_type == 'error') {\n        selfClass.isPcmTryingToGenerate = true;\n        this.scrubModeWave__initGenerateWaveData(selfClass, {\n          'call_from': 'pcm_data_try_to_generate .. no get call success'\n        });\n      }\n    });\n  } catch (error) {\n\n    console.log('error - ', error);\n    // Here, `error` would be an `Error` (with stack trace, etc.).\n    // Whereas if you used `throw 400`, it would just be `400`.\n  }\n\n\n}\n\n\nexports.scrubModeWave__checkIfWeShouldTryToGetPcm = function (selfClass, pargs) {\n\n  let isWeShouldGetPcm = false;\n\n\n  if (selfClass.isPcmTryingToGenerate) {\n    return false;\n  }\n\n\n  if (selfClass.isPcmPromisingToGenerateOnMetaLoad) {\n    selfClass.isPcmTryingToGenerate = true;\n    isWeShouldGetPcm = true;\n  }\n\n  // console.log('selfClass - ', selfClass);\n  if (!(selfClass.cthis.attr('data-pcm'))) {\n    // console.log('selfClass - ', selfClass);\n\n\n    if (!selfClass.urlToAjaxHandler) {\n\n      // -- if we do not have url to ajax handler then it's clear we should generate smth..\n\n      selfClass.isPcmTryingToGenerate = true;\n      isWeShouldGetPcm = true;\n    }\n\n  }\n\n  // debugger;\n  if (isWeShouldGetPcm) {\n\n    this.scrubModeWave__initGenerateWaveData(selfClass, {\n      'call_from': 'pcm_data_try_to_generate .. no data-pcm'\n    });\n  }\n}\n/**\n * called after random\n * called on wavesurfer error / success\n * @param selfClass\n * @param argpcm\n */\nexports.scrubModeWave__transitionIn = function (selfClass, argpcm) {\n\n  //console.log('generate_wave_data_animate',cthis);\n  var o = selfClass.initOptions;\n\n\n  selfClass._scrubbar.find('.scrub-bg-img,.scrub-prog-img').removeClass('transitioning-in');\n  selfClass._scrubbar.find('.scrub-bg-img,.scrub-prog-img').addClass('transitioning-out');\n  ;\n\n  dzsapHelpers.scrubbar_modeWave_setupCanvas({\n    'prepare_for_transition_in': true\n  }, selfClass);\n\n  this.draw_canvas(selfClass._scrubbarbg_canvas.get(0), argpcm, \"#\" + o.design_wave_color_bg, {\n    call_from: 'canvas_generate_wave_data_animate_pcm_bg',\n    selfClass,\n    'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n    'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n  });\n  this.draw_canvas(selfClass._scrubbarprog_canvas.get(0), argpcm, '#' + o.design_wave_color_progress, {\n    call_from: 'canvas_generate_wave_data_animate_pcm_prog',\n    selfClass,\n    'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number),\n    'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding)\n  });\n\n\n  setTimeout(() => {\n    dzsapHelpers.scrubbar_modeWave_clearObsoleteCanvas(selfClass);\n  }, 300);\n\n  // -- warning - not always real pcm\n  selfClass.isRealPcm = true;\n  selfClass.scrubbar_reveal();\n}\n\n\nexports.scrubModeWave__initGenerateWaveData = function (selfClass, pargs) {\n\n\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n  var margs = {\n    'call_from': 'default'\n    , 'call_attempt': 0\n  };\n  var self = this;\n\n\n  if (pargs) {\n    margs = $.extend(margs, pargs);\n  }\n\n  if (selfClass.isRealPcm) {\n    return false;\n  }\n\n  if (selfClass.src_real_mp3 == 'fake') {\n    return false;\n  }\n\n\n  selfClass.isPcmTryingToGenerate = true;\n  if (selfClass.isPcmTryingToGenerate) {\n\n  } else {\n    setTimeout(function () {\n      margs.call_attempt++;\n      if (margs.call_attempt < 10) {\n        self.scrubModeWave__initGenerateWaveData(margs);\n        console.log('%c [dzsap] trying to regenerate ', dzsapConstants.DEBUG_STYLE_1);\n      }\n    }, 1000)\n    return false;\n  }\n\n\n  // console.log('scrubModeWave__initGenerateWaveData()', margs);\n\n\n  // console.log('init_generate_wave_data', selfClass.cthis.attr('data-source'));\n  if (window.WaveSurfer) {\n    // console.log('wavesurfer already loaded');\n    self.scrubModeWave__generateWaveData(selfClass, {\n      'call_from': 'wavesurfer already loaded'\n    });\n  } else {\n\n\n    if (o.pcm_notice == 'on') {\n      selfClass.cthis.addClass('errored-out');\n      selfClass.cthis.append('<div class=\"feedback-text pcm-notice\">please wait while pcm data is generated.. </div>');\n    }\n\n    asyncLoadWaveSurfer(selfClass, self).then(r => console.log('[wavesurfer] loading done', r));\n\n  }\n}\n\nasync function asyncLoadWaveSurfer(selfClass, self) {\n\n\n  var scripts = document.getElementsByTagName(\"script\");\n\n\n  var baseUrl = '';\n  for (var i23 in scripts) {\n    if (scripts[i23] && scripts[i23].src) {\n      if (scripts[i23].src.indexOf('audioplayer.js') > -1) {\n        break;\n      }\n    }\n  }\n  var baseUrl_arr = String(scripts[i23].src).split('/');\n  for (var i24 = 0; i24 < baseUrl_arr.length - 1; i24++) {\n    baseUrl += baseUrl_arr[i24] + '/';\n  }\n\n  // console.log('baseUrl -' ,baseUrl);\n  var wavesurferUrl = dzsapConstants.URL_WAVESURFER;\n  if (baseUrl) {\n    wavesurferUrl = baseUrl + 'wavesurfer.js';\n  }\n\n  var $ = jQuery;\n\n  function tryToLoad_waveSurferScript(resolve, reject) {\n\n    window.dzsap_wavesurfer_load_attempt++;\n\n    if (window.dzsap_wavesurfer_load_attempt > 2) {\n      wavesurferUrl = dzsapConstants.URL_WAVESURFER;\n    }\n    if (window.dzsap_wavesurfer_load_attempt < 6) {\n      // console.log('load wavesurfer');\n      $.ajax({\n        url: wavesurferUrl,\n        dataType: \"script\",\n        success: function (arg) {\n          //console.log(arg);\n          self.scrubModeWave__generateWaveData(selfClass, {\n            'call_from': 'load_script'\n            , 'wavesurfer_url': wavesurferUrl\n          });\n\n          resolve('done');\n        },\n        error: function (arg) {\n\n          // console.log('[wavesurfer] errored out ... ', this, arg);\n          tryToLoad_waveSurferScript(resolve, reject);\n        }\n      });\n    }\n    if (window.dzsap_wavesurfer_load_attempt > 6) {\n      reject('rejected');\n    }\n  }\n\n  let promise = new Promise((resolve, reject) => {\n    tryToLoad_waveSurferScript(resolve, reject);\n  });\n\n  let result = await promise; // wait until the promise resolves (*)\n\n  // console.log('resolved',result);\n  return result;\n\n}\n\nexports.scrubModeWave__generateWaveData = function (selfClass, pargs) {\n\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n  var margs = {\n    call_from: 'default'\n  }\n  var self = this;\n\n  if (pargs) {\n    $.extend(margs, pargs);\n  }\n\n\n  if (selfClass.src_real_mp3 != 'fake') {\n\n  } else {\n    return false;\n  }\n\n\n  async function wavesurfer_renderPcm() {\n\n    function asyncRenderPcm(resolve, reject) {\n      // resolve(400);\n\n\n      // -- make sure we are generating only once\n      if (window.dzsap_generating_pcm) {\n        setTimeout(function () {\n          asyncRenderPcm(resolve, reject);\n        }, 1000);\n        return false;\n      }\n      window.dzsap_generating_pcm = true;\n\n\n      var wavesurferConId = 'wavesurfer_' + Math.ceil(Math.random() * 10000);\n      if (selfClass.identifier_pcm) {\n        wavesurferConId = 'wavesurfer_' + selfClass.identifier_pcm;\n      }\n      selfClass.cthis.append('<div id=\"' + wavesurferConId + '\" class=\"hidden\"></div>');\n\n      var wavesurfer = WaveSurfer.create({\n        container: '#' + wavesurferConId\n        , normalize: true\n        , pixelRatio: 1\n      });\n\n\n      // -- we will not generate for this\n      if (String(selfClass.cthis.attr('data-source')).indexOf('https://soundcloud.com') == 0 || selfClass.cthis.attr('data-source') == 'fake') {\n        return;\n      }\n      if (String(selfClass.cthis.attr('data-source')).indexOf('https://api.soundcloud.com') == 0) {\n      }\n\n\n      // console.log('[wavesurfer] selfClass.src_real_mp3 - ' + selfClass.src_real_mp3, selfClass.src_real_mp3);\n      try {\n        wavesurfer.load(selfClass.src_real_mp3);\n      } catch (err) {\n        console.log(\"[wavesurfer] WAVE SURFER NO LOAD\");\n      }\n\n\n      wavesurfer.on('ready', function () {\n        //            wavesurfer.play();\n        console.log('[dzsap] [wavesurfer] generating wave data for ', selfClass.identifier_pcm);\n\n        var accuracy = 100;\n        if (selfClass.$mediaNode_ && selfClass.$mediaNode_.duration && selfClass.$mediaNode_.duration > 1000) {\n          accuracy = 100;\n        }\n\n        // console.log(selfClass.$mediaNode_, selfClass.$mediaNode_.duration);\n\n        var ar_str = [];\n        if (wavesurfer && wavesurfer.exportPCM) {\n\n          ar_str = wavesurfer.exportPCM(o.wavesurfer_pcm_length, accuracy, true);\n        } else {\n          ar_str = dzsapHelpers.generateFakeArrayForPcm();\n        }\n\n\n        resolve({\n          resolve_type: 'success',\n          pcm_data: ar_str\n        })\n      });\n\n      wavesurfer.on('error', function (err, err2) {\n        reject({\n          error_type: 'wavesurfer_error',\n          error_message: err,\n        })\n      });\n\n\n      setTimeout(() => {\n\n        reject({\n          error_type: 'wavesurfer_timeout',\n          error_message: 'timeout',\n        })\n\n      }, dzsapConstants.WAVESURFER_MAX_TIMEOUT);\n    }\n\n    // -- end promise\n\n\n    let promise = new Promise((resolve, reject) => {\n      asyncRenderPcm(resolve, reject);\n    });\n\n    return promise;\n  }\n\n  wavesurfer_renderPcm().then(r => {\n    self.scrubModeWave__sendPcm(selfClass, r.pcm_data);\n    self.scrubModeWave__transitionIn(selfClass, r.pcm_data);\n  }).catch(err => {\n\n    var default_pcm = [];\n\n    for (var i3 = 0; i3 < 200; i3++) {\n      default_pcm[i3] = Math.abs(Number(Math.random()).toFixed(3));\n    }\n    default_pcm = JSON.stringify(default_pcm);\n\n    console.log('%c [dzsap] error while generating pcm - ', dzsapConstants.DEBUG_STYLE_ERROR, err, err.error_message)\n\n    self.scrubModeWave__sendPcm(selfClass, default_pcm);\n    self.scrubModeWave__transitionIn(selfClass, default_pcm);\n  });\n\n}\n\nexports.scrubModeWave__sendPcm = function (selfClass, ar_str) {\n  var $ = jQuery;\n\n\n  try {\n    // -- convert to absolute\n    ar_str = JSON.stringify(JSON.parse(String(ar_str)).map(Math.abs));\n  } catch (err) {\n    console.log(err, 'ar_str - ', ar_str);\n  }\n\n  selfClass.cthis.attr('data-pcm', ar_str);\n  if (selfClass._feed_fakeButton && selfClass._feed_fakeButton.attr) {\n    selfClass._feed_fakeButton.attr('data-pcm', ar_str);\n  }\n  if (selfClass._sourcePlayer && selfClass._sourcePlayer.attr) {\n    selfClass._sourcePlayer.attr('data-pcm', ar_str);\n  }\n\n\n  // console.log(\"which is fake player ? \", selfClass.cthis, selfClass._actualPlayer, _sourcePlayer);\n\n\n  selfClass.cthis.find('.pcm-notice').fadeOut(\"fast\");\n  selfClass.cthis.removeClass('errored-out');\n\n\n  // console.log('generating wave data for '+selfClass.cthis.attr('data-source'));\n  // console.log('%c selfClass.identifier_pcm before- ','color: #dd0022; background-color: #eee;', selfClass.identifier_pcm, selfClass.cthis);\n\n  if (!selfClass.identifier_pcm) {\n    selfClass.identifier_pcm = selfClass.cthis.attr('data-source');\n\n\n    if (selfClass.original_real_mp3) {\n      selfClass.identifier_pcm = selfClass.original_real_mp3;\n    }\n  }\n\n\n  // console.log('%c selfClass.identifier_pcm- ','color: #dd0022; background-color: #eee;', selfClass.identifier_pcm, selfClass.cthis);\n\n\n  var data = {\n    action: 'dzsap_submit_pcm'\n    , postdata: ar_str\n    , playerid: selfClass.identifier_pcm\n    , source: selfClass.cthis.attr('data-source')\n  };\n\n\n  window.dzsap_generating_pcm = false;\n\n\n  if (selfClass.urlToAjaxHandler) {\n\n\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n\n      }\n    });\n  }\n}\n\n\nexports.draw_canvas = draw_canvas;\n\n/**\n * draw canvas here\n * @param _arg\n * @param pcm_arr\n * @param hexcolor\n * @param pargs\n * @returns {boolean}\n */\nfunction draw_canvas(_arg, pcm_arr, hexcolor, pargs) {\n\n  var margs = {\n    'call_from': 'default',\n    'is_sample': false,\n    'selfClass': null,\n    'sample_time_start': 0,\n    'sample_time_end': 0,\n    'sample_time_total': 0,\n    'skinwave_wave_mode_canvas_waves_number': 2,\n    'skinwave_wave_mode_canvas_waves_padding': 1,\n  };\n\n  var $ = jQuery;\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n\n  var _canvas = $(_arg);\n  var __canvas = _arg;\n  var static_hexcolor = '';\n  var sw_draw = false;\n  var {is_sample, sample_time_start, sample_time_total, sample_time_end, selfClass, skinwave_wave_mode_canvas_waves_number, skinwave_wave_mode_canvas_waves_padding} = margs;\n\n  // -- sanitize\n  if (isNaN(Number(skinwave_wave_mode_canvas_waves_number))) {\n    skinwave_wave_mode_canvas_waves_number = 2;\n  }\n\n  if (isNaN(Number(skinwave_wave_mode_canvas_waves_padding))) {\n    if (skinwave_wave_mode_canvas_waves_number != 1) {\n      skinwave_wave_mode_canvas_waves_padding = 1;\n    } else {\n\n      skinwave_wave_mode_canvas_waves_padding = 0;\n    }\n  }\n\n  if (margs.call_from == 'canvas_normal_pcm_bg') {\n    static_hexcolor = hexcolor;\n\n    if (hexcolor.indexOf(',') > -1) {\n      static_hexcolor = hexcolor.split(',')[0];\n\n    }\n  }\n\n  if (selfClass) {\n    var o = selfClass.initOptions;\n  }\n  // console.log('o - ', o);\n\n\n  // console.log('[dzsap] draw_canvas() - ', margs, 'hexcolor - ', hexcolor, _canvas);\n  if (_canvas && _canvas.get(0)) {\n\n  } else {\n    return false;\n  }\n\n  var _canvasContext = _canvas.get(0).getContext(\"2d\");\n\n  var ar_str = pcm_arr;\n\n\n  var ar = [];\n  // console.log('selfClass - ', selfClass);\n  if (selfClass && selfClass._scrubbar) {\n    if (selfClass._scrubbarprog_canvas) {\n      selfClass._scrubbarprog_canvas.width(selfClass._scrubbar.width());\n      _arg.width = selfClass._scrubbar.width();\n      _arg.height = selfClass._scrubbar.height();\n    }\n  }\n  // ctx.translate(0.5, 0.5);\n  // ctx.lineWidth = .5;\n\n  _canvasContext.imageSmoothingEnabled = false;\n  _canvasContext.imageSmoothing = false;\n  _canvasContext.imageSmoothingQuality = \"high\";\n  _canvasContext.webkitImageSmoothing = false;\n\n  if (pcm_arr) {\n\n  } else {\n    setTimeout(function () {\n      // draw_canvas(_arg,pcm_arr,hexcolor);\n    }, 1000);\n    return false;\n  }\n\n  if (typeof (ar_str) == 'object') {\n    ar = ar_str;\n  } else {\n    try {\n\n      ar = JSON.parse(ar_str);\n    } catch (err) {\n      // console.error('parse error - ',ar_str, ar_str!='');\n    }\n  }\n\n\n  var i = 0,\n    max = 0;\n\n  // console.log(ar);\n\n  // -- normalizing\n  for (i = 0; i < ar.length; i++) {\n    if ((ar[i]) > max) {\n      max = (ar[i]);\n    }\n  }\n\n  var ar_new = [];\n  for (i = 0; i < ar.length; i++) {\n    ar_new[i] = parseFloat(Math.abs(ar[i]) / Number(max));\n  }\n\n  ar = ar_new;\n\n\n  var cww;\n  var chh;\n  var gradient = null;\n\n\n  if (selfClass) {\n\n    __canvas.width = selfClass._scrubbar.width();\n  }\n\n  cww = __canvas.width;\n  chh = __canvas.height;\n\n\n  var bar_len = skinwave_wave_mode_canvas_waves_number;\n  var bar_space = skinwave_wave_mode_canvas_waves_padding;\n\n  // console.log(bar_len);\n  if (bar_len == 1) {\n    bar_len = cww / bar_len;\n  }\n  if (bar_len == 2) {\n    bar_len = cww / 2;\n  }\n  if (bar_len == 3) {\n    bar_len = (cww) / 3;\n  }\n\n  // console.log('bar_len - ',bar_len);\n  // console.log('pcm_arr - ',pcm_arr);\n\n\n  var reflection_size = parseFloat(o.skinwave_wave_mode_canvas_reflection_size);\n\n  if (cww / bar_len < 1) {\n    bar_len = Math.ceil(bar_len / 3);\n\n  }\n\n\n  var bar_w = Math.ceil(cww / bar_len);\n  var normal_size_ratio = 1 - reflection_size;\n\n  // console.log(\"bar_w - \",bar_w);\n\n  if (bar_w == 0) {\n    bar_w = 1;\n    bar_space = 0;\n  }\n  if (bar_w == 1) {\n    bar_space = bar_space / 2;\n  }\n  // console.log('bar_w - ', bar_w, bar_space);\n\n\n  // console.log('chh - ', chh, ' normal_size_ratio - ', normal_size_ratio, 'ar - ', ar);\n  var lastval = 0;\n  var searched_index = null;\n\n\n  // -- left right gradient\n  var temp_hex = hexcolor;\n  temp_hex = temp_hex.replace('#', '');\n  var hexcolors = []; // -- hex colors array\n  if (temp_hex.indexOf(',') > -1) {\n    hexcolors = temp_hex.split(',');\n  }\n\n\n  var progress_hexcolor = '';\n  var progress_hexcolors = '';\n\n\n  if (margs.call_from == 'spectrum') {\n\n\n    progress_hexcolor = o.design_wave_color_progress;\n    progress_hexcolor = progress_hexcolor.replace('#', '');\n    progress_hexcolors = []; // -- hex colors array\n    if (progress_hexcolor.indexOf(',') > -1) {\n      progress_hexcolors = progress_hexcolor.split(',');\n\n    }\n  }\n\n\n  var is_progress = false; // -- color the bar in progress colors\n\n  // -- left right gradient END\n\n\n  /**\n   * draw with different color\n   * @param i\n   * @returns {boolean}\n   */\n  function sampleDetermineIfCurrentDrawIsBeforeOrAfterSample(i) {\n\n    if ((i / bar_len < sample_time_start / sample_time_total) || i / bar_len > sample_time_end / sample_time_total) {\n\n      _canvasContext.fillStyle = dzsapHelpers.hexToRgb(static_hexcolor, 0.5);\n\n      if (margs.call_from.indexOf('pcm_prog') > -1) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n\n\n  _canvasContext.clearRect(0, 0, cww, chh);\n  // console.log('bar_len - ', bar_len);\n  for (i = 0; i < bar_len; i++) {\n    sw_draw = true;\n    _canvasContext.save();\n\n    // console.log('ar[searched_index] - ', ar[searched_index]);\n    searched_index = Math.ceil(i * (ar.length / bar_len));\n\n    // -- we'll try to prevent\n    if (i < bar_len / 5) {\n      if (ar[searched_index] < 0.1) {\n        ar[searched_index] = 0.1;\n      }\n    }\n    if (ar.length > bar_len * 2.5 && i > 0 && i < ar.length - 1) {\n      ar[searched_index] = Math.abs(ar[searched_index] + ar[searched_index - 1] + ar[searched_index + 1]) / 3\n    }\n\n\n    // var barh = Math.abs(ar[searched_index] * chh);\n    var barh_normal = Math.abs(ar[searched_index] * chh * normal_size_ratio);\n\n    // -- let's try to normalize\n    if (o.skinwave_wave_mode_canvas_normalize == 'on') {\n      barh_normal = barh_normal / 1.5 + lastval / 2.5;\n    }\n    lastval = barh_normal;\n    // console.log('ar searched_index', ar[searched_index], 'barh - ',barh);\n\n    //            var barh =\n\n\n    _canvasContext.lineWidth = 0;\n\n    // console.log('bar w - ',bar_w);\n    // bar_w = parseInt(bar)\n\n    barh_normal = Math.floor(barh_normal);\n\n    // var y = chh * normal_size_ratio - barh_normal;\n    var y = Math.ceil(chh * normal_size_ratio - barh_normal);\n    if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n      barh_normal++;\n    }\n\n    _canvasContext.beginPath();\n    _canvasContext.rect(i * bar_w, y, bar_w - bar_space, barh_normal);\n\n    // console.log('[dzsap] [waveform] draw rect props - ', i * bar_w, bar_w - bar_space ,barh_normal, ' bar_w - ', bar_w, 'bar_space - ',bar_space);\n    // console.log('barh_normal - ', barh_normal, ' y - ', y);\n\n\n    if (margs.call_from == 'spectrum') {\n      if (i / bar_len < selfClass.timeCurrent / selfClass.timeTotal) {\n        is_progress = true;\n      } else {\n        is_progress = false;\n      }\n    }\n\n\n    if (is_progress) {\n      // -- only for spectrum\n      _canvasContext.fillStyle = '#' + progress_hexcolor;\n\n      if (progress_hexcolors.length) {\n        gradient = _canvasContext.createLinearGradient(0, 0, 0, chh);\n        gradient.addColorStop(0, '#' + progress_hexcolors[0]);\n        gradient.addColorStop(1, '#' + progress_hexcolors[1]);\n        _canvasContext.fillStyle = gradient;\n      }\n\n\n      if (is_sample) {\n        if ((i / bar_len < sample_time_start / sample_time_total) || i / bar_len > sample_time_end / sample_time_total) {\n          _canvasContext.fillStyle = dzsapHelpers.hexToRgb(static_hexcolor, 0);\n        }\n      }\n    } else {\n\n      // -- not progress\n\n      _canvasContext.fillStyle = hexcolor;\n\n      // -- if we have gradient\n      if (hexcolors.length) {\n        gradient = _canvasContext.createLinearGradient(0, 0, 0, chh);\n        hexcolors[0] = String(hexcolors[0]).replace('#', '');\n        hexcolors[1] = String(hexcolors[1]).replace('#', '');\n        gradient.addColorStop(0, '#' + hexcolors[0]);\n        gradient.addColorStop(1, '#' + hexcolors[1]);\n        _canvasContext.fillStyle = gradient;\n      }\n\n      // ctx.fillRect(20,20,150,100);\n      // console.log('ctx.fillStyle - ',ctx.fillStyle);\n\n      if (is_sample) {\n        if (sampleDetermineIfCurrentDrawIsBeforeOrAfterSample(i) === false) {\n          sw_draw = false;\n        }\n      }\n    }\n\n\n    if (sw_draw) {\n\n      // console.log('ctx.fillStyle - ',ctx.fillStyle);\n      _canvasContext.fill();\n      _canvasContext.closePath();\n    }\n\n\n    _canvasContext.restore();\n\n  }\n\n\n  // -- reflection\n  if (reflection_size > 0) {\n    for (var i = 0; i < bar_len; i++) {\n      sw_draw = true;\n      searched_index = Math.ceil(i * (ar.length / bar_len));\n\n\n      // console.log(searched_index);\n\n      var barh_ref = Math.abs(ar[searched_index] * chh * reflection_size);\n\n\n      _canvasContext.beginPath();\n      _canvasContext.rect(i * bar_w, chh * normal_size_ratio, bar_w - bar_space, barh_ref);\n\n      if (margs.call_from == 'spectrum') {\n        if (i / bar_len < selfClass.timeCurrent / selfClass.timeTotal) {\n          is_progress = true;\n        } else {\n          is_progress = false;\n        }\n      }\n\n      if (is_progress) {\n\n        // -- spectrum\n\n        if (o.skinwave_wave_mode_canvas_mode != 'reflecto') {\n\n          _canvasContext.fillStyle = dzsapHelpers.hexToRgb(progress_hexcolor, 0.25);\n        }\n\n\n        if (progress_hexcolors.length) {\n          var gradient = _canvasContext.createLinearGradient(0, 0, 0, chh);\n          var aux = dzsapHelpers.hexToRgb('#' + progress_hexcolors[1], 0.25);\n          if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n            aux = dzsapHelpers.hexToRgb('#' + progress_hexcolors[1], 1);\n          }\n          gradient.addColorStop(0, aux);\n          aux = dzsapHelpers.hexToRgb('#' + progress_hexcolors[0], 0.25);\n          if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n            aux = dzsapHelpers.hexToRgb('#' + progress_hexcolors[0], 1);\n          }\n          gradient.addColorStop(1, aux);\n          _canvasContext.fillStyle = gradient;\n        }\n      } else {\n\n        if (margs.call_from == 'canvas_normal_pcm_prog') {\n          // console.log('hexcolor -> ',hexcolor);\n        }\n\n        _canvasContext.fillStyle = hexcolor;\n\n        // -- we make this trapsnarent\n        if (o.skinwave_wave_mode_canvas_mode != 'reflecto') {\n\n          _canvasContext.fillStyle = dzsapHelpers.hexToRgb(hexcolor, 0.25);\n        }\n\n\n        if (hexcolors.length) {\n          var gradient = _canvasContext.createLinearGradient(0, 0, 0, chh);\n          var aux = dzsapHelpers.hexToRgb('#' + hexcolors[1], 0.25);\n          if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n            aux = dzsapHelpers.hexToRgb('#' + hexcolors[1], 1);\n          }\n          gradient.addColorStop(0, aux);\n          aux = dzsapHelpers.hexToRgb('#' + hexcolors[0], 0.25);\n          if (o.skinwave_wave_mode_canvas_mode == 'reflecto') {\n            aux = dzsapHelpers.hexToRgb('#' + hexcolors[0], 1);\n          }\n          gradient.addColorStop(1, aux);\n          _canvasContext.fillStyle = gradient;\n        }\n\n\n        if (is_sample) {\n          if (sampleDetermineIfCurrentDrawIsBeforeOrAfterSample(i) === false) {\n            sw_draw = false;\n          }\n        }\n      }\n\n\n      if (sw_draw) {\n        _canvasContext.fill();\n        _canvasContext.closePath();\n      }\n\n    }\n  }\n\n  setTimeout(function () {\n    selfClass.scrubbar_reveal();\n  }, 100)\n}\n","\nconst dzsapHelpers = require('../_dzsap_helpers');\n\nexports.media_tryToPlay = function(selfClass, callbackFn, errorFn){\n  async function async_media_tryToPlay() {\n    function tryToPlay(resolve, reject) {\n      if (selfClass.cthis.attr('data-original-type')) {\n        // -- then this player is feeding\n      } else {\n\n        // -- no audioCtx_buffer\n        if (selfClass.$mediaNode_) {\n          if (selfClass.$mediaNode_.play) {\n\n\n            if (dzsapHelpers.is_ios() && selfClass.spectrum_audioContext !== null && typeof selfClass.spectrum_audioContext == 'object') {\n              // todo: ios not playing nice.. with audio context\n              // console.log('selfClass.spectrum_audioContext - ', typeof selfClass.spectrum_audioContext, selfClass.spectrum_audioContext);\n              selfClass.spectrum_audioContextBufferSource = selfClass.spectrum_audioContext.createBufferSource();\n              selfClass.spectrum_audioContextBufferSource.buffer = selfClass.spectrum_audioContext_buffer;\n              selfClass.spectrum_audioContextBufferSource.connect(selfClass.spectrum_audioContext.destination);\n              // selfClass.spectrum_audioContextBufferSource.connect(selfClass.spectrum_analyser)\n              selfClass.spectrum_audioContextBufferSource.start(0, selfClass.lastTimeInSeconds);\n              resolve({\n                'resolve_type': 'playing_context'\n              })\n            } else {\n\n              selfClass.$mediaNode_.play().then(r => {\n                resolve({\n                  'resolve_type': 'started_playing'\n                })\n              }).catch(err => {\n                reject({\n                  'error_type': 'did not want to play',\n                  'error_message': err\n                });\n              });\n            }\n          } else {\n            if (selfClass._actualPlayer == null) {\n              selfClass.isPlayPromised = true;\n            }\n\n          }\n        } else {\n          if (selfClass._actualPlayer == null) {\n            selfClass.isPlayPromised = true;\n          }\n        }\n\n\n      }\n\n    }\n\n    return new Promise((resolve, reject) => {\n\n      tryToPlay(resolve, reject);\n\n    })\n  }\n\n  async_media_tryToPlay().then((r)=>{\n    callbackFn(r);\n  }).catch((err)=>{\n\n    errorFn(err);\n  })\n\n}\n\n\n\n\n\n\nexports.media_pause = function(selfClass, callbackFn){\n\n  var $ = jQuery;\n\n\n\n  if (selfClass.audioType == 'youtube') {\n\n    // console.log('trying to pause youtube video, ',selfClass.$mediaNode_);\n    if (selfClass.$mediaNode_ && selfClass.$mediaNode_.pauseVideo) {\n      selfClass.$mediaNode_.pauseVideo();\n    }\n  }\n  if (selfClass.audioType == 'selfHosted') {\n\n    if (0) {\n    } else {\n      if (selfClass.$mediaNode_) {\n\n        if (selfClass.initOptions.pause_method == 'stop') {\n\n          selfClass.$mediaNode_.pause();\n          selfClass.$mediaNode_.src = '';\n\n\n          selfClass.destroy$mediaNode_();\n          $(selfClass.$mediaNode_).remove();\n          selfClass.$mediaNode_ = null;\n        } else {\n\n          if (selfClass.$mediaNode_.pause) {\n            selfClass.$mediaNode_.pause();\n          }\n        }\n      }\n      if (selfClass.$watermarkMedia_ && selfClass.$watermarkMedia_.pause) {\n        selfClass.$watermarkMedia_.pause();\n\n      }\n\n    }\n\n\n  }\n\n  callbackFn();\n\n}\n\n","var default_opts = {\n  design_skin: 'skin-default',  // -- the skin of the player - can be set from the html as well,autoplay: 'off' // -- autoplay the track ( only works is cue is set to \"on\"\n  call_from: 'default', // -- call from a specific api\n  autoplay_on_scrub_click: 'off',  // -- autoplay the track ( only works is cue is set to \"on\"\n   cue: 'on', // -- this chooses wheter \"on\" or not \"off\" a part .. what part is decided by the preload_method below\n  preload_method: 'metadata',  // -- \"none\" or \"metadata\" or \"auto\" ( whole track )\n  loop: 'off',  // -- loop the track\n  pause_method: 'pause',  // -- loop the track\n  settings_extrahtml: '',  // -- some extra html - can be rates, plays, likes\n  settings_extrahtml_after_artist: '',  // -- some extra html after the artist name\n  settings_extrahtml_in_float_left: '' // -- some extra html that you may want to add inside the player, to the right\n  , settings_extrahtml_in_float_right: '' // -- some extra html that you may want to add inside the player, to the right -- .extra-html-in-controls-right\n  , settings_extrahtml_before_play_pause: '' // -- some extra html that you may want before play button\n  , settings_extrahtml_after_play_pause: '' // -- some extra html that you may want after play button\n  , settings_trigger_resize: '0' // -- check the player dimensions every x milli seconds\n  , design_thumbh: \"default\" // -- thumbnail size\n  , extra_classes_player: '',\n  disable_volume: 'default',\n  disable_scrub: 'default'\n  , disable_timer: 'default' // -- disable timer display\n  , disable_player_navigation: 'off'\n  , scrub_show_scrub_time: 'on'\n  , player_navigation: 'default' // -- auto decide if we need player navigation\n  , type: 'audio'\n  , enable_embed_button: 'off' // -- enable the embed button\n  , embed_code: '' // -- embed code\n  , skinwave_dynamicwaves: 'off' // -- dynamic scale based on volume for no spectrum wave\n  , soundcloud_apikey: '',  // -- set the sound cloud api key\n  skinwave_enableSpectrum: 'off' // -- off or on\n  , skinwave_place_thumb_after_volume: 'off' // -- place the thumbnail after volume button\n  , skinwave_place_metaartist_after_volume: 'off' // -- place metaartist after volume button\n  , skinwave_spectrummultiplier: '1' // -- (deprecated) number\n  , settings_php_handler: '' // -- the path of the publisher.php file, this is used to handle comments, likes etc.\n  , php_retriever: 'soundcloudretriever.php' // -- the soundcloud php file used to render soundcloud files\n  , skinwave_mode: 'normal' // -- \"normal\" or \"small\" or \"alternate\"\n  , skinwave_wave_mode: 'canvas' // -- \"normal\" or \"canvas\" or \"line\"\n  , skinwave_wave_mode_canvas_mode: 'normal' // -- \"normal\" or \"reflecto\"\n  , skinwave_wave_mode_canvas_normalize: 'on' // -- normalize wave to look more natural\n\n  // -- wave settings\n  , skinwave_wave_mode_canvas_waves_number: '3' // -- the number of waves in the canvas ( \"1\" pixel waves, \"2\" 2 pixel width waves, \"3\" 3 pixel width waves, \"anything more then 3\" means number of waves in the container, for example 100 means 100 waves in 1000px container if the container is 1000px width )\n  , skinwave_wave_mode_canvas_waves_padding: '1' // -- padding between waves ( \"1\" 1 pixel between < - > \"0\" no reflection )\n  , skinwave_wave_mode_canvas_reflection_size: '0.25' // -- the reflection size ( \"1\" full size < - > \"0\" no reflection )\n  , wavesurfer_pcm_length: '200' // -- define the precision of the wave generation; higher is more precise, but occupies more space\n\n  , pcm_data_try_to_generate: 'on' // -- try to find out the pcm data and sent it via ajax ( maybe send it via php_handler\n  , pcm_data_try_to_generate_wait_for_real_pcm: 'on' // -- if set to on, the fake pcm data will not be generated\n  , pcm_notice: 'off' // -- show a notice for pcm\n  , notice_no_media: 'on' // -- show a notice for when the media errors out\n\n  , skinwave_comments_links_to: '' // -- clicking the comments bar will lead to this link ( optional )\n  , skinwave_comments_enable: 'off' // -- enable the comments, publisher.php must be in the same folder as this html\n  // ,skinwave_comments_mode: 'inner-field' // -- inner-field or outer-field ( no use right now )\n  , skinwave_comments_mode_outer_selector: '' // -- the outer selector if it has one\n  , skinwave_comments_playerid: '',\n  skinwave_comments_account: 'none',\n  skinwave_comments_process_in_php: 'on' // -- select wheter the comment text should be processed in javascript \"off\" / or in php, later \"on\"\n  , mobile_delete: \"off\" // -- delete the whole player on mobile, useful for unwanted footer players in mobile\n  , footer_btn_playlist: \"off\" // -- disable feeding to other players on mobile\n  , mobile_disable_fakeplayer: \"off\" // -- disable feeding to other players on mobile\n  , skinwave_comments_retrievefromajax: 'off' // -- retrieve the comment form ajax\n  , skinwave_preloader_code: 'default' // -- retrieve the comment form ajax\n  , skinwave_comments_displayontime: 'on' // -- display the comment when the scrub header is over it\n  , skinwave_comments_avatar: 'http://www.gravatar.com/avatar/00000000000000000000000000000000?s=20' // -- default image\n  , skinwave_comments_allow_post_if_not_logged_in: 'on' // -- allow posting in comments section if not looged in, to be logged in, skinwave_comments_account must be an account id\n\n  , skinwave_timer_static: 'off' // -- Timer indicators are static\n  , default_volume: 'default' // -- number / set the default volume 0-1 or \"last\" for the last known volume\n  , volume_from_gallery: '' // -- the volume set from the gallery item select, leave blank if the player is not called from the gallery\n  , design_menu_show_player_state_button: 'off', // -- show a button that allows to hide or show the menu\n  playfrom: 'off',  // -- off or specific number of settings or set to \"last\"\n  design_animateplaypause: 'default'\n  , embedded: 'off' // // -- if embedded in a iframe\n  , embedded_iframe_id: '' // // -- if embedded in a iframe, specify the iframe id here\n  , sample_time_start: '' // -- if this is a sample to a complete song, you can write here start times, if not, leave to 0.\n  , sample_time_end: '' // -- if this is a sample to a complete song, you can write here start times, if not, leave to 0.\n  , sample_time_total: '' // -- if this is a sample to a complete song, you can write here start times, if not, leave to 0.\n  ,\n  google_analytics_send_play_event: 'off' // -- send the play event to google analytics, you need to have google analytics script already on your page\n  , fakeplayer: null // -- if this is a fake player, it will feed\n  , failsafe_repair_media_element: '' // -- some scripts might effect the media element used by zoomsounds, this is how we replace the media element in a certain time\n  , action_audio_play: null // -- set a outer play function ( for example for tracking your analytics )\n  , action_audio_play2: null // -- set a outer play function ( for example for tracking your analytics )\n  , action_audio_pause: null // -- set a outer play function ( for example for tracking your analytics )\n  , action_audio_end: null // -- set a outer ended function ( for example for tracking your analytics )\n  , action_audio_comment: null // -- set a outer commented function ( for example for tracking your analytics )\n  , action_received_time_total: null // -- event triggers at receiving time total\n  , action_audio_change_media: null,  // -- set a outer on change track function\n  action_audio_loaded_metadata: null,  // -- set a outer commented function ( for example for tracking your analytics )\n  action_video_contor_60secs: null,  // -- fire every 30s\n  type_audio_stop_buffer_on_unfocus: 'off',  // -- if set to on, when the audio player goes out of focus, it will unbuffer the file so that it will not load anymore, useful if you want to stop buffer on large files\n  construct_player_list_for_sync: 'off',  // -- construct a player list from the page that features single players playing one after another. searches for the .is-single-player class in the DOM\n\n\n  settings_exclude_from_list: 'off',  // -- a audioplayer list is formed at runtime so that when\n  design_wave_color_bg: '222222',  // -- waveform background color..  000000,ffffff gradient is allowed\n  design_wave_color_progress: 'ea8c52', // -- waveform progress color\n\n\n   skin_minimal_button_size: '100',\n   gallery_gapless_play: 'off', // -- play without pause\n   preview_on_hover: 'off',  // -- on mouseenter autoplay the track\n  watermark_volume: '1',  // -- on mouseenter autoplay the track\n  controls_external_scrubbar: '',  // -- on mouseenter autoplay the track\n  parentgallery: null, // -- the parent gallery of the player\n  scrubbar_type: 'auto' // -- wave or spectrum or bar\n};\nexports.default_opts = default_opts;\n\n// settings_extrahtml -- for plays use <div class=\"dzsap-counter counter-hits\"><i class=\"fa fa-play\"></i><span class=\"the-number\">{{get_plays}}</span></div>\n"],"sourceRoot":""}